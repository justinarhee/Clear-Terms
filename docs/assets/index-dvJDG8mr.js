var Rv=o=>{throw TypeError(o)};var ld=(o,t,n)=>t.has(o)||Rv("Cannot "+n);var Un=(o,t,n)=>(ld(o,t,"read from private field"),n?n.call(o):t.get(o)),Ua=(o,t,n)=>t.has(o)?Rv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,n),ol=(o,t,n,s)=>(ld(o,t,"write to private field"),s?s.call(o,n):t.set(o,n),n),$o=(o,t,n)=>(ld(o,t,"access private method"),n);var Mv=(o,t,n,s)=>({set _(r){ol(o,t,r,n)},get _(){return Un(o,t,s)}});function xE(o,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in o)){const l=Object.getOwnPropertyDescriptor(s,r);l&&Object.defineProperty(o,r,l.get?l:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function cr(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function wE(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var t=o.default;if(typeof t=="function"){var n=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(s){var r=Object.getOwnPropertyDescriptor(o,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return o[s]}})}),n}var od={exports:{}},cl={};var Ov;function TE(){if(Ov)return cl;Ov=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,l){var u=null;if(l!==void 0&&(u=""+l),r.key!==void 0&&(u=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:o,type:s,key:u,ref:r!==void 0?r:null,props:l}}return cl.Fragment=t,cl.jsx=n,cl.jsxs=n,cl}var Dv;function kn(){return Dv||(Dv=1,od.exports=TE()),od.exports}var x=kn(),cd={exports:{}},At={};var Lv;function CE(){if(Lv)return At;Lv=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(D,q,$){this.props=D,this.context=q,this.refs=S,this.updater=$||A}T.prototype.isReactComponent={},T.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=T.prototype;function C(D,q,$){this.props=D,this.context=q,this.refs=S,this.updater=$||A}var O=C.prototype=new R;O.constructor=C,E(O,T.prototype),O.isPureReactComponent=!0;var z=Array.isArray;function k(){}var H={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function G(D,q,$){var J=$.ref;return{$$typeof:o,type:D,key:q,ref:J!==void 0?J:null,props:$}}function tt(D,q){return G(D.type,q,D.props)}function Z(D){return typeof D=="object"&&D!==null&&D.$$typeof===o}function et(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function($){return q[$]})}var nt=/\/+/g;function dt(D,q){return typeof D=="object"&&D!==null&&D.key!=null?et(""+D.key):q.toString(36)}function ot(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(q){D.status==="pending"&&(D.status="fulfilled",D.value=q)},function(q){D.status==="pending"&&(D.status="rejected",D.reason=q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function j(D,q,$,J,st){var rt=typeof D;(rt==="undefined"||rt==="boolean")&&(D=null);var at=!1;if(D===null)at=!0;else switch(rt){case"bigint":case"string":case"number":at=!0;break;case"object":switch(D.$$typeof){case o:case t:at=!0;break;case g:return at=D._init,j(at(D._payload),q,$,J,st)}}if(at)return st=st(D),at=J===""?"."+dt(D,0):J,z(st)?($="",at!=null&&($=at.replace(nt,"$&/")+"/"),j(st,q,$,"",function(ve){return ve})):st!=null&&(Z(st)&&(st=tt(st,$+(st.key==null||D&&D.key===st.key?"":(""+st.key).replace(nt,"$&/")+"/")+at)),q.push(st)),1;at=0;var kt=J===""?".":J+":";if(z(D))for(var vt=0;vt<D.length;vt++)J=D[vt],rt=kt+dt(J,vt),at+=j(J,q,$,rt,st);else if(vt=_(D),typeof vt=="function")for(D=vt.call(D),vt=0;!(J=D.next()).done;)J=J.value,rt=kt+dt(J,vt++),at+=j(J,q,$,rt,st);else if(rt==="object"){if(typeof D.then=="function")return j(ot(D),q,$,J,st);throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return at}function F(D,q,$){if(D==null)return D;var J=[],st=0;return j(D,J,"","",function(rt){return q.call($,rt,st++)}),J}function X(D){if(D._status===-1){var q=D._result;q=q(),q.then(function($){(D._status===0||D._status===-1)&&(D._status=1,D._result=$)},function($){(D._status===0||D._status===-1)&&(D._status=2,D._result=$)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var it=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},lt={map:F,forEach:function(D,q,$){F(D,function(){q.apply(this,arguments)},$)},count:function(D){var q=0;return F(D,function(){q++}),q},toArray:function(D){return F(D,function(q){return q})||[]},only:function(D){if(!Z(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return At.Activity=v,At.Children=lt,At.Component=T,At.Fragment=n,At.Profiler=r,At.PureComponent=C,At.StrictMode=s,At.Suspense=d,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return H.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(D,q,$){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=E({},D.props),st=D.key;if(q!=null)for(rt in q.key!==void 0&&(st=""+q.key),q)!K.call(q,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&q.ref===void 0||(J[rt]=q[rt]);var rt=arguments.length-2;if(rt===1)J.children=$;else if(1<rt){for(var at=Array(rt),kt=0;kt<rt;kt++)at[kt]=arguments[kt+2];J.children=at}return G(D.type,st,J)},At.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},At.createElement=function(D,q,$){var J,st={},rt=null;if(q!=null)for(J in q.key!==void 0&&(rt=""+q.key),q)K.call(q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(st[J]=q[J]);var at=arguments.length-2;if(at===1)st.children=$;else if(1<at){for(var kt=Array(at),vt=0;vt<at;vt++)kt[vt]=arguments[vt+2];st.children=kt}if(D&&D.defaultProps)for(J in at=D.defaultProps,at)st[J]===void 0&&(st[J]=at[J]);return G(D,rt,st)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:h,render:D}},At.isValidElement=Z,At.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:X}},At.memo=function(D,q){return{$$typeof:p,type:D,compare:q===void 0?null:q}},At.startTransition=function(D){var q=H.T,$={};H.T=$;try{var J=D(),st=H.S;st!==null&&st($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(k,it)}catch(rt){it(rt)}finally{q!==null&&$.types!==null&&(q.types=$.types),H.T=q}},At.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},At.use=function(D){return H.H.use(D)},At.useActionState=function(D,q,$){return H.H.useActionState(D,q,$)},At.useCallback=function(D,q){return H.H.useCallback(D,q)},At.useContext=function(D){return H.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,q){return H.H.useDeferredValue(D,q)},At.useEffect=function(D,q){return H.H.useEffect(D,q)},At.useEffectEvent=function(D){return H.H.useEffectEvent(D)},At.useId=function(){return H.H.useId()},At.useImperativeHandle=function(D,q,$){return H.H.useImperativeHandle(D,q,$)},At.useInsertionEffect=function(D,q){return H.H.useInsertionEffect(D,q)},At.useLayoutEffect=function(D,q){return H.H.useLayoutEffect(D,q)},At.useMemo=function(D,q){return H.H.useMemo(D,q)},At.useOptimistic=function(D,q){return H.H.useOptimistic(D,q)},At.useReducer=function(D,q,$){return H.H.useReducer(D,q,$)},At.useRef=function(D){return H.H.useRef(D)},At.useState=function(D){return H.H.useState(D)},At.useSyncExternalStore=function(D,q,$){return H.H.useSyncExternalStore(D,q,$)},At.useTransition=function(){return H.H.useTransition()},At.version="19.2.0",At}var Nv;function xe(){return Nv||(Nv=1,cd.exports=CE()),cd.exports}var M=xe();const ii=cr(M),RE=xE({__proto__:null,default:ii},[M]);var ud={exports:{}},ul={},hd={exports:{}},dd={};var jv;function ME(){return jv||(jv=1,(function(o){function t(j,F){var X=j.length;j.push(F);t:for(;0<X;){var it=X-1>>>1,lt=j[it];if(0<r(lt,F))j[it]=F,j[X]=lt,X=it;else break t}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var F=j[0],X=j.pop();if(X!==F){j[0]=X;t:for(var it=0,lt=j.length,D=lt>>>1;it<D;){var q=2*(it+1)-1,$=j[q],J=q+1,st=j[J];if(0>r($,X))J<lt&&0>r(st,$)?(j[it]=st,j[J]=X,it=J):(j[it]=$,j[q]=X,it=q);else if(J<lt&&0>r(st,X))j[it]=st,j[J]=X,it=J;else break t}}return F}function r(j,F){var X=j.sortIndex-F.sortIndex;return X!==0?X:j.id-F.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();o.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,v=null,y=3,_=!1,A=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var F=n(p);F!==null;){if(F.callback===null)s(p);else if(F.startTime<=j)s(p),F.sortIndex=F.expirationTime,t(d,F);else break;F=n(p)}}function z(j){if(E=!1,O(j),!A)if(n(d)!==null)A=!0,k||(k=!0,et());else{var F=n(p);F!==null&&ot(z,F.startTime-j)}}var k=!1,H=-1,K=5,G=-1;function tt(){return S?!0:!(o.unstable_now()-G<K)}function Z(){if(S=!1,k){var j=o.unstable_now();G=j;var F=!0;try{t:{A=!1,E&&(E=!1,R(H),H=-1),_=!0;var X=y;try{e:{for(O(j),v=n(d);v!==null&&!(v.expirationTime>j&&tt());){var it=v.callback;if(typeof it=="function"){v.callback=null,y=v.priorityLevel;var lt=it(v.expirationTime<=j);if(j=o.unstable_now(),typeof lt=="function"){v.callback=lt,O(j),F=!0;break e}v===n(d)&&s(d),O(j)}else s(d);v=n(d)}if(v!==null)F=!0;else{var D=n(p);D!==null&&ot(z,D.startTime-j),F=!1}}break t}finally{v=null,y=X,_=!1}F=void 0}}finally{F?et():k=!1}}}var et;if(typeof C=="function")et=function(){C(Z)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,dt=nt.port2;nt.port1.onmessage=Z,et=function(){dt.postMessage(null)}}else et=function(){T(Z,0)};function ot(j,F){H=T(function(){j(o.unstable_now())},F)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(j){j.callback=null},o.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},o.unstable_getCurrentPriorityLevel=function(){return y},o.unstable_next=function(j){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var X=y;y=F;try{return j()}finally{y=X}},o.unstable_requestPaint=function(){S=!0},o.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=y;y=j;try{return F()}finally{y=X}},o.unstable_scheduleCallback=function(j,F,X){var it=o.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?it+X:it):X=it,j){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=X+lt,j={id:g++,callback:F,priorityLevel:j,startTime:X,expirationTime:lt,sortIndex:-1},X>it?(j.sortIndex=X,t(p,j),n(d)===null&&j===n(p)&&(E?(R(H),H=-1):E=!0,ot(z,X-it))):(j.sortIndex=lt,t(d,j),A||_||(A=!0,k||(k=!0,et()))),j},o.unstable_shouldYield=tt,o.unstable_wrapCallback=function(j){var F=y;return function(){var X=y;y=F;try{return j.apply(this,arguments)}finally{y=X}}}})(dd)),dd}var kv;function OE(){return kv||(kv=1,hd.exports=ME()),hd.exports}var fd={exports:{}},He={};var Pv;function DE(){if(Pv)return He;Pv=1;var o=xe();function t(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(d,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:d,containerInfo:p,implementation:g}}var u=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,He.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(d,p,null,g)},He.flushSync=function(d){var p=u.T,g=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=g,s.d.f()}},He.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},He.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},He.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:_}):g==="script"&&s.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},He.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},He.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin);s.d.L(d,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},He.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},He.requestFormReset=function(d){s.d.r(d)},He.unstable_batchedUpdates=function(d,p){return d(p)},He.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},He.useFormStatus=function(){return u.H.useHostTransitionStatus()},He.version="19.2.0",He}var Fv;function fb(){if(Fv)return fd.exports;Fv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),fd.exports=DE(),fd.exports}var zv;function LE(){if(zv)return ul;zv=1;var o=OE(),t=xe(),n=fb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function u(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=l(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return d(f),e;if(m===c)return d(f),i;m=m.sibling}throw Error(s(188))}if(a.return!==c.return)a=f,c=m;else{for(var b=!1,w=f.child;w;){if(w===a){b=!0,a=f,c=m;break}if(w===c){b=!0,c=f,a=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===a){b=!0,a=m,c=f;break}if(w===c){b=!0,c=m,a=f;break}w=w.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function et(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case k:return"SuspenseList";case G:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case C:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case O:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return i=e.displayName||null,i!==null?i:dt(e.type)||"Memo";case K:i=e._payload,e=e._init;try{return dt(e(i))}catch{}}return null}var ot=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},it=[],lt=-1;function D(e){return{current:e}}function q(e){0>lt||(e.current=it[lt],it[lt]=null,lt--)}function $(e,i){lt++,it[lt]=e.current,e.current=i}var J=D(null),st=D(null),rt=D(null),at=D(null);function kt(e,i){switch($(rt,i),$(st,e),$(J,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Qm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Qm(i),e=Zm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(J),$(J,e)}function vt(){q(J),q(st),q(rt)}function ve(e){e.memoizedState!==null&&$(at,e);var i=J.current,a=Zm(i,e.type);i!==a&&($(st,e),$(J,a))}function Ge(e){st.current===e&&(q(J),q(st)),at.current===e&&(q(at),sl._currentValue=X)}var Ce,rn;function Qt(e){if(Ce===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ce=i&&i[1]||"",rn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+e+rn}var St=!1;function ke(e,i){if(!e||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(V){var U=V}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(V){U=V}e.call(Q.prototype)}}else{try{throw Error()}catch(V){U=V}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(V){if(V&&U&&typeof V.stack=="string")return[V.stack,U.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var L=b.split(`
`),B=w.split(`
`);for(f=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(c===L.length||f===B.length)for(c=L.length-1,f=B.length-1;1<=c&&0<=f&&L[c]!==B[f];)f--;for(;1<=c&&0<=f;c--,f--)if(L[c]!==B[f]){if(c!==1||f!==1)do if(c--,f--,0>f||L[c]!==B[f]){var Y=`
`+L[c].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=c&&0<=f);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Qt(a):""}function Pe(e,i){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==i&&i!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return Qt("Activity");default:return""}}function Pn(e){try{var i="",a=null;do i+=Pe(e,a),a=e,e=e.return;while(e);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ue=Object.prototype.hasOwnProperty,Yn=o.unstable_scheduleCallback,vn=o.unstable_cancelCallback,Fn=o.unstable_shouldYield,ai=o.unstable_requestPaint,ne=o.unstable_now,Hi=o.unstable_getCurrentPriorityLevel,ri=o.unstable_ImmediatePriority,ws=o.unstable_UserBlockingPriority,Ii=o.unstable_NormalPriority,$n=o.unstable_LowPriority,Yt=o.unstable_IdlePriority,Ts=o.log,Bi=o.unstable_setDisableYieldValue,ye=null,Zt=null;function Re(e){if(typeof Ts=="function"&&Bi(e),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(ye,e)}catch{}}var Vt=Math.clz32?Math.clz32:Ve,vr=Math.log,be=Math.LN2;function Ve(e){return e>>>=0,e===0?32:31-(vr(e)/be|0)|0}var Fe=256,ze=262144,zn=4194304;function ln(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ia(e,i,a){var c=e.pendingLanes;if(c===0)return 0;var f=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=c&134217727;return w!==0?(c=w&~m,c!==0?f=ln(c):(b&=w,b!==0?f=ln(b):a||(a=w&~e,a!==0&&(f=ln(a))))):(w=c&~m,w!==0?f=ln(w):b!==0?f=ln(b):a||(a=c&~e,a!==0&&(f=ln(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function Cs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Kc(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(){var e=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),e}function Ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Kn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function yr(e,i,a,c,f,m){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,L=e.expirationTimes,B=e.hiddenUpdates;for(a=b&~a;0<a;){var Y=31-Vt(a),Q=1<<Y;w[Y]=0,L[Y]=-1;var U=B[Y];if(U!==null)for(B[Y]=null,Y=0;Y<U.length;Y++){var V=U[Y];V!==null&&(V.lane&=-536870913)}a&=~Q}c!==0&&Nf(e,c,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~i))}function Nf(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var c=31-Vt(i);e.entangledLanes|=i,e.entanglements[c]=e.entanglements[c]|1073741824|a&261930}function jf(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Vt(a),f=1<<c;f&i|e[c]&i&&(e[c]|=i),a&=~f}}function kf(e,i){var a=i&-i;return a=(a&42)!==0?1:Wc(a),(a&(e.suspendedLanes|i))!==0?0:a}function Wc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pf(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Av(e.type))}function Ff(e,i){var a=F.p;try{return F.p=e,i()}finally{F.p=a}}var qi=Math.random().toString(36).slice(2),Me="__reactFiber$"+qi,Ke="__reactProps$"+qi,sa="__reactContainer$"+qi,Zc="__reactEvents$"+qi,f_="__reactListeners$"+qi,p_="__reactHandles$"+qi,zf="__reactResources$"+qi,br="__reactMarker$"+qi;function Jc(e){delete e[Me],delete e[Ke],delete e[Zc],delete e[f_],delete e[p_]}function aa(e){var i=e[Me];if(i)return i;for(var a=e.parentNode;a;){if(i=a[sa]||a[Me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=av(e);e!==null;){if(a=e[Me])return a;e=av(e)}return i}e=a,a=e.parentNode}return null}function ra(e){if(e=e[Me]||e[sa]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _r(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function la(e){var i=e[zf];return i||(i=e[zf]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function we(e){e[br]=!0}var Hf=new Set,If={};function Rs(e,i){oa(e,i),oa(e+"Capture",i)}function oa(e,i){for(If[e]=i,e=0;e<i.length;e++)Hf.add(i[e])}var g_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bf={},Uf={};function m_(e){return ue.call(Uf,e)?!0:ue.call(Bf,e)?!1:g_.test(e)?Uf[e]=!0:(Bf[e]=!0,!1)}function kl(e,i,a){if(m_(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Pl(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function oi(e,i,a,c){if(c===null)e.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+c)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qf(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function v_(e,i,a){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,m=c.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(b){a=""+b,m.call(this,b)}}),Object.defineProperty(e,i,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function tu(e){if(!e._valueTracker){var i=qf(e)?"checked":"value";e._valueTracker=v_(e,i,""+e[i])}}function Gf(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=qf(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var y_=/[\n"\\]/g;function bn(e){return e.replace(y_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function eu(e,i,a,c,f,m,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+yn(i)):e.value!==""+yn(i)&&(e.value=""+yn(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?nu(e,b,yn(i)):a!=null?nu(e,b,yn(a)):c!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+yn(w):e.removeAttribute("name")}function Vf(e,i,a,c,f,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){tu(e);return}a=a!=null?""+yn(a):"",i=i!=null?""+yn(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=w?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),tu(e)}function nu(e,i,a){i==="number"&&Fl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ca(e,i,a,c){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&c&&(e[a].defaultSelected=!0)}else{for(a=""+yn(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Xf(e,i,a){if(i!=null&&(i=""+yn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+yn(a):""}function Yf(e,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(s(92));if(ot(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=yn(i),e.defaultValue=a,c=e.textContent,c===a&&c!==""&&c!==null&&(e.value=c),tu(e)}function ua(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var b_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $f(e,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":c?e.setProperty(i,a):typeof a!="number"||a===0||b_.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Kf(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&a[f]!==c&&$f(e,f,c)}else for(var m in i)i.hasOwnProperty(m)&&$f(e,m,i[m])}function iu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var __=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zl(e){return A_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ci(){}var su=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ha=null,da=null;function Wf(e){var i=ra(e);if(i&&(e=i.stateNode)){var a=e[Ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(eu(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var f=c[Ke]||null;if(!f)throw Error(s(90));eu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===e.form&&Gf(c)}break t;case"textarea":Xf(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ca(e,!!a.multiple,i,!1)}}}var ru=!1;function Qf(e,i,a){if(ru)return e(i,a);ru=!0;try{var c=e(i);return c}finally{if(ru=!1,(ha!==null||da!==null)&&(To(),ha&&(i=ha,e=da,da=ha=null,Wf(i),e)))for(i=0;i<e.length;i++)Wf(e[i])}}function Ar(e,i){var a=e.stateNode;if(a===null)return null;var c=a[Ke]||null;if(c===null)return null;a=c[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=!1;if(ui)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){lu=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{lu=!1}var Gi=null,ou=null,Hl=null;function Zf(){if(Hl)return Hl;var e,i=ou,a=i.length,c,f="value"in Gi?Gi.value:Gi.textContent,m=f.length;for(e=0;e<a&&i[e]===f[e];e++);var b=a-e;for(c=1;c<=b&&i[a-c]===f[m-c];c++);return Hl=f.slice(e,1<c?1-c:void 0)}function Il(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function Jf(){return!1}function We(e){function i(a,c,f,m,b){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Bl:Jf,this.isPropagationStopped=Jf,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),i}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ul=We(Ms),Sr=v({},Ms,{view:0,detail:0}),E_=We(Sr),cu,uu,xr,ql=v({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(cu=e.screenX-xr.screenX,uu=e.screenY-xr.screenY):uu=cu=0,xr=e),cu)},movementY:function(e){return"movementY"in e?e.movementY:uu}}),tp=We(ql),S_=v({},ql,{dataTransfer:0}),x_=We(S_),w_=v({},Sr,{relatedTarget:0}),hu=We(w_),T_=v({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),C_=We(T_),R_=v({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M_=We(R_),O_=v({},Ms,{data:0}),ep=We(O_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j_(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=N_[e])?!!i[e]:!1}function du(){return j_}var k_=v({},Sr,{key:function(e){if(e.key){var i=D_[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(e){return e.type==="keypress"?Il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P_=We(k_),F_=v({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=We(F_),z_=v({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),H_=We(z_),I_=v({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=We(I_),U_=v({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q_=We(U_),G_=v({},Ms,{newState:0,oldState:0}),V_=We(G_),X_=[9,13,27,32],fu=ui&&"CompositionEvent"in window,wr=null;ui&&"documentMode"in document&&(wr=document.documentMode);var Y_=ui&&"TextEvent"in window&&!wr,ip=ui&&(!fu||wr&&8<wr&&11>=wr),sp=" ",ap=!1;function rp(e,i){switch(e){case"keyup":return X_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function $_(e,i){switch(e){case"compositionend":return lp(i);case"keypress":return i.which!==32?null:(ap=!0,sp);case"textInput":return e=i.data,e===sp&&ap?null:e;default:return null}}function K_(e,i){if(fa)return e==="compositionend"||!fu&&rp(e,i)?(e=Zf(),Hl=ou=Gi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ip&&i.locale!=="ko"?null:i.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!W_[e.type]:i==="textarea"}function cp(e,i,a,c){ha?da?da.push(c):da=[c]:ha=c,i=No(i,"onChange"),0<i.length&&(a=new Ul("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var Tr=null,Cr=null;function Q_(e){Vm(e,0)}function Gl(e){var i=_r(e);if(Gf(i))return e}function up(e,i){if(e==="change")return i}var hp=!1;if(ui){var pu;if(ui){var gu="oninput"in document;if(!gu){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),gu=typeof dp.oninput=="function"}pu=gu}else pu=!1;hp=pu&&(!document.documentMode||9<document.documentMode)}function fp(){Tr&&(Tr.detachEvent("onpropertychange",pp),Cr=Tr=null)}function pp(e){if(e.propertyName==="value"&&Gl(Cr)){var i=[];cp(i,Cr,e,au(e)),Qf(Q_,i)}}function Z_(e,i,a){e==="focusin"?(fp(),Tr=i,Cr=a,Tr.attachEvent("onpropertychange",pp)):e==="focusout"&&fp()}function J_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gl(Cr)}function tA(e,i){if(e==="click")return Gl(i)}function eA(e,i){if(e==="input"||e==="change")return Gl(i)}function nA(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var on=typeof Object.is=="function"?Object.is:nA;function Rr(e,i){if(on(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!ue.call(i,f)||!on(e[f],i[f]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mp(e,i){var a=gp(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=gp(a)}}function vp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?vp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Fl(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Fl(e.document)}return i}function mu(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var iA=ui&&"documentMode"in document&&11>=document.documentMode,pa=null,vu=null,Mr=null,yu=!1;function bp(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yu||pa==null||pa!==Fl(c)||(c=pa,"selectionStart"in c&&mu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mr&&Rr(Mr,c)||(Mr=c,c=No(vu,"onSelect"),0<c.length&&(i=new Ul("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=pa)))}function Os(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ga={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},bu={},_p={};ui&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ds(e){if(bu[e])return bu[e];if(!ga[e])return e;var i=ga[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in _p)return bu[e]=i[a];return e}var Ap=Ds("animationend"),Ep=Ds("animationiteration"),Sp=Ds("animationstart"),sA=Ds("transitionrun"),aA=Ds("transitionstart"),rA=Ds("transitioncancel"),xp=Ds("transitionend"),wp=new Map,_u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_u.push("scrollEnd");function Hn(e,i){wp.set(e,i),Rs(i,[e])}var Vl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_n=[],ma=0,Au=0;function Xl(){for(var e=ma,i=Au=ma=0;i<e;){var a=_n[i];_n[i++]=null;var c=_n[i];_n[i++]=null;var f=_n[i];_n[i++]=null;var m=_n[i];if(_n[i++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}m!==0&&Tp(a,f,m)}}function Yl(e,i,a,c){_n[ma++]=e,_n[ma++]=i,_n[ma++]=a,_n[ma++]=c,Au|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Eu(e,i,a,c){return Yl(e,i,a,c),$l(e)}function Ls(e,i){return Yl(e,null,null,i),$l(e)}function Tp(e,i,a){e.lanes|=a;var c=e.alternate;c!==null&&(c.lanes|=a);for(var f=!1,m=e.return;m!==null;)m.childLanes|=a,c=m.alternate,c!==null&&(c.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&i!==null&&(f=31-Vt(a),e=m.hiddenUpdates,c=e[f],c===null?e[f]=[i]:c.push(i),i.lane=a|536870912),m):null}function $l(e){if(50<Qr)throw Qr=0,Dh=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function lA(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,i,a,c){return new lA(e,i,a,c)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hi(e,i){var a=e.alternate;return a===null?(a=cn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Kl(e,i,a,c,f,m){var b=0;if(c=e,typeof e=="function")Su(e)&&(b=1);else if(typeof e=="string")b=dE(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case G:return e=cn(31,a,i,f),e.elementType=G,e.lanes=m,e;case E:return Ns(a.children,f,m,i);case S:b=8,f|=24;break;case T:return e=cn(12,a,i,f|2),e.elementType=T,e.lanes=m,e;case z:return e=cn(13,a,i,f),e.elementType=z,e.lanes=m,e;case k:return e=cn(19,a,i,f),e.elementType=k,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:b=10;break t;case R:b=9;break t;case O:b=11;break t;case H:b=14;break t;case K:b=16,c=null;break t}b=29,a=Error(s(130,e===null?"null":typeof e,"")),c=null}return i=cn(b,a,i,f),i.elementType=e,i.type=c,i.lanes=m,i}function Ns(e,i,a,c){return e=cn(7,e,c,i),e.lanes=a,e}function xu(e,i,a){return e=cn(6,e,null,i),e.lanes=a,e}function Rp(e){var i=cn(18,null,null,0);return i.stateNode=e,i}function wu(e,i,a){return i=cn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Mp=new WeakMap;function An(e,i){if(typeof e=="object"&&e!==null){var a=Mp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Pn(i)},Mp.set(e,i),i)}return{value:e,source:i,stack:Pn(i)}}var ya=[],ba=0,Wl=null,Or=0,En=[],Sn=0,Vi=null,Wn=1,Qn="";function di(e,i){ya[ba++]=Or,ya[ba++]=Wl,Wl=e,Or=i}function Op(e,i,a){En[Sn++]=Wn,En[Sn++]=Qn,En[Sn++]=Vi,Vi=e;var c=Wn;e=Qn;var f=32-Vt(c)-1;c&=~(1<<f),a+=1;var m=32-Vt(i)+f;if(30<m){var b=f-f%5;m=(c&(1<<b)-1).toString(32),c>>=b,f-=b,Wn=1<<32-Vt(i)+f|a<<f|c,Qn=m+e}else Wn=1<<m|a<<f|c,Qn=e}function Tu(e){e.return!==null&&(di(e,1),Op(e,1,0))}function Cu(e){for(;e===Wl;)Wl=ya[--ba],ya[ba]=null,Or=ya[--ba],ya[ba]=null;for(;e===Vi;)Vi=En[--Sn],En[Sn]=null,Qn=En[--Sn],En[Sn]=null,Wn=En[--Sn],En[Sn]=null}function Dp(e,i){En[Sn++]=Wn,En[Sn++]=Qn,En[Sn++]=Vi,Wn=i.id,Qn=i.overflow,Vi=e}var Oe=null,$t=null,Nt=!1,Xi=null,xn=!1,Ru=Error(s(519));function Yi(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dr(An(i,e)),Ru}function Lp(e){var i=e.stateNode,a=e.type,c=e.memoizedProps;switch(i[Me]=e,i[Ke]=c,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<Jr.length;a++)Mt(Jr[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Vf(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Yf(i,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Km(i.textContent,a)?(c.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),c.onScroll!=null&&Mt("scroll",i),c.onScrollEnd!=null&&Mt("scrollend",i),c.onClick!=null&&(i.onclick=ci),i=!0):i=!1,i||Yi(e,!0)}function Np(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Oe=Oe.return}}function _a(e){if(e!==Oe)return!1;if(!Nt)return Np(e),Nt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Xh(e.type,e.memoizedProps)),a=!a),a&&$t&&Yi(e),Np(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$t=sv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$t=sv(e)}else i===27?(i=$t,ls(e.type)?(e=Qh,Qh=null,$t=e):$t=i):$t=Oe?Tn(e.stateNode.nextSibling):null;return!0}function js(){$t=Oe=null,Nt=!1}function Mu(){var e=Xi;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),Xi=null),e}function Dr(e){Xi===null?Xi=[e]:Xi.push(e)}var Ou=D(null),ks=null,fi=null;function $i(e,i,a){$(Ou,i._currentValue),i._currentValue=a}function pi(e){e._currentValue=Ou.current,q(Ou)}function Du(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function Lu(e,i,a,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var b=f.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=f;for(var L=0;L<i.length;L++)if(w.context===i[L]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Du(m.return,a,e),c||(b=null);break t}m=w.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),Du(b,a,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Aa(e,i,a,c){e=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=f.type;on(f.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(f===at.current){if(b=f.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(sl):e=[sl])}f=f.return}e!==null&&Lu(i,e,a,c),i.flags|=262144}function Ql(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){ks=e,fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function De(e){return jp(ks,e)}function Zl(e,i){return ks===null&&Ps(e),jp(e,i)}function jp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},fi===null){if(e===null)throw Error(s(308));fi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else fi=fi.next=i;return a}var oA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,c){e.push(c)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},cA=o.unstable_scheduleCallback,uA=o.unstable_NormalPriority,he={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nu(){return{controller:new oA,data:new Map,refCount:0}}function Lr(e){e.refCount--,e.refCount===0&&cA(uA,function(){e.controller.abort()})}var Nr=null,ju=0,Ea=0,Sa=null;function hA(e,i){if(Nr===null){var a=Nr=[];ju=0,Ea=Fh(),Sa={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ju++,i.then(kp,kp),i}function kp(){if(--ju===0&&Nr!==null){Sa!==null&&(Sa.status="fulfilled");var e=Nr;Nr=null,Ea=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function dA(e,i){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var Pp=j.S;j.S=function(e,i){bm=ne(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hA(e,i),Pp!==null&&Pp(e,i)};var Fs=D(null);function ku(){var e=Fs.current;return e!==null?e:Xt.pooledCache}function Jl(e,i){i===null?$(Fs,Fs.current):$(Fs,i.pool)}function Fp(){var e=ku();return e===null?null:{parent:he._currentValue,pool:e}}var xa=Error(s(460)),Pu=Error(s(474)),to=Error(s(542)),eo={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ci,ci),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Bp(e),e;default:if(typeof i.status=="string")i.then(ci,ci);else{if(e=Xt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Bp(e),e}throw Hs=i,xa}}function zs(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,xa):a}}var Hs=null;function Ip(){if(Hs===null)throw Error(s(459));var e=Hs;return Hs=null,e}function Bp(e){if(e===xa||e===to)throw Error(s(483))}var wa=null,jr=0;function no(e){var i=jr;return jr+=1,wa===null&&(wa=[]),Hp(wa,e,i)}function kr(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function io(e,i){throw i.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Up(e){function i(P,N){if(e){var I=P.deletions;I===null?(P.deletions=[N],P.flags|=16):I.push(N)}}function a(P,N){if(!e)return null;for(;N!==null;)i(P,N),N=N.sibling;return null}function c(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function f(P,N){return P=hi(P,N),P.index=0,P.sibling=null,P}function m(P,N,I){return P.index=I,e?(I=P.alternate,I!==null?(I=I.index,I<N?(P.flags|=67108866,N):I):(P.flags|=67108866,N)):(P.flags|=1048576,N)}function b(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function w(P,N,I,W){return N===null||N.tag!==6?(N=xu(I,P.mode,W),N.return=P,N):(N=f(N,I),N.return=P,N)}function L(P,N,I,W){var pt=I.type;return pt===E?Y(P,N,I.props.children,W,I.key):N!==null&&(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===K&&zs(pt)===N.type)?(N=f(N,I.props),kr(N,I),N.return=P,N):(N=Kl(I.type,I.key,I.props,null,P.mode,W),kr(N,I),N.return=P,N)}function B(P,N,I,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=wu(I,P.mode,W),N.return=P,N):(N=f(N,I.children||[]),N.return=P,N)}function Y(P,N,I,W,pt){return N===null||N.tag!==7?(N=Ns(I,P.mode,W,pt),N.return=P,N):(N=f(N,I),N.return=P,N)}function Q(P,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=xu(""+N,P.mode,I),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return I=Kl(N.type,N.key,N.props,null,P.mode,I),kr(I,N),I.return=P,I;case A:return N=wu(N,P.mode,I),N.return=P,N;case K:return N=zs(N),Q(P,N,I)}if(ot(N)||et(N))return N=Ns(N,P.mode,I,null),N.return=P,N;if(typeof N.then=="function")return Q(P,no(N),I);if(N.$$typeof===C)return Q(P,Zl(P,N),I);io(P,N)}return null}function U(P,N,I,W){var pt=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return pt!==null?null:w(P,N,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return I.key===pt?L(P,N,I,W):null;case A:return I.key===pt?B(P,N,I,W):null;case K:return I=zs(I),U(P,N,I,W)}if(ot(I)||et(I))return pt!==null?null:Y(P,N,I,W,null);if(typeof I.then=="function")return U(P,N,no(I),W);if(I.$$typeof===C)return U(P,N,Zl(P,I),W);io(P,I)}return null}function V(P,N,I,W,pt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(I)||null,w(N,P,""+W,pt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return P=P.get(W.key===null?I:W.key)||null,L(N,P,W,pt);case A:return P=P.get(W.key===null?I:W.key)||null,B(N,P,W,pt);case K:return W=zs(W),V(P,N,I,W,pt)}if(ot(W)||et(W))return P=P.get(I)||null,Y(N,P,W,pt,null);if(typeof W.then=="function")return V(P,N,I,no(W),pt);if(W.$$typeof===C)return V(P,N,I,Zl(N,W),pt);io(N,W)}return null}function ut(P,N,I,W){for(var pt=null,Pt=null,ht=N,wt=N=0,Lt=null;ht!==null&&wt<I.length;wt++){ht.index>wt?(Lt=ht,ht=null):Lt=ht.sibling;var Ft=U(P,ht,I[wt],W);if(Ft===null){ht===null&&(ht=Lt);break}e&&ht&&Ft.alternate===null&&i(P,ht),N=m(Ft,N,wt),Pt===null?pt=Ft:Pt.sibling=Ft,Pt=Ft,ht=Lt}if(wt===I.length)return a(P,ht),Nt&&di(P,wt),pt;if(ht===null){for(;wt<I.length;wt++)ht=Q(P,I[wt],W),ht!==null&&(N=m(ht,N,wt),Pt===null?pt=ht:Pt.sibling=ht,Pt=ht);return Nt&&di(P,wt),pt}for(ht=c(ht);wt<I.length;wt++)Lt=V(ht,P,wt,I[wt],W),Lt!==null&&(e&&Lt.alternate!==null&&ht.delete(Lt.key===null?wt:Lt.key),N=m(Lt,N,wt),Pt===null?pt=Lt:Pt.sibling=Lt,Pt=Lt);return e&&ht.forEach(function(ds){return i(P,ds)}),Nt&&di(P,wt),pt}function mt(P,N,I,W){if(I==null)throw Error(s(151));for(var pt=null,Pt=null,ht=N,wt=N=0,Lt=null,Ft=I.next();ht!==null&&!Ft.done;wt++,Ft=I.next()){ht.index>wt?(Lt=ht,ht=null):Lt=ht.sibling;var ds=U(P,ht,Ft.value,W);if(ds===null){ht===null&&(ht=Lt);break}e&&ht&&ds.alternate===null&&i(P,ht),N=m(ds,N,wt),Pt===null?pt=ds:Pt.sibling=ds,Pt=ds,ht=Lt}if(Ft.done)return a(P,ht),Nt&&di(P,wt),pt;if(ht===null){for(;!Ft.done;wt++,Ft=I.next())Ft=Q(P,Ft.value,W),Ft!==null&&(N=m(Ft,N,wt),Pt===null?pt=Ft:Pt.sibling=Ft,Pt=Ft);return Nt&&di(P,wt),pt}for(ht=c(ht);!Ft.done;wt++,Ft=I.next())Ft=V(ht,P,wt,Ft.value,W),Ft!==null&&(e&&Ft.alternate!==null&&ht.delete(Ft.key===null?wt:Ft.key),N=m(Ft,N,wt),Pt===null?pt=Ft:Pt.sibling=Ft,Pt=Ft);return e&&ht.forEach(function(SE){return i(P,SE)}),Nt&&di(P,wt),pt}function Gt(P,N,I,W){if(typeof I=="object"&&I!==null&&I.type===E&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case _:t:{for(var pt=I.key;N!==null;){if(N.key===pt){if(pt=I.type,pt===E){if(N.tag===7){a(P,N.sibling),W=f(N,I.props.children),W.return=P,P=W;break t}}else if(N.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===K&&zs(pt)===N.type){a(P,N.sibling),W=f(N,I.props),kr(W,I),W.return=P,P=W;break t}a(P,N);break}else i(P,N);N=N.sibling}I.type===E?(W=Ns(I.props.children,P.mode,W,I.key),W.return=P,P=W):(W=Kl(I.type,I.key,I.props,null,P.mode,W),kr(W,I),W.return=P,P=W)}return b(P);case A:t:{for(pt=I.key;N!==null;){if(N.key===pt)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){a(P,N.sibling),W=f(N,I.children||[]),W.return=P,P=W;break t}else{a(P,N);break}else i(P,N);N=N.sibling}W=wu(I,P.mode,W),W.return=P,P=W}return b(P);case K:return I=zs(I),Gt(P,N,I,W)}if(ot(I))return ut(P,N,I,W);if(et(I)){if(pt=et(I),typeof pt!="function")throw Error(s(150));return I=pt.call(I),mt(P,N,I,W)}if(typeof I.then=="function")return Gt(P,N,no(I),W);if(I.$$typeof===C)return Gt(P,N,Zl(P,I),W);io(P,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(a(P,N.sibling),W=f(N,I),W.return=P,P=W):(a(P,N),W=xu(I,P.mode,W),W.return=P,P=W),b(P)):a(P,N)}return function(P,N,I,W){try{jr=0;var pt=Gt(P,N,I,W);return wa=null,pt}catch(ht){if(ht===xa||ht===to)throw ht;var Pt=cn(29,ht,null,P.mode);return Pt.lanes=W,Pt.return=P,Pt}finally{}}}var Is=Up(!0),qp=Up(!1),Ki=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qi(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(zt&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=$l(e),Tp(e,null,a),i}return Yl(e,c,i,a),$l(e)}function Pr(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,jf(e,a)}}function Hu(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Iu=!1;function Fr(){if(Iu){var e=Sa;if(e!==null)throw e}}function zr(e,i,a,c){Iu=!1;var f=e.updateQueue;Ki=!1;var m=f.firstBaseUpdate,b=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var L=w,B=L.next;L.next=null,b===null?m=B:b.next=B,b=L;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==b&&(w===null?Y.firstBaseUpdate=B:w.next=B,Y.lastBaseUpdate=L))}if(m!==null){var Q=f.baseState;b=0,Y=B=L=null,w=m;do{var U=w.lane&-536870913,V=U!==w.lane;if(V?(Dt&U)===U:(c&U)===U){U!==0&&U===Ea&&(Iu=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var ut=e,mt=w;U=i;var Gt=a;switch(mt.tag){case 1:if(ut=mt.payload,typeof ut=="function"){Q=ut.call(Gt,Q,U);break t}Q=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=mt.payload,U=typeof ut=="function"?ut.call(Gt,Q,U):ut,U==null)break t;Q=v({},Q,U);break t;case 2:Ki=!0}}U=w.callback,U!==null&&(e.flags|=64,V&&(e.flags|=8192),V=f.callbacks,V===null?f.callbacks=[U]:V.push(U))}else V={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(B=Y=V,L=Q):Y=Y.next=V,b|=U;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;V=w,w=V.next,V.next=null,f.lastBaseUpdate=V,f.shared.pending=null}}while(!0);Y===null&&(L=Q),f.baseState=L,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),ns|=b,e.lanes=b,e.memoizedState=Q}}function Gp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Vp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Gp(a[e],i)}var Ta=D(null),so=D(0);function Xp(e,i){e=Si,$(so,e),$(Ta,i),Si=e|i.baseLanes}function Bu(){$(so,Si),$(Ta,Ta.current)}function Uu(){Si=so.current,q(Ta),q(so)}var un=D(null),wn=null;function Zi(e){var i=e.alternate;$(re,re.current&1),$(un,e),wn===null&&(i===null||Ta.current!==null||i.memoizedState!==null)&&(wn=e)}function qu(e){$(re,re.current),$(un,e),wn===null&&(wn=e)}function Yp(e){e.tag===22?($(re,re.current),$(un,e),wn===null&&(wn=e)):Ji()}function Ji(){$(re,re.current),$(un,un.current)}function hn(e){q(un),wn===e&&(wn=null),q(re)}var re=D(0);function ao(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Kh(a)||Wh(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gi=0,xt=null,Ut=null,de=null,ro=!1,Ca=!1,Bs=!1,lo=0,Hr=0,Ra=null,fA=0;function ie(){throw Error(s(321))}function Gu(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!on(e[a],i[a]))return!1;return!0}function Vu(e,i,a,c,f,m){return gi=m,xt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=e===null||e.memoizedState===null?Og:rh,Bs=!1,m=a(c,f),Bs=!1,Ca&&(m=Kp(i,a,c,f)),$p(e),m}function $p(e){j.H=Ur;var i=Ut!==null&&Ut.next!==null;if(gi=0,de=Ut=xt=null,ro=!1,Hr=0,Ra=null,i)throw Error(s(300));e===null||fe||(e=e.dependencies,e!==null&&Ql(e)&&(fe=!0))}function Kp(e,i,a,c){xt=e;var f=0;do{if(Ca&&(Ra=null),Hr=0,Ca=!1,25<=f)throw Error(s(301));if(f+=1,de=Ut=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}j.H=Dg,m=i(a,c)}while(Ca);return m}function pA(){var e=j.H,i=e.useState()[0];return i=typeof i.then=="function"?Ir(i):i,e=e.useState()[0],(Ut!==null?Ut.memoizedState:null)!==e&&(xt.flags|=1024),i}function Xu(){var e=lo!==0;return lo=0,e}function Yu(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function $u(e){if(ro){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ro=!1}gi=0,de=Ut=xt=null,Ca=!1,Hr=lo=0,Ra=null}function Xe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?xt.memoizedState=de=e:de=de.next=e,de}function le(){if(Ut===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Ut.next;var i=de===null?xt.memoizedState:de.next;if(i!==null)de=i,Ut=e;else{if(e===null)throw xt.alternate===null?Error(s(467)):Error(s(310));Ut=e,e={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},de===null?xt.memoizedState=de=e:de=de.next=e}return de}function oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ir(e){var i=Hr;return Hr+=1,Ra===null&&(Ra=[]),e=Hp(Ra,e,i),i=xt,(de===null?i.memoizedState:de.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?Og:rh),e}function co(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ir(e);if(e.$$typeof===C)return De(e)}throw Error(s(438,String(e)))}function Ku(e){var i=null,a=xt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=oo(),xt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),c=0;c<e;c++)a[c]=tt;return i.index++,a}function mi(e,i){return typeof i=="function"?i(e):i}function uo(e){var i=le();return Wu(i,Ut,e)}function Wu(e,i,a){var c=e.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=a;var f=e.baseQueue,m=c.pending;if(m!==null){if(f!==null){var b=f.next;f.next=m.next,m.next=b}i.baseQueue=f=m,c.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{i=f.next;var w=b=null,L=null,B=i,Y=!1;do{var Q=B.lane&-536870913;if(Q!==B.lane?(Dt&Q)===Q:(gi&Q)===Q){var U=B.revertLane;if(U===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Q===Ea&&(Y=!0);else if((gi&U)===U){B=B.next,U===Ea&&(Y=!0);continue}else Q={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},L===null?(w=L=Q,b=m):L=L.next=Q,xt.lanes|=U,ns|=U;Q=B.action,Bs&&a(m,Q),m=B.hasEagerState?B.eagerState:a(m,Q)}else U={lane:Q,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},L===null?(w=L=U,b=m):L=L.next=U,xt.lanes|=Q,ns|=Q;B=B.next}while(B!==null&&B!==i);if(L===null?b=m:L.next=w,!on(m,e.memoizedState)&&(fe=!0,Y&&(a=Sa,a!==null)))throw a;e.memoizedState=m,e.baseState=b,e.baseQueue=L,c.lastRenderedState=m}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function Qu(e){var i=le(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do m=e(m,b.action),b=b.next;while(b!==f);on(m,i.memoizedState)||(fe=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Wp(e,i,a){var c=xt,f=le(),m=Nt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!on((Ut||f).memoizedState,a);if(b&&(f.memoizedState=a,fe=!0),f=f.queue,th(Jp.bind(null,c,f,e),[e]),f.getSnapshot!==i||b||de!==null&&de.memoizedState.tag&1){if(c.flags|=2048,Ma(9,{destroy:void 0},Zp.bind(null,c,f,a,i),null),Xt===null)throw Error(s(349));m||(gi&127)!==0||Qp(c,i,a)}return a}function Qp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=xt.updateQueue,i===null?(i=oo(),xt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Zp(e,i,a,c){i.value=a,i.getSnapshot=c,tg(i)&&eg(e)}function Jp(e,i,a){return a(function(){tg(i)&&eg(e)})}function tg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!on(e,a)}catch{return!0}}function eg(e){var i=Ls(e,2);i!==null&&en(i,e,2)}function Zu(e){var i=Xe();if(typeof e=="function"){var a=e;if(e=a(),Bs){Re(!0);try{a()}finally{Re(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:e},i}function ng(e,i,a,c){return e.baseState=a,Wu(e,Ut,typeof c=="function"?c:mi)}function gA(e,i,a,c,f){if(po(e))throw Error(s(485));if(e=i.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};j.T!==null?a(!0):m.isTransition=!1,c(m),a=i.pending,a===null?(m.next=i.pending=m,ig(i,m)):(m.next=a.next,i.pending=a.next=m)}}function ig(e,i){var a=i.action,c=i.payload,f=e.state;if(i.isTransition){var m=j.T,b={};j.T=b;try{var w=a(f,c),L=j.S;L!==null&&L(b,w),sg(e,i,w)}catch(B){Ju(e,i,B)}finally{m!==null&&b.types!==null&&(m.types=b.types),j.T=m}}else try{m=a(f,c),sg(e,i,m)}catch(B){Ju(e,i,B)}}function sg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){ag(e,i,c)},function(c){return Ju(e,i,c)}):ag(e,i,a)}function ag(e,i,a){i.status="fulfilled",i.value=a,rg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ig(e,a)))}function Ju(e,i,a){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,rg(i),i=i.next;while(i!==c)}e.action=null}function rg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function lg(e,i){return i}function og(e,i){if(Nt){var a=Xt.formState;if(a!==null){t:{var c=xt;if(Nt){if($t){e:{for(var f=$t,m=xn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Tn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){$t=Tn(f.nextSibling),c=f.data==="F!";break t}}Yi(c)}c=!1}c&&(i=a[0])}}return a=Xe(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:i},a.queue=c,a=Cg.bind(null,xt,c),c.dispatch=a,c=Zu(!1),m=ah.bind(null,xt,!1,c.queue),c=Xe(),f={state:i,dispatch:null,action:e,pending:null},c.queue=f,a=gA.bind(null,xt,f,m,a),f.dispatch=a,c.memoizedState=e,[i,a,!1]}function cg(e){var i=le();return ug(i,Ut,e)}function ug(e,i,a){if(i=Wu(e,i,lg)[0],e=uo(mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ir(i)}catch(b){throw b===xa?to:b}else c=i;i=le();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(xt.flags|=2048,Ma(9,{destroy:void 0},mA.bind(null,f,a),null)),[c,m,e]}function mA(e,i){e.action=i}function hg(e){var i=le(),a=Ut;if(a!==null)return ug(i,a,e);le(),i=i.memoizedState,a=le();var c=a.queue.dispatch;return a.memoizedState=e,[i,c,!1]}function Ma(e,i,a,c){return e={tag:e,create:a,deps:c,inst:i,next:null},i=xt.updateQueue,i===null&&(i=oo(),xt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e),e}function dg(){return le().memoizedState}function ho(e,i,a,c){var f=Xe();xt.flags|=e,f.memoizedState=Ma(1|i,{destroy:void 0},a,c===void 0?null:c)}function fo(e,i,a,c){var f=le();c=c===void 0?null:c;var m=f.memoizedState.inst;Ut!==null&&c!==null&&Gu(c,Ut.memoizedState.deps)?f.memoizedState=Ma(i,m,a,c):(xt.flags|=e,f.memoizedState=Ma(1|i,m,a,c))}function fg(e,i){ho(8390656,8,e,i)}function th(e,i){fo(2048,8,e,i)}function vA(e){xt.flags|=4;var i=xt.updateQueue;if(i===null)i=oo(),xt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function pg(e){var i=le().memoizedState;return vA({ref:i,nextImpl:e}),function(){if((zt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function gg(e,i){return fo(4,2,e,i)}function mg(e,i){return fo(4,4,e,i)}function vg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function yg(e,i,a){a=a!=null?a.concat([e]):null,fo(4,4,vg.bind(null,i,e),a)}function eh(){}function bg(e,i){var a=le();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Gu(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function _g(e,i){var a=le();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Gu(i,c[1]))return c[0];if(c=e(),Bs){Re(!0);try{e()}finally{Re(!1)}}return a.memoizedState=[c,i],c}function nh(e,i,a){return a===void 0||(gi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=Am(),xt.lanes|=e,ns|=e,a)}function Ag(e,i,a,c){return on(a,i)?a:Ta.current!==null?(e=nh(e,a,c),on(e,i)||(fe=!0),e):(gi&42)===0||(gi&1073741824)!==0&&(Dt&261930)===0?(fe=!0,e.memoizedState=a):(e=Am(),xt.lanes|=e,ns|=e,i)}function Eg(e,i,a,c,f){var m=F.p;F.p=m!==0&&8>m?m:8;var b=j.T,w={};j.T=w,ah(e,!1,i,a);try{var L=f(),B=j.S;if(B!==null&&B(w,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=dA(L,c);Br(e,i,Y,pn(e))}else Br(e,i,c,pn(e))}catch(Q){Br(e,i,{then:function(){},status:"rejected",reason:Q},pn())}finally{F.p=m,b!==null&&w.types!==null&&(b.types=w.types),j.T=b}}function yA(){}function ih(e,i,a,c){if(e.tag!==5)throw Error(s(476));var f=Sg(e).queue;Eg(e,f,i,X,a===null?yA:function(){return xg(e),a(c)})}function Sg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:X},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function xg(e){var i=Sg(e);i.next===null&&(i=e.alternate.memoizedState),Br(e,i.next.queue,{},pn())}function sh(){return De(sl)}function wg(){return le().memoizedState}function Tg(){return le().memoizedState}function bA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=Wi(a);var c=Qi(i,e,a);c!==null&&(en(c,i,a),Pr(c,i,a)),i={cache:Nu()},e.payload=i;return}i=i.return}}function _A(e,i,a){var c=pn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},po(e)?Rg(i,a):(a=Eu(e,i,a,c),a!==null&&(en(a,e,c),Mg(a,i,c)))}function Cg(e,i,a){var c=pn();Br(e,i,a,c)}function Br(e,i,a,c){var f={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(po(e))Rg(i,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,w=m(b,a);if(f.hasEagerState=!0,f.eagerState=w,on(w,b))return Yl(e,i,f,0),Xt===null&&Xl(),!1}catch{}finally{}if(a=Eu(e,i,f,c),a!==null)return en(a,e,c),Mg(a,i,c),!0}return!1}function ah(e,i,a,c){if(c={lane:2,revertLane:Fh(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},po(e)){if(i)throw Error(s(479))}else i=Eu(e,a,c,2),i!==null&&en(i,e,2)}function po(e){var i=e.alternate;return e===xt||i!==null&&i===xt}function Rg(e,i){Ca=ro=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Mg(e,i,a){if((a&4194048)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,jf(e,a)}}var Ur={readContext:De,use:co,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useInsertionEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useSyncExternalStore:ie,useId:ie,useHostTransitionStatus:ie,useFormState:ie,useActionState:ie,useOptimistic:ie,useMemoCache:ie,useCacheRefresh:ie};Ur.useEffectEvent=ie;var Og={readContext:De,use:co,useCallback:function(e,i){return Xe().memoizedState=[e,i===void 0?null:i],e},useContext:De,useEffect:fg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ho(4194308,4,vg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ho(4194308,4,e,i)},useInsertionEffect:function(e,i){ho(4,2,e,i)},useMemo:function(e,i){var a=Xe();i=i===void 0?null:i;var c=e();if(Bs){Re(!0);try{e()}finally{Re(!1)}}return a.memoizedState=[c,i],c},useReducer:function(e,i,a){var c=Xe();if(a!==void 0){var f=a(i);if(Bs){Re(!0);try{a(i)}finally{Re(!1)}}}else f=i;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=_A.bind(null,xt,e),[c.memoizedState,e]},useRef:function(e){var i=Xe();return e={current:e},i.memoizedState=e},useState:function(e){e=Zu(e);var i=e.queue,a=Cg.bind(null,xt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:eh,useDeferredValue:function(e,i){var a=Xe();return nh(a,e,i)},useTransition:function(){var e=Zu(!1);return e=Eg.bind(null,xt,e.queue,!0,!1),Xe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var c=xt,f=Xe();if(Nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Xt===null)throw Error(s(349));(Dt&127)!==0||Qp(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,fg(Jp.bind(null,c,m,e),[e]),c.flags|=2048,Ma(9,{destroy:void 0},Zp.bind(null,c,m,a,i),null),a},useId:function(){var e=Xe(),i=Xt.identifierPrefix;if(Nt){var a=Qn,c=Wn;a=(c&~(1<<32-Vt(c)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lo++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=fA++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:sh,useFormState:og,useActionState:og,useOptimistic:function(e){var i=Xe();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ah.bind(null,xt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Ku,useCacheRefresh:function(){return Xe().memoizedState=bA.bind(null,xt)},useEffectEvent:function(e){var i=Xe(),a={impl:e};return i.memoizedState=a,function(){if((zt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},rh={readContext:De,use:co,useCallback:bg,useContext:De,useEffect:th,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:mg,useMemo:_g,useReducer:uo,useRef:dg,useState:function(){return uo(mi)},useDebugValue:eh,useDeferredValue:function(e,i){var a=le();return Ag(a,Ut.memoizedState,e,i)},useTransition:function(){var e=uo(mi)[0],i=le().memoizedState;return[typeof e=="boolean"?e:Ir(e),i]},useSyncExternalStore:Wp,useId:wg,useHostTransitionStatus:sh,useFormState:cg,useActionState:cg,useOptimistic:function(e,i){var a=le();return ng(a,Ut,e,i)},useMemoCache:Ku,useCacheRefresh:Tg};rh.useEffectEvent=pg;var Dg={readContext:De,use:co,useCallback:bg,useContext:De,useEffect:th,useImperativeHandle:yg,useInsertionEffect:gg,useLayoutEffect:mg,useMemo:_g,useReducer:Qu,useRef:dg,useState:function(){return Qu(mi)},useDebugValue:eh,useDeferredValue:function(e,i){var a=le();return Ut===null?nh(a,e,i):Ag(a,Ut.memoizedState,e,i)},useTransition:function(){var e=Qu(mi)[0],i=le().memoizedState;return[typeof e=="boolean"?e:Ir(e),i]},useSyncExternalStore:Wp,useId:wg,useHostTransitionStatus:sh,useFormState:hg,useActionState:hg,useOptimistic:function(e,i){var a=le();return Ut!==null?ng(a,Ut,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Ku,useCacheRefresh:Tg};Dg.useEffectEvent=pg;function lh(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:v({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var oh={enqueueSetState:function(e,i,a){e=e._reactInternals;var c=pn(),f=Wi(c);f.payload=i,a!=null&&(f.callback=a),i=Qi(e,f,c),i!==null&&(en(i,e,c),Pr(i,e,c))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=pn(),f=Wi(c);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Qi(e,f,c),i!==null&&(en(i,e,c),Pr(i,e,c))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),c=Wi(a);c.tag=2,i!=null&&(c.callback=i),i=Qi(e,c,a),i!==null&&(en(i,e,a),Pr(i,e,a))}};function Lg(e,i,a,c,f,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,b):i.prototype&&i.prototype.isPureReactComponent?!Rr(a,c)||!Rr(f,m):!0}function Ng(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&oh.enqueueReplaceState(i,i.state,null)}function Us(e,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(e=e.defaultProps){a===i&&(a=v({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function jg(e){Vl(e)}function kg(e){console.error(e)}function Pg(e){Vl(e)}function go(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Fg(e,i,a){try{var c=e.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ch(e,i,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){go(e,i)},a}function zg(e){return e=Wi(e),e.tag=3,e}function Hg(e,i,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=c.value;e.payload=function(){return f(m)},e.callback=function(){Fg(i,a,c)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Fg(i,a,c),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function AA(e,i,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Aa(i,a,f,!0),a=un.current,a!==null){switch(a.tag){case 31:case 13:return wn===null?Co():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===eo?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),jh(e,c,f)),!1;case 22:return a.flags|=65536,c===eo?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),jh(e,c,f)),!1}throw Error(s(435,a.tag))}return jh(e,c,f),Co(),!1}if(Nt)return i=un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Ru&&(e=Error(s(422),{cause:c}),Dr(An(e,a)))):(c!==Ru&&(i=Error(s(423),{cause:c}),Dr(An(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=An(c,a),f=ch(e.stateNode,c,f),Hu(e,f),se!==4&&(se=2)),!1;var m=Error(s(520),{cause:c});if(m=An(m,a),Wr===null?Wr=[m]:Wr.push(m),se!==4&&(se=2),i===null)return!0;c=An(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=ch(a.stateNode,c,e),Hu(a,e),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=zg(f),Hg(f,e,a,c),Hu(a,f),!1}a=a.return}while(a!==null);return!1}var uh=Error(s(461)),fe=!1;function Le(e,i,a,c){i.child=e===null?qp(i,null,a,c):Is(i,e.child,a,c)}function Ig(e,i,a,c,f){a=a.render;var m=i.ref;if("ref"in c){var b={};for(var w in c)w!=="ref"&&(b[w]=c[w])}else b=c;return Ps(i),c=Vu(e,i,a,b,m,f),w=Xu(),e!==null&&!fe?(Yu(e,i,f),vi(e,i,f)):(Nt&&w&&Tu(i),i.flags|=1,Le(e,i,c,f),i.child)}function Bg(e,i,a,c,f){if(e===null){var m=a.type;return typeof m=="function"&&!Su(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Ug(e,i,m,c,f)):(e=Kl(a.type,null,c,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!yh(e,f)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:Rr,a(b,c)&&e.ref===i.ref)return vi(e,i,f)}return i.flags|=1,e=hi(m,c),e.ref=i.ref,e.return=i,i.child=e}function Ug(e,i,a,c,f){if(e!==null){var m=e.memoizedProps;if(Rr(m,c)&&e.ref===i.ref)if(fe=!1,i.pendingProps=c=m,yh(e,f))(e.flags&131072)!==0&&(fe=!0);else return i.lanes=e.lanes,vi(e,i,f)}return hh(e,i,a,c,f)}function qg(e,i,a,c){var f=c.children,m=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,e!==null){for(c=i.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;c=f&~m}else c=0,i.child=null;return Gg(e,i,m,a,c)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(i,m!==null?m.cachePool:null),m!==null?Xp(i,m):Bu(),Yp(i);else return c=i.lanes=536870912,Gg(e,i,m!==null?m.baseLanes|a:a,a,c)}else m!==null?(Jl(i,m.cachePool),Xp(i,m),Ji(),i.memoizedState=null):(e!==null&&Jl(i,null),Bu(),Ji());return Le(e,i,f,a),i.child}function qr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gg(e,i,a,c,f){var m=ku();return m=m===null?null:{parent:he._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},e!==null&&Jl(i,null),Bu(),Yp(i),e!==null&&Aa(e,i,c,!0),i.childLanes=f,null}function mo(e,i){return i=yo({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Vg(e,i,a){return Is(i,e.child,null,a),e=mo(i,i.pendingProps),e.flags|=2,hn(i),i.memoizedState=null,e}function EA(e,i,a){var c=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Nt){if(c.mode==="hidden")return e=mo(i,c),i.lanes=536870912,qr(null,e);if(qu(i),(e=$t)?(e=iv(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:Wn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},a=Rp(e),a.return=i,i.child=a,Oe=i,$t=null)):e=null,e===null)throw Yi(i);return i.lanes=536870912,null}return mo(i,c)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(qu(i),f)if(i.flags&256)i.flags&=-257,i=Vg(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(fe||Aa(e,i,a,!1),f=(a&e.childLanes)!==0,fe||f){if(c=Xt,c!==null&&(b=kf(c,a),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ls(e,b),en(c,e,b),uh;Co(),i=Vg(e,i,a)}else e=m.treeContext,$t=Tn(b.nextSibling),Oe=i,Nt=!0,Xi=null,xn=!1,e!==null&&Dp(i,e),i=mo(i,c),i.flags|=4096;return i}return e=hi(e.child,{mode:c.mode,children:c.children}),e.ref=i.ref,i.child=e,e.return=i,e}function vo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function hh(e,i,a,c,f){return Ps(i),a=Vu(e,i,a,c,void 0,f),c=Xu(),e!==null&&!fe?(Yu(e,i,f),vi(e,i,f)):(Nt&&c&&Tu(i),i.flags|=1,Le(e,i,a,f),i.child)}function Xg(e,i,a,c,f,m){return Ps(i),i.updateQueue=null,a=Kp(i,c,a,f),$p(e),c=Xu(),e!==null&&!fe?(Yu(e,i,m),vi(e,i,m)):(Nt&&c&&Tu(i),i.flags|=1,Le(e,i,a,m),i.child)}function Yg(e,i,a,c,f){if(Ps(i),i.stateNode===null){var m=va,b=a.contextType;typeof b=="object"&&b!==null&&(m=De(b)),m=new a(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=oh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},Fu(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?De(b):va,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(lh(i,a,b,c),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&oh.enqueueReplaceState(m,m.state,null),zr(i,c,m,f),Fr(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(e===null){m=i.stateNode;var w=i.memoizedProps,L=Us(a,w);m.props=L;var B=m.context,Y=a.contextType;b=va,typeof Y=="object"&&Y!==null&&(b=De(Y));var Q=a.getDerivedStateFromProps;Y=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||B!==b)&&Ng(i,m,c,b),Ki=!1;var U=i.memoizedState;m.state=U,zr(i,c,m,f),Fr(),B=i.memoizedState,w||U!==B||Ki?(typeof Q=="function"&&(lh(i,a,Q,c),B=i.memoizedState),(L=Ki||Lg(i,a,L,c,U,B,b))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=B),m.props=c,m.state=B,m.context=b,c=L):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,zu(e,i),b=i.memoizedProps,Y=Us(a,b),m.props=Y,Q=i.pendingProps,U=m.context,B=a.contextType,L=va,typeof B=="object"&&B!==null&&(L=De(B)),w=a.getDerivedStateFromProps,(B=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Q||U!==L)&&Ng(i,m,c,L),Ki=!1,U=i.memoizedState,m.state=U,zr(i,c,m,f),Fr();var V=i.memoizedState;b!==Q||U!==V||Ki||e!==null&&e.dependencies!==null&&Ql(e.dependencies)?(typeof w=="function"&&(lh(i,a,w,c),V=i.memoizedState),(Y=Ki||Lg(i,a,Y,c,U,V,L)||e!==null&&e.dependencies!==null&&Ql(e.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,V,L),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,V,L)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=V),m.props=c,m.state=V,m.context=L,c=Y):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),c=!1)}return m=c,vo(e,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&c?(i.child=Is(i,e.child,null,f),i.child=Is(i,null,a,f)):Le(e,i,a,f),i.memoizedState=m.state,e=i.child):e=vi(e,i,f),e}function $g(e,i,a,c){return js(),i.flags|=256,Le(e,i,a,c),i.child}var dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fh(e){return{baseLanes:e,cachePool:Fp()}}function ph(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=fn),e}function Kg(e,i,a){var c=i.pendingProps,f=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(re.current&2)!==0),b&&(f=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(Nt){if(f?Zi(i):Ji(),(e=$t)?(e=iv(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vi!==null?{id:Wn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},a=Rp(e),a.return=i,i.child=a,Oe=i,$t=null)):e=null,e===null)throw Yi(i);return Wh(e)?i.lanes=32:i.lanes=536870912,null}var w=c.children;return c=c.fallback,f?(Ji(),f=i.mode,w=yo({mode:"hidden",children:w},f),c=Ns(c,f,a,null),w.return=i,c.return=i,w.sibling=c,i.child=w,c=i.child,c.memoizedState=fh(a),c.childLanes=ph(e,b,a),i.memoizedState=dh,qr(null,c)):(Zi(i),gh(i,w))}var L=e.memoizedState;if(L!==null&&(w=L.dehydrated,w!==null)){if(m)i.flags&256?(Zi(i),i.flags&=-257,i=mh(e,i,a)):i.memoizedState!==null?(Ji(),i.child=e.child,i.flags|=128,i=null):(Ji(),w=c.fallback,f=i.mode,c=yo({mode:"visible",children:c.children},f),w=Ns(w,f,a,null),w.flags|=2,c.return=i,w.return=i,c.sibling=w,i.child=c,Is(i,e.child,null,a),c=i.child,c.memoizedState=fh(a),c.childLanes=ph(e,b,a),i.memoizedState=dh,i=qr(null,c));else if(Zi(i),Wh(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var B=b.dgst;b=B,c=Error(s(419)),c.stack="",c.digest=b,Dr({value:c,source:null,stack:null}),i=mh(e,i,a)}else if(fe||Aa(e,i,a,!1),b=(a&e.childLanes)!==0,fe||b){if(b=Xt,b!==null&&(c=kf(b,a),c!==0&&c!==L.retryLane))throw L.retryLane=c,Ls(e,c),en(b,e,c),uh;Kh(w)||Co(),i=mh(e,i,a)}else Kh(w)?(i.flags|=192,i.child=e.child,i=null):(e=L.treeContext,$t=Tn(w.nextSibling),Oe=i,Nt=!0,Xi=null,xn=!1,e!==null&&Dp(i,e),i=gh(i,c.children),i.flags|=4096);return i}return f?(Ji(),w=c.fallback,f=i.mode,L=e.child,B=L.sibling,c=hi(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,B!==null?w=hi(B,w):(w=Ns(w,f,a,null),w.flags|=2),w.return=i,c.return=i,c.sibling=w,i.child=c,qr(null,c),c=i.child,w=e.child.memoizedState,w===null?w=fh(a):(f=w.cachePool,f!==null?(L=he._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=Fp(),w={baseLanes:w.baseLanes|a,cachePool:f}),c.memoizedState=w,c.childLanes=ph(e,b,a),i.memoizedState=dh,qr(e.child,c)):(Zi(i),a=e.child,e=a.sibling,a=hi(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=a,i.memoizedState=null,a)}function gh(e,i){return i=yo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function yo(e,i){return e=cn(22,e,null,i),e.lanes=0,e}function mh(e,i,a){return Is(i,e.child,null,a),e=gh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Wg(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),Du(e.return,i,a)}function vh(e,i,a,c,f,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f,treeForkCount:m}:(b.isBackwards=i,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=a,b.tailMode=f,b.treeForkCount=m)}function Qg(e,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;c=c.children;var b=re.current,w=(b&2)!==0;if(w?(b=b&1|2,i.flags|=128):b&=1,$(re,b),Le(e,i,c,a),c=Nt?Or:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,a,i);else if(e.tag===19)Wg(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&ao(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),vh(i,!1,f,a,m,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&ao(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}vh(i,!0,a,null,m,c);break;case"together":vh(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function vi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),ns|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Aa(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=hi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=hi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function yh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ql(e)))}function SA(e,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),$i(i,he,e.memoizedState.cache),js();break;case 27:case 5:ve(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qu(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Zi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Kg(e,i,a):(Zi(i),e=vi(e,i,a),e!==null?e.sibling:null);Zi(i);break;case 19:var f=(e.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Aa(e,i,a,!1),c=(a&i.childLanes)!==0),f){if(c)return Qg(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(re,re.current),c)break;return null;case 22:return i.lanes=0,qg(e,i,a,i.pendingProps);case 24:$i(i,he,e.memoizedState.cache)}return vi(e,i,a)}function Zg(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)fe=!0;else{if(!yh(e,a)&&(i.flags&128)===0)return fe=!1,SA(e,i,a);fe=(e.flags&131072)!==0}else fe=!1,Nt&&(i.flags&1048576)!==0&&Op(i,Or,i.index);switch(i.lanes=0,i.tag){case 16:t:{var c=i.pendingProps;if(e=zs(i.elementType),i.type=e,typeof e=="function")Su(e)?(c=Us(e,c),i.tag=1,i=Yg(null,i,e,c,a)):(i.tag=0,i=hh(null,i,e,c,a));else{if(e!=null){var f=e.$$typeof;if(f===O){i.tag=11,i=Ig(null,i,e,c,a);break t}else if(f===H){i.tag=14,i=Bg(null,i,e,c,a);break t}}throw i=dt(e)||e,Error(s(306,i,""))}}return i;case 0:return hh(e,i,i.type,i.pendingProps,a);case 1:return c=i.type,f=Us(c,i.pendingProps),Yg(e,i,c,f,a);case 3:t:{if(kt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));c=i.pendingProps;var m=i.memoizedState;f=m.element,zu(e,i),zr(i,c,null,a);var b=i.memoizedState;if(c=b.cache,$i(i,he,c),c!==m.cache&&Lu(i,[he],a,!0),Fr(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=$g(e,i,c,a);break t}else if(c!==f){f=An(Error(s(424)),i),Dr(f),i=$g(e,i,c,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($t=Tn(e.firstChild),Oe=i,Nt=!0,Xi=null,xn=!0,a=qp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(js(),c===f){i=vi(e,i,a);break t}Le(e,i,c,a)}i=i.child}return i;case 26:return vo(e,i),e===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Nt||(a=i.type,e=i.pendingProps,c=jo(rt.current).createElement(a),c[Me]=i,c[Ke]=e,Ne(c,a,e),we(c),i.stateNode=c):i.memoizedState=cv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ve(i),e===null&&Nt&&(c=i.stateNode=rv(i.type,i.pendingProps,rt.current),Oe=i,xn=!0,f=$t,ls(i.type)?(Qh=f,$t=Tn(c.firstChild)):$t=f),Le(e,i,i.pendingProps.children,a),vo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Nt&&((f=c=$t)&&(c=JA(c,i.type,i.pendingProps,xn),c!==null?(i.stateNode=c,Oe=i,$t=Tn(c.firstChild),xn=!1,f=!0):f=!1),f||Yi(i)),ve(i),f=i.type,m=i.pendingProps,b=e!==null?e.memoizedProps:null,c=m.children,Xh(f,m)?c=null:b!==null&&Xh(f,b)&&(i.flags|=32),i.memoizedState!==null&&(f=Vu(e,i,pA,null,null,a),sl._currentValue=f),vo(e,i),Le(e,i,c,a),i.child;case 6:return e===null&&Nt&&((e=a=$t)&&(a=tE(a,i.pendingProps,xn),a!==null?(i.stateNode=a,Oe=i,$t=null,e=!0):e=!1),e||Yi(i)),null;case 13:return Kg(e,i,a);case 4:return kt(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Is(i,null,c,a):Le(e,i,c,a),i.child;case 11:return Ig(e,i,i.type,i.pendingProps,a);case 7:return Le(e,i,i.pendingProps,a),i.child;case 8:return Le(e,i,i.pendingProps.children,a),i.child;case 12:return Le(e,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,$i(i,i.type,c.value),Le(e,i,c.children,a),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,Ps(i),f=De(f),c=c(f),i.flags|=1,Le(e,i,c,a),i.child;case 14:return Bg(e,i,i.type,i.pendingProps,a);case 15:return Ug(e,i,i.type,i.pendingProps,a);case 19:return Qg(e,i,a);case 31:return EA(e,i,a);case 22:return qg(e,i,a,i.pendingProps);case 24:return Ps(i),c=De(he),e===null?(f=ku(),f===null&&(f=Xt,m=Nu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:c,cache:f},Fu(i),$i(i,he,f)):((e.lanes&a)!==0&&(zu(e,i),zr(i,null,null,a),Fr()),f=e.memoizedState,m=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),$i(i,he,c)):(c=m.cache,$i(i,he,c),c!==f.cache&&Lu(i,[he],a,!0))),Le(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function yi(e){e.flags|=4}function bh(e,i,a,c,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(wm())e.flags|=8192;else throw Hs=eo,Pu}else e.flags&=-16777217}function Jg(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!pv(i))if(wm())e.flags|=8192;else throw Hs=eo,Pu}function bo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?li():536870912,e.lanes|=i,Na|=i)}function Gr(e,i){if(!Nt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Kt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function xA(e,i,a){var c=i.pendingProps;switch(Cu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(i),null;case 1:return Kt(i),null;case 3:return a=i.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),pi(he),vt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(i)?yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mu())),Kt(i),null;case 26:var f=i.type,m=i.memoizedState;return e===null?(yi(i),m!==null?(Kt(i),Jg(i,m)):(Kt(i),bh(i,f,null,c,a))):m?m!==e.memoizedState?(yi(i),Kt(i),Jg(i,m)):(Kt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==c&&yi(i),Kt(i),bh(i,f,e,c,a)),null;case 27:if(Ge(i),a=rt.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&yi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Kt(i),null}e=J.current,_a(i)?Lp(i):(e=rv(f,c,a),i.stateNode=e,yi(i))}return Kt(i),null;case 5:if(Ge(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==c&&yi(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Kt(i),null}if(m=J.current,_a(i))Lp(i);else{var b=jo(rt.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(f,{is:c.is}):b.createElement(f)}}m[Me]=i,m[Ke]=c;t:for(b=i.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===i)break t;for(;b.sibling===null;){if(b.return===null||b.return===i)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}i.stateNode=m;t:switch(Ne(m,f,c),f){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&yi(i)}}return Kt(i),bh(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==c&&yi(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(e=rt.current,_a(i)){if(e=i.stateNode,a=i.memoizedProps,c=null,f=Oe,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[Me]=i,e=!!(e.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Km(e.nodeValue,a)),e||Yi(i,!0)}else e=jo(e).createTextNode(c),e[Me]=i,i.stateNode=e}return Kt(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(c=_a(i),a!==null){if(e===null){if(!c)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Me]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),e=!1}else a=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(hn(i),i):(hn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Kt(i),null;case 13:if(c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=_a(i),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Me]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kt(i),f=!1}else f=Mu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(hn(i),i):(hn(i),null)}return hn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=c!==null,e=e!==null&&e.memoizedState!==null,a&&(c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==f&&(c.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),bo(i,i.updateQueue),Kt(i),null);case 4:return vt(),e===null&&Bh(i.stateNode.containerInfo),Kt(i),null;case 10:return pi(i.type),Kt(i),null;case 19:if(q(re),c=i.memoizedState,c===null)return Kt(i),null;if(f=(i.flags&128)!==0,m=c.rendering,m===null)if(f)Gr(c,!1);else{if(se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=ao(e),m!==null){for(i.flags|=128,Gr(c,!1),e=m.updateQueue,i.updateQueue=e,bo(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Cp(a,e),a=a.sibling;return $(re,re.current&1|2),Nt&&di(i,c.treeForkCount),i.child}e=e.sibling}c.tail!==null&&ne()>xo&&(i.flags|=128,f=!0,Gr(c,!1),i.lanes=4194304)}else{if(!f)if(e=ao(m),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,bo(i,e),Gr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Nt)return Kt(i),null}else 2*ne()-c.renderingStartTime>xo&&a!==536870912&&(i.flags|=128,f=!0,Gr(c,!1),i.lanes=4194304);c.isBackwards?(m.sibling=i.child,i.child=m):(e=c.last,e!==null?e.sibling=m:i.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=ne(),e.sibling=null,a=re.current,$(re,f?a&1|2:a&1),Nt&&di(i,c.treeForkCount),e):(Kt(i),null);case 22:case 23:return hn(i),Uu(),c=i.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(Kt(i),i.subtreeFlags&6&&(i.flags|=8192)):Kt(i),a=i.updateQueue,a!==null&&bo(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),e!==null&&q(Fs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),pi(he),Kt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function wA(e,i){switch(Cu(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return pi(he),vt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ge(i),null;case 31:if(i.memoizedState!==null){if(hn(i),i.alternate===null)throw Error(s(340));js()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(hn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));js()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return q(re),null;case 4:return vt(),null;case 10:return pi(i.type),null;case 22:case 23:return hn(i),Uu(),e!==null&&q(Fs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return pi(he),null;case 25:return null;default:return null}}function tm(e,i){switch(Cu(i),i.tag){case 3:pi(he),vt();break;case 26:case 27:case 5:Ge(i);break;case 4:vt();break;case 31:i.memoizedState!==null&&hn(i);break;case 13:hn(i);break;case 19:q(re);break;case 10:pi(i.type);break;case 22:case 23:hn(i),Uu(),e!==null&&q(Fs);break;case 24:pi(he)}}function Vr(e,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&e)===e){c=void 0;var m=a.create,b=a.inst;c=m(),b.destroy=c}a=a.next}while(a!==f)}}catch(w){It(i,i.return,w)}}function ts(e,i,a){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var m=f.next;c=m;do{if((c.tag&e)===e){var b=c.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,f=i;var L=a,B=w;try{B()}catch(Y){It(f,L,Y)}}}c=c.next}while(c!==m)}}catch(Y){It(i,i.return,Y)}}function em(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Vp(i,a)}catch(c){It(e,e.return,c)}}}function nm(e,i,a){a.props=Us(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(c){It(e,i,c)}}function Xr(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof a=="function"?e.refCleanup=a(c):a.current=c}}catch(f){It(e,i,f)}}function Zn(e,i){var a=e.ref,c=e.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){It(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){It(e,i,f)}else a.current=null}function im(e){var i=e.type,a=e.memoizedProps,c=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break t;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){It(e,e.return,f)}}function _h(e,i,a){try{var c=e.stateNode;YA(c,e.type,a,i),c[Ke]=i}catch(f){It(e,e.return,f)}}function sm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ls(e.type)||e.tag===4}function Ah(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eh(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ci));else if(c!==4&&(c===27&&ls(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Eh(e,i,a),e=e.sibling;e!==null;)Eh(e,i,a),e=e.sibling}function _o(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(c===27&&ls(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(_o(e,i,a),e=e.sibling;e!==null;)_o(e,i,a),e=e.sibling}function am(e){var i=e.stateNode,a=e.memoizedProps;try{for(var c=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ne(i,c,a),i[Me]=e,i[Ke]=a}catch(m){It(e,e.return,m)}}var bi=!1,pe=!1,Sh=!1,rm=typeof WeakSet=="function"?WeakSet:Set,Te=null;function TA(e,i){if(e=e.containerInfo,Gh=Bo,e=yp(e),mu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var b=0,w=-1,L=-1,B=0,Y=0,Q=e,U=null;e:for(;;){for(var V;Q!==a||f!==0&&Q.nodeType!==3||(w=b+f),Q!==m||c!==0&&Q.nodeType!==3||(L=b+c),Q.nodeType===3&&(b+=Q.nodeValue.length),(V=Q.firstChild)!==null;)U=Q,Q=V;for(;;){if(Q===e)break e;if(U===a&&++B===f&&(w=b),U===m&&++Y===c&&(L=b),(V=Q.nextSibling)!==null)break;Q=U,U=Q.parentNode}Q=V}a=w===-1||L===-1?null:{start:w,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vh={focusedElem:e,selectionRange:a},Bo=!1,Te=i;Te!==null;)if(i=Te,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Te=e;else for(;Te!==null;){switch(i=Te,m=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,c=a.stateNode;try{var ut=Us(a.type,f);e=c.getSnapshotBeforeUpdate(ut,m),c.__reactInternalSnapshotBeforeUpdate=e}catch(mt){It(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)$h(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$h(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Te=e;break}Te=i.return}}function lm(e,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Ai(e,a),c&4&&Vr(5,a);break;case 1:if(Ai(e,a),c&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(b){It(a,a.return,b)}else{var f=Us(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){It(a,a.return,b)}}c&64&&em(a),c&512&&Xr(a,a.return);break;case 3:if(Ai(e,a),c&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vp(e,i)}catch(b){It(a,a.return,b)}}break;case 27:i===null&&c&4&&am(a);case 26:case 5:Ai(e,a),i===null&&c&4&&im(a),c&512&&Xr(a,a.return);break;case 12:Ai(e,a);break;case 31:Ai(e,a),c&4&&um(e,a);break;case 13:Ai(e,a),c&4&&hm(e,a),c&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kA.bind(null,a),eE(e,a))));break;case 22:if(c=a.memoizedState!==null||bi,!c){i=i!==null&&i.memoizedState!==null||pe,f=bi;var m=pe;bi=c,(pe=i)&&!m?Ei(e,a,(a.subtreeFlags&8772)!==0):Ai(e,a),bi=f,pe=m}break;case 30:break;default:Ai(e,a)}}function om(e){var i=e.alternate;i!==null&&(e.alternate=null,om(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Jc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Jt=null,Qe=!1;function _i(e,i,a){for(a=a.child;a!==null;)cm(e,i,a),a=a.sibling}function cm(e,i,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ye,a)}catch{}switch(a.tag){case 26:pe||Zn(a,i),_i(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||Zn(a,i);var c=Jt,f=Qe;ls(a.type)&&(Jt=a.stateNode,Qe=!1),_i(e,i,a),el(a.stateNode),Jt=c,Qe=f;break;case 5:pe||Zn(a,i);case 6:if(c=Jt,f=Qe,Jt=null,_i(e,i,a),Jt=c,Qe=f,Jt!==null)if(Qe)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(m){It(a,i,m)}else try{Jt.removeChild(a.stateNode)}catch(m){It(a,i,m)}break;case 18:Jt!==null&&(Qe?(e=Jt,ev(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):ev(Jt,a.stateNode));break;case 4:c=Jt,f=Qe,Jt=a.stateNode.containerInfo,Qe=!0,_i(e,i,a),Jt=c,Qe=f;break;case 0:case 11:case 14:case 15:ts(2,a,i),pe||ts(4,a,i),_i(e,i,a);break;case 1:pe||(Zn(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&nm(a,i,c)),_i(e,i,a);break;case 21:_i(e,i,a);break;case 22:pe=(c=pe)||a.memoizedState!==null,_i(e,i,a),pe=c;break;default:_i(e,i,a)}}function um(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){It(i,i.return,a)}}}function hm(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){It(i,i.return,a)}}function CA(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new rm),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new rm),i;default:throw Error(s(435,e.tag))}}function Ao(e,i){var a=CA(e);i.forEach(function(c){if(!a.has(c)){a.add(c);var f=PA.bind(null,e,c);c.then(f,f)}})}function Ze(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],m=e,b=i,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(ls(w.type)){Jt=w.stateNode,Qe=!1;break t}break;case 5:Jt=w.stateNode,Qe=!1;break t;case 3:case 4:Jt=w.stateNode.containerInfo,Qe=!0;break t}w=w.return}if(Jt===null)throw Error(s(160));cm(m,b,f),Jt=null,Qe=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)dm(i,e),i=i.sibling}var In=null;function dm(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ze(i,e),Je(e),c&4&&(ts(3,e,e.return),Vr(3,e),ts(5,e,e.return));break;case 1:Ze(i,e),Je(e),c&512&&(pe||a===null||Zn(a,a.return)),c&64&&bi&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=In;if(Ze(i,e),Je(e),c&512&&(pe||a===null||Zn(a,a.return)),c&4){var m=a!==null?a.memoizedState:null;if(c=e.memoizedState,a===null)if(c===null)if(e.stateNode===null){t:{c=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":m=f.getElementsByTagName("title")[0],(!m||m[br]||m[Me]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(c),f.head.insertBefore(m,f.querySelector("head > title"))),Ne(m,c,a),m[Me]=e,we(m),c=m;break t;case"link":var b=dv("link","href",f).get(c+(a.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(w,1);break e}}m=f.createElement(c),Ne(m,c,a),f.head.appendChild(m);break;case"meta":if(b=dv("meta","content",f).get(c+(a.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(w,1);break e}}m=f.createElement(c),Ne(m,c,a),f.head.appendChild(m);break;default:throw Error(s(468,c))}m[Me]=e,we(m),c=m}e.stateNode=c}else fv(f,e.type,e.stateNode);else e.stateNode=hv(f,c,e.memoizedProps);else m!==c?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,c===null?fv(f,e.type,e.stateNode):hv(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&_h(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ze(i,e),Je(e),c&512&&(pe||a===null||Zn(a,a.return)),a!==null&&c&4&&_h(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ze(i,e),Je(e),c&512&&(pe||a===null||Zn(a,a.return)),e.flags&32){f=e.stateNode;try{ua(f,"")}catch(ut){It(e,e.return,ut)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,_h(e,f,a!==null?a.memoizedProps:f)),c&1024&&(Sh=!0);break;case 6:if(Ze(i,e),Je(e),c&4){if(e.stateNode===null)throw Error(s(162));c=e.memoizedProps,a=e.stateNode;try{a.nodeValue=c}catch(ut){It(e,e.return,ut)}}break;case 3:if(Fo=null,f=In,In=ko(i.containerInfo),Ze(i,e),In=f,Je(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(ut){It(e,e.return,ut)}Sh&&(Sh=!1,fm(e));break;case 4:c=In,In=ko(e.stateNode.containerInfo),Ze(i,e),Je(e),In=c;break;case 12:Ze(i,e),Je(e);break;case 31:Ze(i,e),Je(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ao(e,c)));break;case 13:Ze(i,e),Je(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(So=ne()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ao(e,c)));break;case 22:f=e.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,B=bi,Y=pe;if(bi=B||f,pe=Y||L,Ze(i,e),pe=Y,bi=B,Je(e),c&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||L||bi||pe||qs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){L=a=i;try{if(m=L.stateNode,f)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=L.stateNode;var Q=L.memoizedProps.style,U=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ut){It(L,L.return,ut)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(ut){It(L,L.return,ut)}}}else if(i.tag===18){if(a===null){L=i;try{var V=L.stateNode;f?nv(V,!0):nv(L.stateNode,!1)}catch(ut){It(L,L.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=e.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Ao(e,a))));break;case 19:Ze(i,e),Je(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Ao(e,c)));break;case 30:break;case 21:break;default:Ze(i,e),Je(e)}}function Je(e){var i=e.flags;if(i&2){try{for(var a,c=e.return;c!==null;){if(sm(c)){a=c;break}c=c.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Ah(e);_o(e,m,f);break;case 5:var b=a.stateNode;a.flags&32&&(ua(b,""),a.flags&=-33);var w=Ah(e);_o(e,w,b);break;case 3:case 4:var L=a.stateNode.containerInfo,B=Ah(e);Eh(e,B,L);break;default:throw Error(s(161))}}catch(Y){It(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function fm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;fm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Ai(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)lm(e,i.alternate,i),i=i.sibling}function qs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ts(4,i,i.return),qs(i);break;case 1:Zn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&nm(i,i.return,a),qs(i);break;case 27:el(i.stateNode);case 26:case 5:Zn(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}e=e.sibling}}function Ei(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=e,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:Ei(f,m,a),Vr(4,m);break;case 1:if(Ei(f,m,a),c=m,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){It(c,c.return,B)}if(c=m,f=c.updateQueue,f!==null){var w=c.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)Gp(L[f],w)}catch(B){It(c,c.return,B)}}a&&b&64&&em(m),Xr(m,m.return);break;case 27:am(m);case 26:case 5:Ei(f,m,a),a&&c===null&&b&4&&im(m),Xr(m,m.return);break;case 12:Ei(f,m,a);break;case 31:Ei(f,m,a),a&&b&4&&um(f,m);break;case 13:Ei(f,m,a),a&&b&4&&hm(f,m);break;case 22:m.memoizedState===null&&Ei(f,m,a),Xr(m,m.return);break;case 30:break;default:Ei(f,m,a)}i=i.sibling}}function xh(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lr(a))}function wh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lr(e))}function Bn(e,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pm(e,i,a,c),i=i.sibling}function pm(e,i,a,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Bn(e,i,a,c),f&2048&&Vr(9,i);break;case 1:Bn(e,i,a,c);break;case 3:Bn(e,i,a,c),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lr(e)));break;case 12:if(f&2048){Bn(e,i,a,c),e=i.stateNode;try{var m=i.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(L){It(i,i.return,L)}}else Bn(e,i,a,c);break;case 31:Bn(e,i,a,c);break;case 13:Bn(e,i,a,c);break;case 23:break;case 22:m=i.stateNode,b=i.alternate,i.memoizedState!==null?m._visibility&2?Bn(e,i,a,c):Yr(e,i):m._visibility&2?Bn(e,i,a,c):(m._visibility|=2,Oa(e,i,a,c,(i.subtreeFlags&10256)!==0||!1)),f&2048&&xh(b,i);break;case 24:Bn(e,i,a,c),f&2048&&wh(i.alternate,i);break;default:Bn(e,i,a,c)}}function Oa(e,i,a,c,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=e,b=i,w=a,L=c,B=b.flags;switch(b.tag){case 0:case 11:case 15:Oa(m,b,w,L,f),Vr(8,b);break;case 23:break;case 22:var Y=b.stateNode;b.memoizedState!==null?Y._visibility&2?Oa(m,b,w,L,f):Yr(m,b):(Y._visibility|=2,Oa(m,b,w,L,f)),f&&B&2048&&xh(b.alternate,b);break;case 24:Oa(m,b,w,L,f),f&&B&2048&&wh(b.alternate,b);break;default:Oa(m,b,w,L,f)}i=i.sibling}}function Yr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,c=i,f=c.flags;switch(c.tag){case 22:Yr(a,c),f&2048&&xh(c.alternate,c);break;case 24:Yr(a,c),f&2048&&wh(c.alternate,c);break;default:Yr(a,c)}i=i.sibling}}var $r=8192;function Da(e,i,a){if(e.subtreeFlags&$r)for(e=e.child;e!==null;)gm(e,i,a),e=e.sibling}function gm(e,i,a){switch(e.tag){case 26:Da(e,i,a),e.flags&$r&&e.memoizedState!==null&&fE(a,In,e.memoizedState,e.memoizedProps);break;case 5:Da(e,i,a);break;case 3:case 4:var c=In;In=ko(e.stateNode.containerInfo),Da(e,i,a),In=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=$r,$r=16777216,Da(e,i,a),$r=c):Da(e,i,a));break;default:Da(e,i,a)}}function mm(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Kr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Te=c,ym(c,e)}mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vm(e),e=e.sibling}function vm(e){switch(e.tag){case 0:case 11:case 15:Kr(e),e.flags&2048&&ts(9,e,e.return);break;case 3:Kr(e);break;case 12:Kr(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Eo(e)):Kr(e);break;default:Kr(e)}}function Eo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];Te=c,ym(c,e)}mm(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ts(8,i,i.return),Eo(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Eo(i));break;default:Eo(i)}e=e.sibling}}function ym(e,i){for(;Te!==null;){var a=Te;switch(a.tag){case 0:case 11:case 15:ts(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Lr(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,Te=c;else t:for(a=e;Te!==null;){c=Te;var f=c.sibling,m=c.return;if(om(c),c===a){Te=null;break t}if(f!==null){f.return=m,Te=f;break t}Te=m}}}var RA={getCacheForType:function(e){var i=De(he),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return De(he).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,zt=0,Xt=null,Rt=null,Dt=0,Ht=0,dn=null,es=!1,La=!1,Th=!1,Si=0,se=0,ns=0,Gs=0,Ch=0,fn=0,Na=0,Wr=null,tn=null,Rh=!1,So=0,bm=0,xo=1/0,wo=null,is=null,_e=0,ss=null,ja=null,xi=0,Mh=0,Oh=null,_m=null,Qr=0,Dh=null;function pn(){return(zt&2)!==0&&Dt!==0?Dt&-Dt:j.T!==null?Fh():Pf()}function Am(){if(fn===0)if((Dt&536870912)===0||Nt){var e=ze;ze<<=1,(ze&3932160)===0&&(ze=262144),fn=e}else fn=536870912;return e=un.current,e!==null&&(e.flags|=32),fn}function en(e,i,a){(e===Xt&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(ka(e,0),as(e,Dt,fn,!1)),Kn(e,a),((zt&2)===0||e!==Xt)&&(e===Xt&&((zt&2)===0&&(Gs|=a),se===4&&as(e,Dt,fn,!1)),Jn(e))}function Em(e,i,a){if((zt&6)!==0)throw Error(s(327));var c=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Cs(e,i),f=c?LA(e,i):Nh(e,i,!0),m=c;do{if(f===0){La&&!c&&as(e,i,0,!1);break}else{if(a=e.current.alternate,m&&!OA(a)){f=Nh(e,i,!1),m=!1;continue}if(f===2){if(m=i,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var w=e;f=Wr;var L=w.current.memoizedState.isDehydrated;if(L&&(ka(w,b).flags|=256),b=Nh(w,b,!1),b!==2){if(Th&&!L){w.errorRecoveryDisabledLanes|=m,Gs|=m,f=4;break t}m=tn,tn=f,m!==null&&(tn===null?tn=m:tn.push.apply(tn,m))}f=b}if(m=!1,f!==2)continue}}if(f===1){ka(e,0),as(e,i,0,!0);break}t:{switch(c=e,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:as(c,i,fn,!es);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=So+300-ne(),10<f)){if(as(c,i,fn,!es),ia(c,0,!0)!==0)break t;xi=i,c.timeoutHandle=Jm(Sm.bind(null,c,a,tn,wo,Rh,i,fn,Gs,Na,es,m,"Throttled",-0,0),f);break t}Sm(c,a,tn,wo,Rh,i,fn,Gs,Na,es,m,null,-0,0)}}break}while(!0);Jn(e)}function Sm(e,i,a,c,f,m,b,w,L,B,Y,Q,U,V){if(e.timeoutHandle=-1,Q=i.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},gm(i,m,Q);var ut=(m&62914560)===m?So-ne():(m&4194048)===m?bm-ne():0;if(ut=pE(Q,ut),ut!==null){xi=m,e.cancelPendingCommit=ut(Dm.bind(null,e,i,m,a,c,f,b,w,L,Y,Q,null,U,V)),as(e,m,b,!B);return}}Dm(e,i,m,a,c,f,b,w,L)}function OA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!on(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function as(e,i,a,c){i&=~Ch,i&=~Gs,e.suspendedLanes|=i,e.pingedLanes&=~i,c&&(e.warmLanes|=i),c=e.expirationTimes;for(var f=i;0<f;){var m=31-Vt(f),b=1<<m;c[m]=-1,f&=~b}a!==0&&Nf(e,a,i)}function To(){return(zt&6)===0?(Zr(0),!1):!0}function Lh(){if(Rt!==null){if(Ht===0)var e=Rt.return;else e=Rt,fi=ks=null,$u(e),wa=null,jr=0,e=Rt;for(;e!==null;)tm(e.alternate,e),e=e.return;Rt=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,WA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xi=0,Lh(),Xt=e,Rt=a=hi(e.current,null),Dt=i,Ht=0,dn=null,es=!1,La=Cs(e,i),Th=!1,Na=fn=Ch=Gs=ns=se=0,tn=Wr=null,Rh=!1,(i&8)!==0&&(i|=i&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=i;0<c;){var f=31-Vt(c),m=1<<f;i|=e[f],c&=~m}return Si=i,Xl(),a}function xm(e,i){xt=null,j.H=Ur,i===xa||i===to?(i=Ip(),Ht=3):i===Pu?(i=Ip(),Ht=4):Ht=i===uh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Rt===null&&(se=1,go(e,An(i,e.current)))}function wm(){var e=un.current;return e===null?!0:(Dt&4194048)===Dt?wn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===wn:!1}function Tm(){var e=j.H;return j.H=Ur,e===null?Ur:e}function Cm(){var e=j.A;return j.A=RA,e}function Co(){se=4,es||(Dt&4194048)!==Dt&&un.current!==null||(La=!0),(ns&134217727)===0&&(Gs&134217727)===0||Xt===null||as(Xt,Dt,fn,!1)}function Nh(e,i,a){var c=zt;zt|=2;var f=Tm(),m=Cm();(Xt!==e||Dt!==i)&&(wo=null,ka(e,i)),i=!1;var b=se;t:do try{if(Ht!==0&&Rt!==null){var w=Rt,L=dn;switch(Ht){case 8:Lh(),b=6;break t;case 3:case 2:case 9:case 6:un.current===null&&(i=!0);var B=Ht;if(Ht=0,dn=null,Pa(e,w,L,B),a&&La){b=0;break t}break;default:B=Ht,Ht=0,dn=null,Pa(e,w,L,B)}}DA(),b=se;break}catch(Y){xm(e,Y)}while(!0);return i&&e.shellSuspendCounter++,fi=ks=null,zt=c,j.H=f,j.A=m,Rt===null&&(Xt=null,Dt=0,Xl()),b}function DA(){for(;Rt!==null;)Rm(Rt)}function LA(e,i){var a=zt;zt|=2;var c=Tm(),f=Cm();Xt!==e||Dt!==i?(wo=null,xo=ne()+500,ka(e,i)):La=Cs(e,i);t:do try{if(Ht!==0&&Rt!==null){i=Rt;var m=dn;e:switch(Ht){case 1:Ht=0,dn=null,Pa(e,i,m,1);break;case 2:case 9:if(zp(m)){Ht=0,dn=null,Mm(i);break}i=function(){Ht!==2&&Ht!==9||Xt!==e||(Ht=7),Jn(e)},m.then(i,i);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:zp(m)?(Ht=0,dn=null,Mm(i)):(Ht=0,dn=null,Pa(e,i,m,7));break;case 5:var b=null;switch(Rt.tag){case 26:b=Rt.memoizedState;case 5:case 27:var w=Rt;if(b?pv(b):w.stateNode.complete){Ht=0,dn=null;var L=w.sibling;if(L!==null)Rt=L;else{var B=w.return;B!==null?(Rt=B,Ro(B)):Rt=null}break e}}Ht=0,dn=null,Pa(e,i,m,5);break;case 6:Ht=0,dn=null,Pa(e,i,m,6);break;case 8:Lh(),se=6;break t;default:throw Error(s(462))}}NA();break}catch(Y){xm(e,Y)}while(!0);return fi=ks=null,j.H=c,j.A=f,zt=a,Rt!==null?0:(Xt=null,Dt=0,Xl(),se)}function NA(){for(;Rt!==null&&!Fn();)Rm(Rt)}function Rm(e){var i=Zg(e.alternate,e,Si);e.memoizedProps=e.pendingProps,i===null?Ro(e):Rt=i}function Mm(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Xg(a,i,i.pendingProps,i.type,void 0,Dt);break;case 11:i=Xg(a,i,i.pendingProps,i.type.render,i.ref,Dt);break;case 5:$u(i);default:tm(a,i),i=Rt=Cp(i,Si),i=Zg(a,i,Si)}e.memoizedProps=e.pendingProps,i===null?Ro(e):Rt=i}function Pa(e,i,a,c){fi=ks=null,$u(i),wa=null,jr=0;var f=i.return;try{if(AA(e,f,i,a,Dt)){se=1,go(e,An(a,e.current)),Rt=null;return}}catch(m){if(f!==null)throw Rt=f,m;se=1,go(e,An(a,e.current)),Rt=null;return}i.flags&32768?(Nt||c===1?e=!0:La||(Dt&536870912)!==0?e=!1:(es=e=!0,(c===2||c===9||c===3||c===6)&&(c=un.current,c!==null&&c.tag===13&&(c.flags|=16384))),Om(i,e)):Ro(i)}function Ro(e){var i=e;do{if((i.flags&32768)!==0){Om(i,es);return}e=i.return;var a=xA(i.alternate,i,Si);if(a!==null){Rt=a;return}if(i=i.sibling,i!==null){Rt=i;return}Rt=i=e}while(i!==null);se===0&&(se=5)}function Om(e,i){do{var a=wA(e.alternate,e);if(a!==null){a.flags&=32767,Rt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=a}while(e!==null);se=6,Rt=null}function Dm(e,i,a,c,f,m,b,w,L){e.cancelPendingCommit=null;do Mo();while(_e!==0);if((zt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=Au,yr(e,a,m,b,w,L),e===Xt&&(Rt=Xt=null,Dt=0),ja=i,ss=e,xi=a,Mh=m,Oh=f,_m=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,FA(Ii,function(){return Pm(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=j.T,j.T=null,f=F.p,F.p=2,b=zt,zt|=4;try{TA(e,i,a)}finally{zt=b,F.p=f,j.T=c}}_e=1,Lm(),Nm(),jm()}}function Lm(){if(_e===1){_e=0;var e=ss,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var c=F.p;F.p=2;var f=zt;zt|=4;try{dm(i,e);var m=Vh,b=yp(e.containerInfo),w=m.focusedElem,L=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&vp(w.ownerDocument.documentElement,w)){if(L!==null&&mu(w)){var B=L.start,Y=L.end;if(Y===void 0&&(Y=B),"selectionStart"in w)w.selectionStart=B,w.selectionEnd=Math.min(Y,w.value.length);else{var Q=w.ownerDocument||document,U=Q&&Q.defaultView||window;if(U.getSelection){var V=U.getSelection(),ut=w.textContent.length,mt=Math.min(L.start,ut),Gt=L.end===void 0?mt:Math.min(L.end,ut);!V.extend&&mt>Gt&&(b=Gt,Gt=mt,mt=b);var P=mp(w,mt),N=mp(w,Gt);if(P&&N&&(V.rangeCount!==1||V.anchorNode!==P.node||V.anchorOffset!==P.offset||V.focusNode!==N.node||V.focusOffset!==N.offset)){var I=Q.createRange();I.setStart(P.node,P.offset),V.removeAllRanges(),mt>Gt?(V.addRange(I),V.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),V.addRange(I))}}}}for(Q=[],V=w;V=V.parentNode;)V.nodeType===1&&Q.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var W=Q[w];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Bo=!!Gh,Vh=Gh=null}finally{zt=f,F.p=c,j.T=a}}e.current=i,_e=2}}function Nm(){if(_e===2){_e=0;var e=ss,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var c=F.p;F.p=2;var f=zt;zt|=4;try{lm(e,i.alternate,i)}finally{zt=f,F.p=c,j.T=a}}_e=3}}function jm(){if(_e===4||_e===3){_e=0,ai();var e=ss,i=ja,a=xi,c=_m;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?_e=5:(_e=0,ja=ss=null,km(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(is=null),Qc(a),i=i.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ye,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=j.T,f=F.p,F.p=2,j.T=null;try{for(var m=e.onRecoverableError,b=0;b<c.length;b++){var w=c[b];m(w.value,{componentStack:w.stack})}}finally{j.T=i,F.p=f}}(xi&3)!==0&&Mo(),Jn(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Dh?Qr++:(Qr=0,Dh=e):Qr=0,Zr(0)}}function km(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lr(i)))}function Mo(){return Lm(),Nm(),jm(),Pm()}function Pm(){if(_e!==5)return!1;var e=ss,i=Mh;Mh=0;var a=Qc(xi),c=j.T,f=F.p;try{F.p=32>a?32:a,j.T=null,a=Oh,Oh=null;var m=ss,b=xi;if(_e=0,ja=ss=null,xi=0,(zt&6)!==0)throw Error(s(331));var w=zt;if(zt|=4,vm(m.current),pm(m,m.current,b,a),zt=w,Zr(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ye,m)}catch{}return!0}finally{F.p=f,j.T=c,km(e,i)}}function Fm(e,i,a){i=An(a,i),i=ch(e.stateNode,i,2),e=Qi(e,i,2),e!==null&&(Kn(e,2),Jn(e))}function It(e,i,a){if(e.tag===3)Fm(e,e,a);else for(;i!==null;){if(i.tag===3){Fm(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(is===null||!is.has(c))){e=An(a,e),a=zg(2),c=Qi(i,a,2),c!==null&&(Hg(a,c,i,e),Kn(c,2),Jn(c));break}}i=i.return}}function jh(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new MA;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(Th=!0,f.add(a),e=jA.bind(null,e,i,a),i.then(e,e))}function jA(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Xt===e&&(Dt&a)===a&&(se===4||se===3&&(Dt&62914560)===Dt&&300>ne()-So?(zt&2)===0&&ka(e,0):Ch|=a,Na===Dt&&(Na=0)),Jn(e)}function zm(e,i){i===0&&(i=li()),e=Ls(e,i),e!==null&&(Kn(e,i),Jn(e))}function kA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),zm(e,a)}function PA(e,i){var a=0;switch(e.tag){case 31:case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),zm(e,a)}function FA(e,i){return Yn(e,i)}var Oo=null,Fa=null,kh=!1,Do=!1,Ph=!1,rs=0;function Jn(e){e!==Fa&&e.next===null&&(Fa===null?Oo=Fa=e:Fa=Fa.next=e),Do=!0,kh||(kh=!0,HA())}function Zr(e,i){if(!Ph&&Do){Ph=!0;do for(var a=!1,c=Oo;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var m=0;else{var b=c.suspendedLanes,w=c.pingedLanes;m=(1<<31-Vt(42|e)+1)-1,m&=f&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Um(c,m))}else m=Dt,m=ia(c,c===Xt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Cs(c,m)||(a=!0,Um(c,m));c=c.next}while(a);Ph=!1}}function zA(){Hm()}function Hm(){Do=kh=!1;var e=0;rs!==0&&KA()&&(e=rs);for(var i=ne(),a=null,c=Oo;c!==null;){var f=c.next,m=Im(c,i);m===0?(c.next=null,a===null?Oo=f:a.next=f,f===null&&(Fa=a)):(a=c,(e!==0||(m&3)!==0)&&(Do=!0)),c=f}_e!==0&&_e!==5||Zr(e),rs!==0&&(rs=0)}function Im(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-Vt(m),w=1<<b,L=f[b];L===-1?((w&a)===0||(w&c)!==0)&&(f[b]=Kc(w,i)):L<=i&&(e.expiredLanes|=w),m&=~w}if(i=Xt,a=Dt,a=ia(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,a===0||e===i&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&vn(c),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Cs(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(c!==null&&vn(c),Qc(a)){case 2:case 8:a=ws;break;case 32:a=Ii;break;case 268435456:a=Yt;break;default:a=Ii}return c=Bm.bind(null,e),a=Yn(a,c),e.callbackPriority=i,e.callbackNode=a,i}return c!==null&&c!==null&&vn(c),e.callbackPriority=2,e.callbackNode=null,2}function Bm(e,i){if(_e!==0&&_e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Mo()&&e.callbackNode!==a)return null;var c=Dt;return c=ia(e,e===Xt?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Em(e,c,i),Im(e,ne()),e.callbackNode!=null&&e.callbackNode===a?Bm.bind(null,e):null)}function Um(e,i){if(Mo())return null;Em(e,i,!0)}function HA(){QA(function(){(zt&6)!==0?Yn(ri,zA):Hm()})}function Fh(){if(rs===0){var e=Ea;e===0&&(e=Fe,Fe<<=1,(Fe&261888)===0&&(Fe=256)),rs=e}return rs}function qm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zl(""+e)}function Gm(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function IA(e,i,a,c,f){if(i==="submit"&&a&&a.stateNode===f){var m=qm((f[Ke]||null).action),b=c.submitter;b&&(i=(i=b[Ke]||null)?qm(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var w=new Ul("action","action",null,c,f);e.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(rs!==0){var L=b?Gm(f,b):new FormData(f);ih(a,{pending:!0,data:L,method:f.method,action:m},null,L)}}else typeof m=="function"&&(w.preventDefault(),L=b?Gm(f,b):new FormData(f),ih(a,{pending:!0,data:L,method:f.method,action:m},m,L))},currentTarget:f}]})}}for(var zh=0;zh<_u.length;zh++){var Hh=_u[zh],BA=Hh.toLowerCase(),UA=Hh[0].toUpperCase()+Hh.slice(1);Hn(BA,"on"+UA)}Hn(Ap,"onAnimationEnd"),Hn(Ep,"onAnimationIteration"),Hn(Sp,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(sA,"onTransitionRun"),Hn(aA,"onTransitionStart"),Hn(rA,"onTransitionCancel"),Hn(xp,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jr));function Vm(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],f=c.event;c=c.listeners;t:{var m=void 0;if(i)for(var b=c.length-1;0<=b;b--){var w=c[b],L=w.instance,B=w.currentTarget;if(w=w.listener,L!==m&&f.isPropagationStopped())break t;m=w,f.currentTarget=B;try{m(f)}catch(Y){Vl(Y)}f.currentTarget=null,m=L}else for(b=0;b<c.length;b++){if(w=c[b],L=w.instance,B=w.currentTarget,w=w.listener,L!==m&&f.isPropagationStopped())break t;m=w,f.currentTarget=B;try{m(f)}catch(Y){Vl(Y)}f.currentTarget=null,m=L}}}}function Mt(e,i){var a=i[Zc];a===void 0&&(a=i[Zc]=new Set);var c=e+"__bubble";a.has(c)||(Xm(i,e,2,!1),a.add(c))}function Ih(e,i,a){var c=0;i&&(c|=4),Xm(a,e,c,i)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function Bh(e){if(!e[Lo]){e[Lo]=!0,Hf.forEach(function(a){a!=="selectionchange"&&(qA.has(a)||Ih(a,!1,e),Ih(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Lo]||(i[Lo]=!0,Ih("selectionchange",!1,i))}}function Xm(e,i,a,c){switch(Av(i)){case 2:var f=vE;break;case 8:f=yE;break;default:f=nd}a=f.bind(null,i,a,e),f=void 0,!lu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function Uh(e,i,a,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var w=c.stateNode.containerInfo;if(w===f)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;w!==null;){if(b=aa(w),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=m=b;continue t}w=w.parentNode}}c=c.return}Qf(function(){var B=m,Y=au(a),Q=[];t:{var U=wp.get(e);if(U!==void 0){var V=Ul,ut=e;switch(e){case"keypress":if(Il(a)===0)break t;case"keydown":case"keyup":V=P_;break;case"focusin":ut="focus",V=hu;break;case"focusout":ut="blur",V=hu;break;case"beforeblur":case"afterblur":V=hu;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=x_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=H_;break;case Ap:case Ep:case Sp:V=C_;break;case xp:V=B_;break;case"scroll":case"scrollend":V=E_;break;case"wheel":V=q_;break;case"copy":case"cut":case"paste":V=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=np;break;case"toggle":case"beforetoggle":V=V_}var mt=(i&4)!==0,Gt=!mt&&(e==="scroll"||e==="scrollend"),P=mt?U!==null?U+"Capture":null:U;mt=[];for(var N=B,I;N!==null;){var W=N;if(I=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||I===null||P===null||(W=Ar(N,P),W!=null&&mt.push(tl(N,W,I))),Gt)break;N=N.return}0<mt.length&&(U=new V(U,ut,null,a,Y),Q.push({event:U,listeners:mt}))}}if((i&7)===0){t:{if(U=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",U&&a!==su&&(ut=a.relatedTarget||a.fromElement)&&(aa(ut)||ut[sa]))break t;if((V||U)&&(U=Y.window===Y?Y:(U=Y.ownerDocument)?U.defaultView||U.parentWindow:window,V?(ut=a.relatedTarget||a.toElement,V=B,ut=ut?aa(ut):null,ut!==null&&(Gt=l(ut),mt=ut.tag,ut!==Gt||mt!==5&&mt!==27&&mt!==6)&&(ut=null)):(V=null,ut=B),V!==ut)){if(mt=tp,W="onMouseLeave",P="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=np,W="onPointerLeave",P="onPointerEnter",N="pointer"),Gt=V==null?U:_r(V),I=ut==null?U:_r(ut),U=new mt(W,N+"leave",V,a,Y),U.target=Gt,U.relatedTarget=I,W=null,aa(Y)===B&&(mt=new mt(P,N+"enter",ut,a,Y),mt.target=I,mt.relatedTarget=Gt,W=mt),Gt=W,V&&ut)e:{for(mt=GA,P=V,N=ut,I=0,W=P;W;W=mt(W))I++;W=0;for(var pt=N;pt;pt=mt(pt))W++;for(;0<I-W;)P=mt(P),I--;for(;0<W-I;)N=mt(N),W--;for(;I--;){if(P===N||N!==null&&P===N.alternate){mt=P;break e}P=mt(P),N=mt(N)}mt=null}else mt=null;V!==null&&Ym(Q,U,V,mt,!1),ut!==null&&Gt!==null&&Ym(Q,Gt,ut,mt,!0)}}t:{if(U=B?_r(B):window,V=U.nodeName&&U.nodeName.toLowerCase(),V==="select"||V==="input"&&U.type==="file")var Pt=up;else if(op(U))if(hp)Pt=eA;else{Pt=J_;var ht=Z_}else V=U.nodeName,!V||V.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&iu(B.elementType)&&(Pt=up):Pt=tA;if(Pt&&(Pt=Pt(e,B))){cp(Q,Pt,a,Y);break t}ht&&ht(e,U,B),e==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&nu(U,"number",U.value)}switch(ht=B?_r(B):window,e){case"focusin":(op(ht)||ht.contentEditable==="true")&&(pa=ht,vu=B,Mr=null);break;case"focusout":Mr=vu=pa=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,bp(Q,a,Y);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":bp(Q,a,Y)}var wt;if(fu)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else fa?rp(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(ip&&a.locale!=="ko"&&(fa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&fa&&(wt=Zf()):(Gi=Y,ou="value"in Gi?Gi.value:Gi.textContent,fa=!0)),ht=No(B,Lt),0<ht.length&&(Lt=new ep(Lt,e,null,a,Y),Q.push({event:Lt,listeners:ht}),wt?Lt.data=wt:(wt=lp(a),wt!==null&&(Lt.data=wt)))),(wt=Y_?$_(e,a):K_(e,a))&&(Lt=No(B,"onBeforeInput"),0<Lt.length&&(ht=new ep("onBeforeInput","beforeinput",null,a,Y),Q.push({event:ht,listeners:Lt}),ht.data=wt)),IA(Q,e,B,a,Y)}Vm(Q,i)})}function tl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function No(e,i){for(var a=i+"Capture",c=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ar(e,a),f!=null&&c.unshift(tl(e,f,m)),f=Ar(e,i),f!=null&&c.push(tl(e,f,m))),e.tag===3)return c;e=e.return}return[]}function GA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ym(e,i,a,c,f){for(var m=i._reactName,b=[];a!==null&&a!==c;){var w=a,L=w.alternate,B=w.stateNode;if(w=w.tag,L!==null&&L===c)break;w!==5&&w!==26&&w!==27||B===null||(L=B,f?(B=Ar(a,m),B!=null&&b.unshift(tl(a,B,L))):f||(B=Ar(a,m),B!=null&&b.push(tl(a,B,L)))),a=a.return}b.length!==0&&e.push({event:i,listeners:b})}var VA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function $m(e){return(typeof e=="string"?e:""+e).replace(VA,`
`).replace(XA,"")}function Km(e,i){return i=$m(i),$m(e)===i}function qt(e,i,a,c,f,m){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ua(e,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ua(e,""+c);break;case"className":Pl(e,"class",c);break;case"tabIndex":Pl(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pl(e,a,c);break;case"style":Kf(e,c,m);break;case"data":if(i!=="object"){Pl(e,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=zl(""+c),e.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&qt(e,i,"name",f.name,f,null),qt(e,i,"formEncType",f.formEncType,f,null),qt(e,i,"formMethod",f.formMethod,f,null),qt(e,i,"formTarget",f.formTarget,f,null)):(qt(e,i,"encType",f.encType,f,null),qt(e,i,"method",f.method,f,null),qt(e,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(a);break}c=zl(""+c),e.setAttribute(a,c);break;case"onClick":c!=null&&(e.onclick=ci);break;case"onScroll":c!=null&&Mt("scroll",e);break;case"onScrollEnd":c!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}a=zl(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""+c):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":c===!0?e.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(a,c):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(a,c):e.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(a):e.setAttribute(a,c);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),kl(e,"popover",c);break;case"xlinkActuate":oi(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":oi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":oi(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":oi(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":oi(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":oi(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":oi(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":oi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":oi(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":kl(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=__.get(a)||a,kl(e,a,c))}}function qh(e,i,a,c,f,m){switch(a){case"style":Kf(e,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof c=="string"?ua(e,c):(typeof c=="number"||typeof c=="bigint")&&ua(e,""+c);break;case"onScroll":c!=null&&Mt("scroll",e);break;case"onScrollEnd":c!=null&&Mt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!If.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=e[Ke]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(i,m,f),typeof c=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,c,f);break t}a in e?e[a]=c:c===!0?e.setAttribute(a,""):kl(e,a,c)}}}function Ne(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var c=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:qt(e,i,m,b,a,null)}}f&&qt(e,i,"srcSet",a.srcSet,a,null),c&&qt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var w=m=b=f=null,L=null,B=null;for(c in a)if(a.hasOwnProperty(c)){var Y=a[c];if(Y!=null)switch(c){case"name":f=Y;break;case"type":b=Y;break;case"checked":L=Y;break;case"defaultChecked":B=Y;break;case"value":m=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:qt(e,i,c,Y,a,null)}}Vf(e,m,w,L,B,b,f,!1);return;case"select":Mt("invalid",e),c=b=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":c=w;default:qt(e,i,f,w,a,null)}i=m,a=b,e.multiple=!!c,i!=null?ca(e,!!c,i,!1):a!=null&&ca(e,!!c,a,!0);return;case"textarea":Mt("invalid",e),m=f=c=null;for(b in a)if(a.hasOwnProperty(b)&&(w=a[b],w!=null))switch(b){case"value":c=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:qt(e,i,b,w,a,null)}Yf(e,c,f,m);return;case"option":for(L in a)if(a.hasOwnProperty(L)&&(c=a[L],c!=null))switch(L){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:qt(e,i,L,c,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(c=0;c<Jr.length;c++)Mt(Jr[c],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(c=a[B],c!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:qt(e,i,B,c,a,null)}return;default:if(iu(i)){for(Y in a)a.hasOwnProperty(Y)&&(c=a[Y],c!==void 0&&qh(e,i,Y,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&qt(e,i,w,c,a,null))}function YA(e,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,b=null,w=null,L=null,B=null,Y=null;for(V in a){var Q=a[V];if(a.hasOwnProperty(V)&&Q!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":L=Q;default:c.hasOwnProperty(V)||qt(e,i,V,null,c,Q)}}for(var U in c){var V=c[U];if(Q=a[U],c.hasOwnProperty(U)&&(V!=null||Q!=null))switch(U){case"type":m=V;break;case"name":f=V;break;case"checked":B=V;break;case"defaultChecked":Y=V;break;case"value":b=V;break;case"defaultValue":w=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,i));break;default:V!==Q&&qt(e,i,U,V,c,Q)}}eu(e,b,w,L,B,Y,m,f);return;case"select":V=b=w=U=null;for(m in a)if(L=a[m],a.hasOwnProperty(m)&&L!=null)switch(m){case"value":break;case"multiple":V=L;default:c.hasOwnProperty(m)||qt(e,i,m,null,c,L)}for(f in c)if(m=c[f],L=a[f],c.hasOwnProperty(f)&&(m!=null||L!=null))switch(f){case"value":U=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==L&&qt(e,i,f,m,c,L)}i=w,a=b,c=V,U!=null?ca(e,!!a,U,!1):!!c!=!!a&&(i!=null?ca(e,!!a,i,!0):ca(e,!!a,a?[]:"",!1));return;case"textarea":V=U=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:qt(e,i,w,null,c,f)}for(b in c)if(f=c[b],m=a[b],c.hasOwnProperty(b)&&(f!=null||m!=null))switch(b){case"value":U=f;break;case"defaultValue":V=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&qt(e,i,b,f,c,m)}Xf(e,U,V);return;case"option":for(var ut in a)if(U=a[ut],a.hasOwnProperty(ut)&&U!=null&&!c.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:qt(e,i,ut,null,c,U)}for(L in c)if(U=c[L],V=a[L],c.hasOwnProperty(L)&&U!==V&&(U!=null||V!=null))switch(L){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:qt(e,i,L,U,c,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)U=a[mt],a.hasOwnProperty(mt)&&U!=null&&!c.hasOwnProperty(mt)&&qt(e,i,mt,null,c,U);for(B in c)if(U=c[B],V=a[B],c.hasOwnProperty(B)&&U!==V&&(U!=null||V!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:qt(e,i,B,U,c,V)}return;default:if(iu(i)){for(var Gt in a)U=a[Gt],a.hasOwnProperty(Gt)&&U!==void 0&&!c.hasOwnProperty(Gt)&&qh(e,i,Gt,void 0,c,U);for(Y in c)U=c[Y],V=a[Y],!c.hasOwnProperty(Y)||U===V||U===void 0&&V===void 0||qh(e,i,Y,U,c,V);return}}for(var P in a)U=a[P],a.hasOwnProperty(P)&&U!=null&&!c.hasOwnProperty(P)&&qt(e,i,P,null,c,U);for(Q in c)U=c[Q],V=a[Q],!c.hasOwnProperty(Q)||U===V||U==null&&V==null||qt(e,i,Q,U,c,V)}function Wm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $A(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var f=a[c],m=f.transferSize,b=f.initiatorType,w=f.duration;if(m&&w&&Wm(b)){for(b=0,w=f.responseEnd,c+=1;c<a.length;c++){var L=a[c],B=L.startTime;if(B>w)break;var Y=L.transferSize,Q=L.initiatorType;Y&&Wm(Q)&&(L=L.responseEnd,b+=Y*(L<w?1:(w-B)/(L-B)))}if(--c,i+=8*(m+b)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gh=null,Vh=null;function jo(e){return e.nodeType===9?e:e.ownerDocument}function Qm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Xh(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Yh=null;function KA(){var e=window.event;return e&&e.type==="popstate"?e===Yh?!1:(Yh=e,!0):(Yh=null,!1)}var Jm=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(ZA)}:Jm;function ZA(e){setTimeout(function(){throw e})}function ls(e){return e==="head"}function ev(e,i){var a=i,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(c===0){e.removeChild(f),Ba(i);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")el(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,el(a);for(var m=a.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[br]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}else a==="body"&&el(e.ownerDocument.body);a=f}while(a);Ba(i)}function nv(e,i){var a=e;e=0;do{var c=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=c}while(a)}function $h(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$h(a),Jc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function JA(e,i,a,c){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[br])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Tn(e.nextSibling),e===null)break}return null}function tE(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Tn(e.nextSibling),e===null))return null;return e}function iv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Tn(e.nextSibling),e===null))return null;return e}function Kh(e){return e.data==="$?"||e.data==="$~"}function Wh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eE(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Tn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Qh=null;function sv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Tn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function av(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function rv(e,i,a){switch(i=jo(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function el(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Jc(e)}var Cn=new Map,lv=new Set;function ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wi=F.d;F.d={f:nE,r:iE,D:sE,C:aE,L:rE,m:lE,X:cE,S:oE,M:uE};function nE(){var e=wi.f(),i=To();return e||i}function iE(e){var i=ra(e);i!==null&&i.tag===5&&i.type==="form"?xg(i):wi.r(e)}var za=typeof document>"u"?null:document;function ov(e,i,a){var c=za;if(c&&typeof i=="string"&&i){var f=bn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),lv.has(f)||(lv.add(f),e={rel:e,crossOrigin:a,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),Ne(i,"link",e),we(i),c.head.appendChild(i)))}}function sE(e){wi.D(e),ov("dns-prefetch",e,null)}function aE(e,i){wi.C(e,i),ov("preconnect",e,i)}function rE(e,i,a){wi.L(e,i,a);var c=za;if(c&&e&&i){var f='link[rel="preload"][as="'+bn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+bn(a.imageSizes)+'"]')):f+='[href="'+bn(e)+'"]';var m=f;switch(i){case"style":m=Ha(e);break;case"script":m=Ia(e)}Cn.has(m)||(e=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cn.set(m,e),c.querySelector(f)!==null||i==="style"&&c.querySelector(nl(m))||i==="script"&&c.querySelector(il(m))||(i=c.createElement("link"),Ne(i,"link",e),we(i),c.head.appendChild(i)))}}function lE(e,i){wi.m(e,i);var a=za;if(a&&e){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(e)+'"]',m=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Ia(e)}if(!Cn.has(m)&&(e=v({rel:"modulepreload",href:e},i),Cn.set(m,e),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(m)))return}c=a.createElement("link"),Ne(c,"link",e),we(c),a.head.appendChild(c)}}}function oE(e,i,a){wi.S(e,i,a);var c=za;if(c&&e){var f=la(c).hoistableStyles,m=Ha(e);i=i||"default";var b=f.get(m);if(!b){var w={loading:0,preload:null};if(b=c.querySelector(nl(m)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cn.get(m))&&Zh(e,a);var L=b=c.createElement("link");we(L),Ne(L,"link",e),L._p=new Promise(function(B,Y){L.onload=B,L.onerror=Y}),L.addEventListener("load",function(){w.loading|=1}),L.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Po(b,i,c)}b={type:"stylesheet",instance:b,count:1,state:w},f.set(m,b)}}}function cE(e,i){wi.X(e,i);var a=za;if(a&&e){var c=la(a).hoistableScripts,f=Ia(e),m=c.get(f);m||(m=a.querySelector(il(f)),m||(e=v({src:e,async:!0},i),(i=Cn.get(f))&&Jh(e,i),m=a.createElement("script"),we(m),Ne(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function uE(e,i){wi.M(e,i);var a=za;if(a&&e){var c=la(a).hoistableScripts,f=Ia(e),m=c.get(f);m||(m=a.querySelector(il(f)),m||(e=v({src:e,async:!0,type:"module"},i),(i=Cn.get(f))&&Jh(e,i),m=a.createElement("script"),we(m),Ne(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(f,m))}}function cv(e,i,a,c){var f=(f=rt.current)?ko(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=la(f).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ha(a.href);var m=la(f).hoistableStyles,b=m.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=f.querySelector(nl(e)))&&!m._p&&(b.instance=m,b.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),m||hE(f,e,a,b.state))),i&&c===null)throw Error(s(528,""));return b}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ia(a),a=la(f).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ha(e){return'href="'+bn(e)+'"'}function nl(e){return'link[rel="stylesheet"]['+e+"]"}function uv(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function hE(e,i,a,c){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=e.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),Ne(i,"link",a),we(i),e.head.appendChild(i))}function Ia(e){return'[src="'+bn(e)+'"]'}function il(e){return"script[async]"+e}function hv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=e.querySelector('style[data-href~="'+bn(a.href)+'"]');if(c)return i.instance=c,we(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),we(c),Ne(c,"style",f),Po(c,a.precedence,e),i.instance=c;case"stylesheet":f=Ha(a.href);var m=e.querySelector(nl(f));if(m)return i.state.loading|=4,i.instance=m,we(m),m;c=uv(a),(f=Cn.get(f))&&Zh(c,f),m=(e.ownerDocument||e).createElement("link"),we(m);var b=m;return b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),Ne(m,"link",c),i.state.loading|=4,Po(m,a.precedence,e),i.instance=m;case"script":return m=Ia(a.src),(f=e.querySelector(il(m)))?(i.instance=f,we(f),f):(c=a,(f=Cn.get(m))&&(c=v({},a),Jh(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),we(f),Ne(f,"link",c),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Po(c,a.precedence,e));return i.instance}function Po(e,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,m=f,b=0;b<c.length;b++){var w=c[b];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Zh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Jh(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Fo=null;function dv(e,i,a){if(Fo===null){var c=new Map,f=Fo=new Map;f.set(a,c)}else f=Fo,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(e))return c;for(c.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var m=a[f];if(!(m[br]||m[Me]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=e+b;var w=c.get(b);w?w.push(m):c.set(b,[m])}}return c}function fv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function dE(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fE(e,i,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Ha(c.href),m=i.querySelector(nl(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=zo.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=m,we(m);return}m=i.ownerDocument||i,c=uv(c),(f=Cn.get(f))&&Zh(c,f),m=m.createElement("link"),we(m);var b=m;b._p=new Promise(function(w,L){b.onload=w,b.onerror=L}),Ne(m,"link",c),a.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=zo.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var td=0;function pE(e,i){return e.stylesheets&&e.count===0&&Io(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var c=setTimeout(function(){if(e.stylesheets&&Io(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+i);0<e.imgBytes&&td===0&&(td=62500*$A());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Io(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>td?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(f)}}:null}function zo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ho=null;function Io(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ho=new Map,i.forEach(gE,e),Ho=null,zo.call(e))}function gE(e,i){if(!(i.state.loading&4)){var a=Ho.get(e);if(a)var c=a.get(null);else{a=new Map,Ho.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var b=f[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),c=b)}c&&a.set(null,c)}f=i.instance,b=f.getAttribute("data-precedence"),m=a.get(b)||c,m===c&&a.set(null,f),a.set(b,f),this.count++,c=zo.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var sl={$$typeof:C,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function mE(e,i,a,c,f,m,b,w,L){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function gv(e,i,a,c,f,m,b,w,L,B,Y,Q){return e=new mE(e,i,a,b,L,B,Y,Q,w),i=1,m===!0&&(i|=24),m=cn(3,null,null,i),e.current=m,m.stateNode=e,i=Nu(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:a,cache:i},Fu(m),e}function mv(e){return e?(e=va,e):va}function vv(e,i,a,c,f,m){f=mv(f),c.context===null?c.context=f:c.pendingContext=f,c=Wi(i),c.payload={element:a},m=m===void 0?null:m,m!==null&&(c.callback=m),a=Qi(e,c,i),a!==null&&(en(a,e,i),Pr(a,e,i))}function yv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function ed(e,i){yv(e,i),(e=e.alternate)&&yv(e,i)}function bv(e){if(e.tag===13||e.tag===31){var i=Ls(e,67108864);i!==null&&en(i,e,67108864),ed(e,67108864)}}function _v(e){if(e.tag===13||e.tag===31){var i=pn();i=Wc(i);var a=Ls(e,i);a!==null&&en(a,e,i),ed(e,i)}}var Bo=!0;function vE(e,i,a,c){var f=j.T;j.T=null;var m=F.p;try{F.p=2,nd(e,i,a,c)}finally{F.p=m,j.T=f}}function yE(e,i,a,c){var f=j.T;j.T=null;var m=F.p;try{F.p=8,nd(e,i,a,c)}finally{F.p=m,j.T=f}}function nd(e,i,a,c){if(Bo){var f=id(c);if(f===null)Uh(e,i,c,Uo,a),Ev(e,c);else if(_E(f,e,i,a,c))c.stopPropagation();else if(Ev(e,c),i&4&&-1<bE.indexOf(e)){for(;f!==null;){var m=ra(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=ln(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var L=1<<31-Vt(b);w.entanglements[1]|=L,b&=~L}Jn(m),(zt&6)===0&&(xo=ne()+500,Zr(0))}}break;case 31:case 13:w=Ls(m,2),w!==null&&en(w,m,2),To(),ed(m,2)}if(m=id(c),m===null&&Uh(e,i,c,Uo,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else Uh(e,i,c,null,a)}}function id(e){return e=au(e),sd(e)}var Uo=null;function sd(e){if(Uo=null,e=aa(e),e!==null){var i=l(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=u(i),e!==null)return e;e=null}else if(a===31){if(e=h(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Uo=e,null}function Av(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hi()){case ri:return 2;case ws:return 8;case Ii:case $n:return 32;case Yt:return 268435456;default:return 32}default:return 32}}var ad=!1,os=null,cs=null,us=null,al=new Map,rl=new Map,hs=[],bE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(e,i){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(i.pointerId)}}function ll(e,i,a,c,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ra(i),i!==null&&bv(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function _E(e,i,a,c,f){switch(i){case"focusin":return os=ll(os,e,i,a,c,f),!0;case"dragenter":return cs=ll(cs,e,i,a,c,f),!0;case"mouseover":return us=ll(us,e,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return al.set(m,ll(al.get(m)||null,e,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,rl.set(m,ll(rl.get(m)||null,e,i,a,c,f)),!0}return!1}function Sv(e){var i=aa(e.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){e.blockedOn=i,Ff(e.priority,function(){_v(a)});return}}else if(i===31){if(i=h(a),i!==null){e.blockedOn=i,Ff(e.priority,function(){_v(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qo(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=id(e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);su=c,a.target.dispatchEvent(c),su=null}else return i=ra(a),i!==null&&bv(i),e.blockedOn=a,!1;i.shift()}return!0}function xv(e,i,a){qo(e)&&a.delete(i)}function AE(){ad=!1,os!==null&&qo(os)&&(os=null),cs!==null&&qo(cs)&&(cs=null),us!==null&&qo(us)&&(us=null),al.forEach(xv),rl.forEach(xv)}function Go(e,i){e.blockedOn===i&&(e.blockedOn=null,ad||(ad=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,AE)))}var Vo=null;function wv(e){Vo!==e&&(Vo=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Vo===e&&(Vo=null);for(var i=0;i<e.length;i+=3){var a=e[i],c=e[i+1],f=e[i+2];if(typeof c!="function"){if(sd(c||a)===null)continue;break}var m=ra(a);m!==null&&(e.splice(i,3),i-=3,ih(m,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function Ba(e){function i(L){return Go(L,e)}os!==null&&Go(os,e),cs!==null&&Go(cs,e),us!==null&&Go(us,e),al.forEach(i),rl.forEach(i);for(var a=0;a<hs.length;a++){var c=hs[a];c.blockedOn===e&&(c.blockedOn=null)}for(;0<hs.length&&(a=hs[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&hs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],m=a[c+1],b=f[Ke]||null;if(typeof m=="function")b||wv(a);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,b=m[Ke]||null)w=b.formAction;else if(sd(f)!==null)continue}else w=b.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),wv(a)}}}function Tv(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function rd(e){this._internalRoot=e}Xo.prototype.render=rd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,c=pn();vv(a,c,e,i,null,null)},Xo.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;vv(e.current,2,null,e,null,null),To(),i[sa]=null}};function Xo(e){this._internalRoot=e}Xo.prototype.unstable_scheduleHydration=function(e){if(e){var i=Pf();e={blockedOn:null,target:e,priority:i};for(var a=0;a<hs.length&&i!==0&&i<hs[a].priority;a++);hs.splice(a,0,e),a===0&&Sv(e)}};var Cv=t.version;if(Cv!=="19.2.0")throw Error(s(527,Cv,"19.2.0"));F.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var EE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{ye=Yo.inject(EE),Zt=Yo}catch{}}return ul.createRoot=function(e,i){if(!r(e))throw Error(s(299));var a=!1,c="",f=jg,m=kg,b=Pg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError)),i=gv(e,1,!1,null,null,a,c,null,f,m,b,Tv),e[sa]=i.current,Bh(e),new rd(i)},ul.hydrateRoot=function(e,i,a){if(!r(e))throw Error(s(299));var c=!1,f="",m=jg,b=kg,w=Pg,L=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),i=gv(e,1,!0,i,a??null,c,f,L,m,b,w,Tv),i.context=mv(null),a=i.current,c=pn(),c=Wc(c),f=Wi(c),f.callback=null,Qi(a,f,c),a=c,i.current.lanes=a,Kn(i,a),Jn(i),e[sa]=i.current,Bh(e),new Xo(i)},ul.version="19.2.0",ul}var Hv;function NE(){if(Hv)return ud.exports;Hv=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),ud.exports=LE(),ud.exports}var jE=NE();const kE=cr(jE);var PE=fb();const er=cr(PE);function Sl(){return Sl=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},Sl.apply(this,arguments)}var ys;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(ys||(ys={}));const Iv="popstate";function FE(o){o===void 0&&(o={});function t(r,l){let{pathname:u="/",search:h="",hash:d=""}=Zs(r.location.hash.substr(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Nd("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){let u=r.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=r.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:yc(l))}function s(r,l){Cc(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return HE(t,n,s,o)}function ae(o,t){if(o===!1||o===null||typeof o>"u")throw new Error(t)}function Cc(o,t){if(!o){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zE(){return Math.random().toString(36).substr(2,8)}function Bv(o,t){return{usr:o.state,key:o.key,idx:t}}function Nd(o,t,n,s){return n===void 0&&(n=null),Sl({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof t=="string"?Zs(t):t,{state:n,key:t&&t.key||s||zE()})}function yc(o){let{pathname:t="/",search:n="",hash:s=""}=o;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Zs(o){let t={};if(o){let n=o.indexOf("#");n>=0&&(t.hash=o.substr(n),o=o.substr(0,n));let s=o.indexOf("?");s>=0&&(t.search=o.substr(s),o=o.substr(0,s)),o&&(t.pathname=o)}return t}function HE(o,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:l=!1}=s,u=r.history,h=ys.Pop,d=null,p=g();p==null&&(p=0,u.replaceState(Sl({},u.state,{idx:p}),""));function g(){return(u.state||{idx:null}).idx}function v(){h=ys.Pop;let S=g(),T=S==null?null:S-p;p=S,d&&d({action:h,location:E.location,delta:T})}function y(S,T){h=ys.Push;let R=Nd(E.location,S,T);n&&n(R,S),p=g()+1;let C=Bv(R,p),O=E.createHref(R);try{u.pushState(C,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(O)}l&&d&&d({action:h,location:E.location,delta:1})}function _(S,T){h=ys.Replace;let R=Nd(E.location,S,T);n&&n(R,S),p=g();let C=Bv(R,p),O=E.createHref(R);u.replaceState(C,"",O),l&&d&&d({action:h,location:E.location,delta:0})}function A(S){let T=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof S=="string"?S:yc(S);return R=R.replace(/ $/,"%20"),ae(T,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,T)}let E={get action(){return h},get location(){return o(r,u)},listen(S){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(Iv,v),d=S,()=>{r.removeEventListener(Iv,v),d=null}},createHref(S){return t(r,S)},createURL:A,encodeLocation(S){let T=A(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:y,replace:_,go(S){return u.go(S)}};return E}var Uv;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(Uv||(Uv={}));function IE(o,t,n){return n===void 0&&(n="/"),BE(o,t,n)}function BE(o,t,n,s){let r=typeof t=="string"?Zs(t):t,l=lr(r.pathname||"/",n);if(l==null)return null;let u=pb(o);UE(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=JE(l);h=QE(u[d],p)}return h}function pb(o,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(ae(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let p=_s([s,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(ae(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),pb(l.children,t,g,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:KE(p,l.index),routesMeta:g})};return o.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))r(l,u);else for(let d of gb(l.path))r(l,u,d)}),t}function gb(o){let t=o.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return r?[l,""]:[l];let u=gb(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),r&&h.push(...u),h.map(d=>o.startsWith("/")&&d===""?"/":d)}function UE(o){o.sort((t,n)=>t.score!==n.score?n.score-t.score:WE(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const qE=/^:[\w-]+$/,GE=3,VE=2,XE=1,YE=10,$E=-2,qv=o=>o==="*";function KE(o,t){let n=o.split("/"),s=n.length;return n.some(qv)&&(s+=$E),t&&(s+=VE),n.filter(r=>!qv(r)).reduce((r,l)=>r+(qE.test(l)?GE:l===""?XE:YE),s)}function WE(o,t){return o.length===t.length&&o.slice(0,-1).every((s,r)=>s===t[r])?o[o.length-1]-t[t.length-1]:0}function QE(o,t,n){let{routesMeta:s}=o,r={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,g=l==="/"?t:t.slice(l.length)||"/",v=jd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),y=d.route;if(!v)return null;Object.assign(r,v.params),u.push({params:r,pathname:_s([l,v.pathname]),pathnameBase:sS(_s([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=_s([l,v.pathnameBase]))}return u}function jd(o,t){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[n,s]=ZE(o.path,o.caseSensitive,o.end),r=t.match(n);if(!r)return null;let l=r[0],u=l.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((p,g,v)=>{let{paramName:y,isOptional:_}=g;if(y==="*"){let E=h[v]||"";u=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const A=h[v];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:o}}function ZE(o,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Cc(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let s=[],r="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(s.push({paramName:"*"}),r+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":o!==""&&o!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function JE(o){try{return o.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cc(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),o}}function lr(o,t){if(t==="/")return o;if(!o.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=o.charAt(n);return s&&s!=="/"?null:o.slice(n)||"/"}const tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eS=o=>tS.test(o);function nS(o,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof o=="string"?Zs(o):o,l;if(n)if(eS(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Cc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?l=Gv(n.substring(1),"/"):l=Gv(n,t)}else l=t;return{pathname:l,search:aS(s),hash:rS(r)}}function Gv(o,t){let n=t.replace(/\/+$/,"").split("/");return o.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function pd(o,t,n,s){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iS(o){return o.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mb(o,t){let n=iS(o);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function vb(o,t,n,s){s===void 0&&(s=!1);let r;typeof o=="string"?r=Zs(o):(r=Sl({},o),ae(!r.pathname||!r.pathname.includes("?"),pd("?","pathname","search",r)),ae(!r.pathname||!r.pathname.includes("#"),pd("#","pathname","hash",r)),ae(!r.search||!r.search.includes("#"),pd("#","search","hash",r)));let l=o===""||r.pathname==="",u=l?"/":r.pathname,h;if(u==null)h=n;else{let v=t.length-1;if(!s&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;r.pathname=y.join("/")}h=v>=0?t[v]:"/"}let d=nS(r,h),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}const _s=o=>o.join("/").replace(/\/\/+/g,"/"),sS=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),aS=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,rS=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function lS(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const yb=["post","put","patch","delete"];new Set(yb);const oS=["get",...yb];new Set(oS);function xl(){return xl=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},xl.apply(this,arguments)}const Rc=M.createContext(null),bb=M.createContext(null),Ss=M.createContext(null),Mc=M.createContext(null),Js=M.createContext({outlet:null,matches:[],isDataRoute:!1}),_b=M.createContext(null);function cS(o,t){let{relative:n}=t===void 0?{}:t;Cl()||ae(!1);let{basename:s,navigator:r}=M.useContext(Ss),{hash:l,pathname:u,search:h}=Oc(o,{relative:n}),d=u;return s!=="/"&&(d=u==="/"?s:_s([s,u])),r.createHref({pathname:d,search:h,hash:l})}function Cl(){return M.useContext(Mc)!=null}function Rl(){return Cl()||ae(!1),M.useContext(Mc).location}function Ab(o){M.useContext(Ss).static||M.useLayoutEffect(o)}function Jd(){let{isDataRoute:o}=M.useContext(Js);return o?ES():uS()}function uS(){Cl()||ae(!1);let o=M.useContext(Rc),{basename:t,future:n,navigator:s}=M.useContext(Ss),{matches:r}=M.useContext(Js),{pathname:l}=Rl(),u=JSON.stringify(mb(r,n.v7_relativeSplatPath)),h=M.useRef(!1);return Ab(()=>{h.current=!0}),M.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){s.go(p);return}let v=vb(p,JSON.parse(u),l,g.relative==="path");o==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:_s([t,v.pathname])),(g.replace?s.replace:s.push)(v,g.state,g)},[t,s,u,l,o])}function Oc(o,t){let{relative:n}=t===void 0?{}:t,{future:s}=M.useContext(Ss),{matches:r}=M.useContext(Js),{pathname:l}=Rl(),u=JSON.stringify(mb(r,s.v7_relativeSplatPath));return M.useMemo(()=>vb(o,JSON.parse(u),l,n==="path"),[o,u,l,n])}function hS(o,t){return dS(o,t)}function dS(o,t,n,s){Cl()||ae(!1);let{navigator:r}=M.useContext(Ss),{matches:l}=M.useContext(Js),u=l[l.length-1],h=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let p=Rl(),g;if(t){var v;let S=typeof t=="string"?Zs(t):t;d==="/"||(v=S.pathname)!=null&&v.startsWith(d)||ae(!1),g=S}else g=p;let y=g.pathname||"/",_=y;if(d!=="/"){let S=d.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let A=IE(o,{pathname:_}),E=vS(A&&A.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:_s([d,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:_s([d,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,n,s);return t&&E?M.createElement(Mc.Provider,{value:{location:xl({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ys.Pop}},E):E}function fS(){let o=AS(),t=lS(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),n=o instanceof Error?o.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:r},n):null,null)}const pS=M.createElement(fS,null);class gS extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(Js.Provider,{value:this.props.routeContext},M.createElement(_b.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mS(o){let{routeContext:t,match:n,children:s}=o,r=M.useContext(Rc);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Js.Provider,{value:t},s)}function vS(o,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),o==null){var l;if(!n)return null;if(n.errors)o=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)o=n.matches;else return null}let u=o,h=(r=n)==null?void 0:r.errors;if(h!=null){let g=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);g>=0||ae(!1),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=g),v.route.id){let{loaderData:y,errors:_}=n,A=v.route.loader&&y[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||A){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,v,y)=>{let _,A=!1,E=null,S=null;n&&(_=h&&v.route.id?h[v.route.id]:void 0,E=v.route.errorElement||pS,d&&(p<0&&y===0?(SS("route-fallback"),A=!0,S=null):p===y&&(A=!0,S=v.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,y+1)),R=()=>{let C;return _?C=E:A?C=S:v.route.Component?C=M.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=g,M.createElement(mS,{match:v,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:C})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?M.createElement(gS,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}var Eb=(function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o})(Eb||{}),Sb=(function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o})(Sb||{});function yS(o){let t=M.useContext(Rc);return t||ae(!1),t}function bS(o){let t=M.useContext(bb);return t||ae(!1),t}function _S(o){let t=M.useContext(Js);return t||ae(!1),t}function xb(o){let t=_S(),n=t.matches[t.matches.length-1];return n.route.id||ae(!1),n.route.id}function AS(){var o;let t=M.useContext(_b),n=bS(),s=xb();return t!==void 0?t:(o=n.errors)==null?void 0:o[s]}function ES(){let{router:o}=yS(Eb.UseNavigateStable),t=xb(Sb.UseNavigateStable),n=M.useRef(!1);return Ab(()=>{n.current=!0}),M.useCallback(function(r,l){l===void 0&&(l={}),n.current&&(typeof r=="number"?o.navigate(r):o.navigate(r,xl({fromRouteId:t},l)))},[o,t])}const Vv={};function SS(o,t,n){Vv[o]||(Vv[o]=!0)}function xS(o,t){o?.v7_startTransition,o?.v7_relativeSplatPath}function Ja(o){ae(!1)}function wS(o){let{basename:t="/",children:n=null,location:s,navigationType:r=ys.Pop,navigator:l,static:u=!1,future:h}=o;Cl()&&ae(!1);let d=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:d,navigator:l,static:u,future:xl({v7_relativeSplatPath:!1},h)}),[d,h,l,u]);typeof s=="string"&&(s=Zs(s));let{pathname:g="/",search:v="",hash:y="",state:_=null,key:A="default"}=s,E=M.useMemo(()=>{let S=lr(g,d);return S==null?null:{location:{pathname:S,search:v,hash:y,state:_,key:A},navigationType:r}},[d,g,v,y,_,A,r]);return E==null?null:M.createElement(Ss.Provider,{value:p},M.createElement(Mc.Provider,{children:n,value:E}))}function TS(o){let{children:t,location:n}=o;return hS(kd(t),n)}new Promise(()=>{});function kd(o,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(o,(s,r)=>{if(!M.isValidElement(s))return;let l=[...t,r];if(s.type===M.Fragment){n.push.apply(n,kd(s.props.children,l));return}s.type!==Ja&&ae(!1),!s.props.index||!s.props.children||ae(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=kd(s.props.children,l)),n.push(u)}),n}function bc(){return bc=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},bc.apply(this,arguments)}function wb(o,t){if(o==null)return{};var n={},s=Object.keys(o),r,l;for(l=0;l<s.length;l++)r=s[l],!(t.indexOf(r)>=0)&&(n[r]=o[r]);return n}function CS(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function RS(o,t){return o.button===0&&(!t||t==="_self")&&!CS(o)}const MS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],OS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],DS="6";try{window.__reactRouterVersion=DS}catch{}const LS=M.createContext({isTransitioning:!1}),NS="startTransition",Xv=RE[NS];function jS(o){let{basename:t,children:n,future:s,window:r}=o,l=M.useRef();l.current==null&&(l.current=FE({window:r,v5Compat:!0}));let u=l.current,[h,d]=M.useState({action:u.action,location:u.location}),{v7_startTransition:p}=s||{},g=M.useCallback(v=>{p&&Xv?Xv(()=>d(v)):d(v)},[d,p]);return M.useLayoutEffect(()=>u.listen(g),[u,g]),M.useEffect(()=>xS(s),[s]),M.createElement(wS,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:u,future:s})}const kS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FS=M.forwardRef(function(t,n){let{onClick:s,relative:r,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:v}=t,y=wb(t,MS),{basename:_}=M.useContext(Ss),A,E=!1;if(typeof p=="string"&&PS.test(p)&&(A=p,kS))try{let C=new URL(window.location.href),O=p.startsWith("//")?new URL(C.protocol+p):new URL(p),z=lr(O.pathname,_);O.origin===C.origin&&z!=null?p=z+O.search+O.hash:E=!0}catch{}let S=cS(p,{relative:r}),T=HS(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:r,viewTransition:v});function R(C){s&&s(C),C.defaultPrevented||T(C)}return M.createElement("a",bc({},y,{href:A||S,onClick:E||l?s:R,ref:n,target:d}))}),qa=M.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:l="",end:u=!1,style:h,to:d,viewTransition:p,children:g}=t,v=wb(t,OS),y=Oc(d,{relative:v.relative}),_=Rl(),A=M.useContext(bb),{navigator:E,basename:S}=M.useContext(Ss),T=A!=null&&IS(y)&&p===!0,R=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,C=_.pathname,O=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;r||(C=C.toLowerCase(),O=O?O.toLowerCase():null,R=R.toLowerCase()),O&&S&&(O=lr(O,S)||O);const z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let k=C===R||!u&&C.startsWith(R)&&C.charAt(z)==="/",H=O!=null&&(O===R||!u&&O.startsWith(R)&&O.charAt(R.length)==="/"),K={isActive:k,isPending:H,isTransitioning:T},G=k?s:void 0,tt;typeof l=="function"?tt=l(K):tt=[l,k?"active":null,H?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Z=typeof h=="function"?h(K):h;return M.createElement(FS,bc({},v,{"aria-current":G,className:tt,ref:n,style:Z,to:d,viewTransition:p}),typeof g=="function"?g(K):g)});var Pd;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(Pd||(Pd={}));var Yv;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Yv||(Yv={}));function zS(o){let t=M.useContext(Rc);return t||ae(!1),t}function HS(o,t){let{target:n,replace:s,state:r,preventScrollReset:l,relative:u,viewTransition:h}=t===void 0?{}:t,d=Jd(),p=Rl(),g=Oc(o,{relative:u});return M.useCallback(v=>{if(RS(v,n)){v.preventDefault();let y=s!==void 0?s:yc(p)===yc(g);d(o,{replace:y,state:r,preventScrollReset:l,relative:u,viewTransition:h})}},[p,d,g,s,r,n,o,l,u,h])}function IS(o,t){t===void 0&&(t={});let n=M.useContext(LS);n==null&&ae(!1);let{basename:s}=zS(Pd.useViewTransitionState),r=Oc(o,{relative:t.relative});if(!n.isTransitioning)return!1;let l=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jd(r.pathname,u)!=null||jd(r.pathname,l)!=null}var gd={exports:{}};var $v;function BS(){return $v||($v=1,(function(o){(function(){var t={}.hasOwnProperty;function n(){for(var l="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(l=r(l,s(h)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return n.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var u="";for(var h in l)t.call(l,h)&&l[h]&&(u=r(u,h));return u}function r(l,u){return u?l?l+" "+u:l+u:l}o.exports?(n.default=n,o.exports=n):window.classNames=n})()})(gd)),gd.exports}var US=BS();const gt=cr(US);function Fd(){return Fd=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(o[s]=n[s])}return o},Fd.apply(null,arguments)}function Tb(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)!==-1)continue;n[s]=o[s]}return n}function Kv(o){return"default"+o.charAt(0).toUpperCase()+o.substr(1)}function qS(o){var t=GS(o,"string");return typeof t=="symbol"?t:String(t)}function GS(o,t){if(typeof o!="object"||o===null)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var s=n.call(o,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}function VS(o,t,n){var s=M.useRef(o!==void 0),r=M.useState(t),l=r[0],u=r[1],h=o!==void 0,d=s.current;return s.current=h,!h&&d&&l!==t&&u(t),[h?o:l,M.useCallback(function(p){for(var g=arguments.length,v=new Array(g>1?g-1:0),y=1;y<g;y++)v[y-1]=arguments[y];n&&n.apply(void 0,[p].concat(v)),u(p)},[n])]}function Dc(o,t){return Object.keys(t).reduce(function(n,s){var r,l=n,u=l[Kv(s)],h=l[s],d=Tb(l,[Kv(s),s].map(qS)),p=t[s],g=VS(h,u,o[p]),v=g[0],y=g[1];return Fd({},d,(r={},r[s]=v,r[p]=y,r))},o)}function zd(o,t){return zd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zd(o,t)}function XS(o,t){o.prototype=Object.create(t.prototype),o.prototype.constructor=o,zd(o,t)}const YS=["xxl","xl","lg","md","sm","xs"],$S="xs",Lc=M.createContext({prefixes:{},breakpoints:YS,minBreakpoint:$S}),{Consumer:oR,Provider:cR}=Lc;function _t(o,t){const{prefixes:n}=M.useContext(Lc);return o||n[t]||t}function Cb(){const{breakpoints:o}=M.useContext(Lc);return o}function Rb(){const{minBreakpoint:o}=M.useContext(Lc);return o}function tf(o){return o&&o.ownerDocument||document}function KS(o){var t=tf(o);return t&&t.defaultView||window}function WS(o,t){return KS(o).getComputedStyle(o,t)}var QS=/([A-Z])/g;function ZS(o){return o.replace(QS,"-$1").toLowerCase()}var JS=/^ms-/;function Ko(o){return ZS(o).replace(JS,"-ms-")}var tx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ex(o){return!!(o&&tx.test(o))}function Ni(o,t){var n="",s="";if(typeof t=="string")return o.style.getPropertyValue(Ko(t))||WS(o).getPropertyValue(Ko(t));Object.keys(t).forEach(function(r){var l=t[r];!l&&l!==0?o.style.removeProperty(Ko(r)):ex(r)?s+=r+"("+l+") ":n+=Ko(r)+": "+l+";"}),s&&(n+="transform: "+s+";"),o.style.cssText+=";"+n}var md={exports:{}},vd,Wv;function nx(){if(Wv)return vd;Wv=1;var o="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return vd=o,vd}var yd,Qv;function ix(){if(Qv)return yd;Qv=1;var o=nx();function t(){}function n(){}return n.resetWarningCache=t,yd=function(){function s(u,h,d,p,g,v){if(v!==o){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}s.isRequired=s;function r(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:r,element:s,elementType:s,instanceOf:r,node:s,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},yd}var Zv;function sx(){return Zv||(Zv=1,md.exports=ix()()),md.exports}var ax=sx();const ji=cr(ax),Jv={disabled:!1},Mb=ii.createContext(null);var rx=function(t){return t.scrollTop},vl="unmounted",ms="exited",Gn="entering",Di="entered",wl="exiting",Fi=(function(o){XS(t,o);function t(s,r){var l;l=o.call(this,s,r)||this;var u=r,h=u&&!u.isMounting?s.enter:s.appear,d;return l.appearStatus=null,s.in?h?(d=ms,l.appearStatus=Gn):d=Di:s.unmountOnExit||s.mountOnEnter?d=vl:d=ms,l.state={status:d},l.nextCallback=null,l}t.getDerivedStateFromProps=function(r,l){var u=r.in;return u&&l.status===vl?{status:ms}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var l=null;if(r!==this.props){var u=this.state.status;this.props.in?u!==Gn&&u!==Di&&(l=Gn):(u===Gn||u===Di)&&(l=wl)}this.updateStatus(!1,l)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,l,u,h;return l=u=h=r,r!=null&&typeof r!="number"&&(l=r.exit,u=r.enter,h=r.appear!==void 0?r.appear:u),{exit:l,enter:u,appear:h}},n.updateStatus=function(r,l){if(r===void 0&&(r=!1),l!==null)if(this.cancelNextCallback(),l===Gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:er.findDOMNode(this);u&&rx(u)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ms&&this.setState({status:vl})},n.performEnter=function(r){var l=this,u=this.props.enter,h=this.context?this.context.isMounting:r,d=this.props.nodeRef?[h]:[er.findDOMNode(this),h],p=d[0],g=d[1],v=this.getTimeouts(),y=h?v.appear:v.enter;if(!r&&!u||Jv.disabled){this.safeSetState({status:Di},function(){l.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:Gn},function(){l.props.onEntering(p,g),l.onTransitionEnd(y,function(){l.safeSetState({status:Di},function(){l.props.onEntered(p,g)})})})},n.performExit=function(){var r=this,l=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:er.findDOMNode(this);if(!l||Jv.disabled){this.safeSetState({status:ms},function(){r.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:wl},function(){r.props.onExiting(h),r.onTransitionEnd(u.exit,function(){r.safeSetState({status:ms},function(){r.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,l){l=this.setNextCallback(l),this.setState(r,l)},n.setNextCallback=function(r){var l=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,l.nextCallback=null,r(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(r,l){this.setNextCallback(l);var u=this.props.nodeRef?this.props.nodeRef.current:er.findDOMNode(this),h=r==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=d[0],g=d[1];this.props.addEndListener(p,g)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===vl)return null;var l=this.props,u=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var h=Tb(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ii.createElement(Mb.Provider,{value:null},typeof u=="function"?u(r,h):ii.cloneElement(ii.Children.only(u),h))},t})(ii.Component);Fi.contextType=Mb;Fi.propTypes={};function Ga(){}Fi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ga,onEntering:Ga,onEntered:Ga,onExit:Ga,onExiting:Ga,onExited:Ga};Fi.UNMOUNTED=vl;Fi.EXITED=ms;Fi.ENTERING=Gn;Fi.ENTERED=Di;Fi.EXITING=wl;function lx(o){return o.code==="Escape"||o.keyCode===27}function ox(){const o=M.version.split(".");return{major:+o[0],minor:+o[1],patch:+o[2]}}function ur(o){if(!o||typeof o=="function")return null;const{major:t}=ox();return t>=19?o.props.ref:o.ref}const Nc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Hd=!1,Id=!1;try{var bd={get passive(){return Hd=!0},get once(){return Id=Hd=!0}};Nc&&(window.addEventListener("test",bd,bd),window.removeEventListener("test",bd,!0))}catch{}function cx(o,t,n,s){if(s&&typeof s!="boolean"&&!Id){var r=s.once,l=s.capture,u=n;!Id&&r&&(u=n.__once||function h(d){this.removeEventListener(t,h,l),n.call(this,d)},n.__once=u),o.addEventListener(t,u,Hd?s:l)}o.addEventListener(t,n,s)}function ux(o,t,n,s){var r=s&&typeof s!="boolean"?s.capture:s;o.removeEventListener(t,n,r),n.__once&&o.removeEventListener(t,n.__once,r)}function _c(o,t,n,s){return cx(o,t,n,s),function(){ux(o,t,n,s)}}function hx(o,t,n,s){if(s===void 0&&(s=!0),o){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,s),o.dispatchEvent(r)}}function dx(o){var t=Ni(o,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function fx(o,t,n){n===void 0&&(n=5);var s=!1,r=setTimeout(function(){s||hx(o,"transitionend",!0)},t+n),l=_c(o,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(r),l()}}function px(o,t,n,s){n==null&&(n=dx(o)||0);var r=fx(o,n,s),l=_c(o,"transitionend",t);return function(){r(),l()}}function ty(o,t){const n=Ni(o,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function ef(o,t){const n=ty(o,"transitionDuration"),s=ty(o,"transitionDelay"),r=px(o,l=>{l.target===o&&(r(),t(l))},n+s)}function hl(...o){return o.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...r){t.apply(this,r),n.apply(this,r)}},null)}function Ob(o){o.offsetHeight}const ey=o=>!o||typeof o=="function"?o:t=>{o.current=t};function gx(o,t){const n=ey(o),s=ey(t);return r=>{n&&n(r),s&&s(r)}}function mx(o,t){return M.useMemo(()=>gx(o,t),[o,t])}function vx(o){return o&&"setState"in o?er.findDOMNode(o):o??null}const jc=ii.forwardRef(({onEnter:o,onEntering:t,onEntered:n,onExit:s,onExiting:r,onExited:l,addEndListener:u,children:h,childRef:d,...p},g)=>{const v=M.useRef(null),y=mx(v,d),_=k=>{y(vx(k))},A=k=>H=>{k&&v.current&&k(v.current,H)},E=M.useCallback(A(o),[o]),S=M.useCallback(A(t),[t]),T=M.useCallback(A(n),[n]),R=M.useCallback(A(s),[s]),C=M.useCallback(A(r),[r]),O=M.useCallback(A(l),[l]),z=M.useCallback(A(u),[u]);return x.jsx(Fi,{ref:g,...p,onEnter:E,onEntered:T,onEntering:S,onExit:R,onExited:O,onExiting:C,addEndListener:z,nodeRef:v,children:typeof h=="function"?(k,H)=>h(k,{...H,ref:_}):ii.cloneElement(h,{ref:_})})});jc.displayName="TransitionWrapper";const yx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function bx(o,t){const n=`offset${o[0].toUpperCase()}${o.slice(1)}`,s=t[n],r=yx[o];return s+parseInt(Ni(t,r[0]),10)+parseInt(Ni(t,r[1]),10)}const _x={[ms]:"collapse",[wl]:"collapsing",[Gn]:"collapsing",[Di]:"collapse show"},Db=ii.forwardRef(({onEnter:o,onEntering:t,onEntered:n,onExit:s,onExiting:r,className:l,children:u,dimension:h="height",in:d=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:v=!1,appear:y=!1,getDimensionValue:_=bx,...A},E)=>{const S=typeof h=="function"?h():h,T=M.useMemo(()=>hl(k=>{k.style[S]="0"},o),[S,o]),R=M.useMemo(()=>hl(k=>{const H=`scroll${S[0].toUpperCase()}${S.slice(1)}`;k.style[S]=`${k[H]}px`},t),[S,t]),C=M.useMemo(()=>hl(k=>{k.style[S]=null},n),[S,n]),O=M.useMemo(()=>hl(k=>{k.style[S]=`${_(S,k)}px`,Ob(k)},s),[s,_,S]),z=M.useMemo(()=>hl(k=>{k.style[S]=null},r),[S,r]);return x.jsx(jc,{ref:E,addEndListener:ef,...A,"aria-expanded":A.role?d:null,onEnter:T,onEntering:R,onEntered:C,onExit:O,onExiting:z,childRef:ur(u),in:d,timeout:p,mountOnEnter:g,unmountOnExit:v,appear:y,children:(k,H)=>ii.cloneElement(u,{...H,className:gt(l,u.props.className,_x[k],S==="width"&&"collapse-horizontal")})})});Db.displayName="Collapse";function Ax(o){const t=M.useRef(o);return M.useEffect(()=>{t.current=o},[o]),t}function hr(o){const t=Ax(o);return M.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const kc=(o=>M.forwardRef((t,n)=>x.jsx("div",{...t,ref:n,className:gt(t.className,o)}))),Lb=kc("h4");Lb.displayName="DivStyledAsH4";const Nb=M.forwardRef(({className:o,bsPrefix:t,as:n=Lb,...s},r)=>(t=_t(t,"alert-heading"),x.jsx(n,{ref:r,className:gt(o,t),...s})));Nb.displayName="AlertHeading";function Ex(o){const t=M.useRef(o);return M.useEffect(()=>{t.current=o},[o]),t}function Li(o){const t=Ex(o);return M.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Sx(){const o=M.useRef(!0),t=M.useRef(()=>o.current);return M.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),t.current}function xx(o){const t=M.useRef(null);return M.useEffect(()=>{t.current=o}),t.current}const wx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Tx=typeof document<"u",ny=Tx||wx?M.useLayoutEffect:M.useEffect,Cx=["as","disabled"];function Rx(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}function Mx(o){return!o||o.trim()==="#"}function nf({tagName:o,disabled:t,href:n,target:s,rel:r,role:l,onClick:u,tabIndex:h=0,type:d}){o||(n!=null||s!=null||r!=null?o="a":o="button");const p={tagName:o};if(o==="button")return[{type:d||"button",disabled:t},p];const g=y=>{if((t||o==="a"&&Mx(n))&&y.preventDefault(),t){y.stopPropagation();return}u?.(y)},v=y=>{y.key===" "&&(y.preventDefault(),g(y))};return o==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:l??"button",disabled:void 0,tabIndex:t?void 0:h,href:n,target:o==="a"?s:void 0,"aria-disabled":t||void 0,rel:o==="a"?r:void 0,onClick:g,onKeyDown:v},p]}const jb=M.forwardRef((o,t)=>{let{as:n,disabled:s}=o,r=Rx(o,Cx);const[l,{tagName:u}]=nf(Object.assign({tagName:n,disabled:s},r));return x.jsx(u,Object.assign({},r,l,{ref:t}))});jb.displayName="Button";const Ox=["onKeyDown"];function Dx(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}function Lx(o){return!o||o.trim()==="#"}const sf=M.forwardRef((o,t)=>{let{onKeyDown:n}=o,s=Dx(o,Ox);const[r]=nf(Object.assign({tagName:"a"},s)),l=Li(u=>{r.onKeyDown(u),n?.(u)});return Lx(s.href)||s.role==="button"?x.jsx("a",Object.assign({ref:t},s,r,{onKeyDown:l})):x.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});sf.displayName="Anchor";const kb=M.forwardRef(({className:o,bsPrefix:t,as:n=sf,...s},r)=>(t=_t(t,"alert-link"),x.jsx(n,{ref:r,className:gt(o,t),...s})));kb.displayName="AlertLink";const Nx={[Gn]:"show",[Di]:"show"},Ac=M.forwardRef(({className:o,children:t,transitionClasses:n={},onEnter:s,...r},l)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},h=M.useCallback((d,p)=>{Ob(d),s?.(d,p)},[s]);return x.jsx(jc,{ref:l,addEndListener:ef,...u,onEnter:h,childRef:ur(t),children:(d,p)=>M.cloneElement(t,{...p,className:gt("fade",o,t.props.className,Nx[d],n[d])})})});Ac.displayName="Fade";const jx={"aria-label":ji.string,onClick:ji.func,variant:ji.oneOf(["white"])},Pc=M.forwardRef(({className:o,variant:t,"aria-label":n="Close",...s},r)=>x.jsx("button",{ref:r,type:"button",className:gt("btn-close",t&&`btn-close-${t}`,o),"aria-label":n,...s}));Pc.displayName="CloseButton";Pc.propTypes=jx;const Pb=M.forwardRef((o,t)=>{const{bsPrefix:n,show:s=!0,closeLabel:r="Close alert",closeVariant:l,className:u,children:h,variant:d="primary",onClose:p,dismissible:g,transition:v=Ac,...y}=Dc(o,{show:"onClose"}),_=_t(n,"alert"),A=hr(T=>{p&&p(!1,T)}),E=v===!0?Ac:v,S=x.jsxs("div",{role:"alert",...E?void 0:y,ref:t,className:gt(u,_,d&&`${_}-${d}`,g&&`${_}-dismissible`),children:[g&&x.jsx(Pc,{onClick:A,"aria-label":r,variant:l}),h]});return E?x.jsx(E,{unmountOnExit:!0,...y,ref:void 0,in:s,children:S}):s?S:null});Pb.displayName="Alert";const Fb=Object.assign(Pb,{Link:kb,Heading:Nb}),Vn=M.forwardRef(({bsPrefix:o,bg:t="primary",pill:n=!1,text:s,className:r,as:l="span",...u},h)=>{const d=_t(o,"badge");return x.jsx(l,{ref:h,...u,className:gt(r,d,n&&"rounded-pill",s&&`text-${s}`,t&&`bg-${t}`)})});Vn.displayName="Badge";const Ml=M.forwardRef(({as:o,bsPrefix:t,variant:n="primary",size:s,active:r=!1,disabled:l=!1,className:u,...h},d)=>{const p=_t(t,"btn"),[g,{tagName:v}]=nf({tagName:o,disabled:l,...h}),y=v;return x.jsx(y,{...g,...h,ref:d,disabled:l,className:gt(u,p,r&&"active",n&&`${p}-${n}`,s&&`${p}-${s}`,h.href&&l&&"disabled")})});Ml.displayName="Button";const af=M.forwardRef(({className:o,bsPrefix:t,as:n="div",...s},r)=>(t=_t(t,"card-body"),x.jsx(n,{ref:r,className:gt(o,t),...s})));af.displayName="CardBody";const zb=M.forwardRef(({className:o,bsPrefix:t,as:n="div",...s},r)=>(t=_t(t,"card-footer"),x.jsx(n,{ref:r,className:gt(o,t),...s})));zb.displayName="CardFooter";const rf=M.createContext(null);rf.displayName="CardHeaderContext";const Hb=M.forwardRef(({bsPrefix:o,className:t,as:n="div",...s},r)=>{const l=_t(o,"card-header"),u=M.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return x.jsx(rf.Provider,{value:u,children:x.jsx(n,{ref:r,...s,className:gt(t,l)})})});Hb.displayName="CardHeader";const Ib=M.forwardRef(({bsPrefix:o,className:t,variant:n,as:s="img",...r},l)=>{const u=_t(o,"card-img");return x.jsx(s,{ref:l,className:gt(n?`${u}-${n}`:u,t),...r})});Ib.displayName="CardImg";const Bb=M.forwardRef(({className:o,bsPrefix:t,as:n="div",...s},r)=>(t=_t(t,"card-img-overlay"),x.jsx(n,{ref:r,className:gt(o,t),...s})));Bb.displayName="CardImgOverlay";const Ub=M.forwardRef(({className:o,bsPrefix:t,as:n="a",...s},r)=>(t=_t(t,"card-link"),x.jsx(n,{ref:r,className:gt(o,t),...s})));Ub.displayName="CardLink";const kx=kc("h6"),qb=M.forwardRef(({className:o,bsPrefix:t,as:n=kx,...s},r)=>(t=_t(t,"card-subtitle"),x.jsx(n,{ref:r,className:gt(o,t),...s})));qb.displayName="CardSubtitle";const Gb=M.forwardRef(({className:o,bsPrefix:t,as:n="p",...s},r)=>(t=_t(t,"card-text"),x.jsx(n,{ref:r,className:gt(o,t),...s})));Gb.displayName="CardText";const Px=kc("h5"),Vb=M.forwardRef(({className:o,bsPrefix:t,as:n=Px,...s},r)=>(t=_t(t,"card-title"),x.jsx(n,{ref:r,className:gt(o,t),...s})));Vb.displayName="CardTitle";const Xb=M.forwardRef(({bsPrefix:o,className:t,bg:n,text:s,border:r,body:l=!1,children:u,as:h="div",...d},p)=>{const g=_t(o,"card");return x.jsx(h,{ref:p,...d,className:gt(t,g,n&&`bg-${n}`,s&&`text-${s}`,r&&`border-${r}`),children:l?x.jsx(af,{children:u}):u})});Xb.displayName="Card";const ct=Object.assign(Xb,{Img:Ib,Title:Vb,Subtitle:qb,Body:af,Link:Ub,Text:Gb,Header:Hb,Footer:zb,ImgOverlay:Bb});function Fx(o,t){let n=0;return M.Children.map(o,s=>M.isValidElement(s)?t(s,n++):s)}function zx(o,t){return M.Children.toArray(o).some(n=>M.isValidElement(n)&&n.type===t)}function Hx({as:o,bsPrefix:t,className:n,...s}){t=_t(t,"col");const r=Cb(),l=Rb(),u=[],h=[];return r.forEach(d=>{const p=s[d];delete s[d];let g,v,y;typeof p=="object"&&p!=null?{span:g,offset:v,order:y}=p:g=p;const _=d!==l?`-${d}`:"";g&&u.push(g===!0?`${t}${_}`:`${t}${_}-${g}`),y!=null&&h.push(`order${_}-${y}`),v!=null&&h.push(`offset${_}-${v}`)}),[{...s,className:gt(n,...u,...h)},{as:o,bsPrefix:t,spans:u}]}const me=M.forwardRef((o,t)=>{const[{className:n,...s},{as:r="div",bsPrefix:l,spans:u}]=Hx(o);return x.jsx(r,{...s,ref:t,className:gt(n,!u.length&&l)})});me.displayName="Col";const lf=M.forwardRef(({bsPrefix:o,fluid:t=!1,as:n="div",className:s,...r},l)=>{const u=_t(o,"container"),h=typeof t=="string"?`-${t}`:"-fluid";return x.jsx(n,{ref:l,...r,className:gt(s,t?`${u}${h}`:u)})});lf.displayName="Container";var Ix=Function.prototype.bind.call(Function.prototype.call,[].slice);function Xs(o,t){return Ix(o.querySelectorAll(t))}function Bx(){const[,o]=M.useReducer(t=>t+1,0);return o}function iy(o,t){if(o.contains)return o.contains(t);if(o.compareDocumentPosition)return o===t||!!(o.compareDocumentPosition(t)&16)}var _d,sy;function zi(){if(sy)return _d;sy=1;var o=function(){};return _d=o,_d}zi();const Ec=M.createContext(null),Fc=(o,t=null)=>o!=null?String(o):t||null,of=M.createContext(null);of.displayName="NavContext";const Ux="data-rr-ui-",qx="rrUi";function zc(o){return`${Ux}${o}`}function Gx(o){return`${qx}${o}`}const Yb=M.createContext(Nc?window:void 0);Yb.Provider;function cf(){return M.useContext(Yb)}const Vx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Xx=typeof document<"u",Yx=Xx||Vx?M.useLayoutEffect:M.useEffect,dr=M.createContext(null);dr.displayName="NavbarContext";const $x={type:ji.string,tooltip:ji.bool,as:ji.elementType},Hc=M.forwardRef(({as:o="div",className:t,type:n="valid",tooltip:s=!1,...r},l)=>x.jsx(o,{...r,ref:l,className:gt(t,`${n}-${s?"tooltip":"feedback"}`)}));Hc.displayName="Feedback";Hc.propTypes=$x;const Pi=M.createContext({}),uf=M.forwardRef(({id:o,bsPrefix:t,className:n,type:s="checkbox",isValid:r=!1,isInvalid:l=!1,as:u="input",...h},d)=>{const{controlId:p}=M.useContext(Pi);return t=_t(t,"form-check-input"),x.jsx(u,{...h,ref:d,type:s,id:o||p,className:gt(n,t,r&&"is-valid",l&&"is-invalid")})});uf.displayName="FormCheckInput";const Sc=M.forwardRef(({bsPrefix:o,className:t,htmlFor:n,...s},r)=>{const{controlId:l}=M.useContext(Pi);return o=_t(o,"form-check-label"),x.jsx("label",{...s,ref:r,htmlFor:n||l,className:gt(t,o)})});Sc.displayName="FormCheckLabel";const $b=M.forwardRef(({id:o,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:r=!1,disabled:l=!1,isValid:u=!1,isInvalid:h=!1,feedbackTooltip:d=!1,feedback:p,feedbackType:g,className:v,style:y,title:_="",type:A="checkbox",label:E,children:S,as:T="input",...R},C)=>{t=_t(t,"form-check"),n=_t(n,"form-switch");const{controlId:O}=M.useContext(Pi),z=M.useMemo(()=>({controlId:o||O}),[O,o]),k=!S&&E!=null&&E!==!1||zx(S,Sc),H=x.jsx(uf,{...R,type:A==="switch"?"checkbox":A,ref:C,isValid:u,isInvalid:h,disabled:l,as:T});return x.jsx(Pi.Provider,{value:z,children:x.jsx("div",{style:y,className:gt(v,k&&t,s&&`${t}-inline`,r&&`${t}-reverse`,A==="switch"&&n),children:S||x.jsxs(x.Fragment,{children:[H,k&&x.jsx(Sc,{title:_,children:E}),p&&x.jsx(Hc,{type:g,tooltip:d,children:p})]})})})});$b.displayName="FormCheck";const xc=Object.assign($b,{Input:uf,Label:Sc}),Kb=M.forwardRef(({bsPrefix:o,type:t,size:n,htmlSize:s,id:r,className:l,isValid:u=!1,isInvalid:h=!1,plaintext:d,readOnly:p,as:g="input",...v},y)=>{const{controlId:_}=M.useContext(Pi);return o=_t(o,"form-control"),x.jsx(g,{...v,type:t,size:s,ref:y,readOnly:p,id:r||_,className:gt(l,d?`${o}-plaintext`:o,n&&`${o}-${n}`,t==="color"&&`${o}-color`,u&&"is-valid",h&&"is-invalid")})});Kb.displayName="FormControl";const Kx=Object.assign(Kb,{Feedback:Hc}),Wb=M.forwardRef(({className:o,bsPrefix:t,as:n="div",...s},r)=>(t=_t(t,"form-floating"),x.jsx(n,{ref:r,className:gt(o,t),...s})));Wb.displayName="FormFloating";const hf=M.forwardRef(({controlId:o,as:t="div",...n},s)=>{const r=M.useMemo(()=>({controlId:o}),[o]);return x.jsx(Pi.Provider,{value:r,children:x.jsx(t,{...n,ref:s})})});hf.displayName="FormGroup";const Qb=M.forwardRef(({as:o="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:r,htmlFor:l,...u},h)=>{const{controlId:d}=M.useContext(Pi);t=_t(t,"form-label");let p="col-form-label";typeof n=="string"&&(p=`${p} ${p}-${n}`);const g=gt(r,t,s&&"visually-hidden",n&&p);return l=l||d,n?x.jsx(me,{ref:h,as:"label",className:g,htmlFor:l,...u}):x.jsx(o,{ref:h,className:g,htmlFor:l,...u})});Qb.displayName="FormLabel";const Zb=M.forwardRef(({bsPrefix:o,className:t,id:n,...s},r)=>{const{controlId:l}=M.useContext(Pi);return o=_t(o,"form-range"),x.jsx("input",{...s,type:"range",ref:r,className:gt(t,o),id:n||l})});Zb.displayName="FormRange";const Jb=M.forwardRef(({bsPrefix:o,size:t,htmlSize:n,className:s,isValid:r=!1,isInvalid:l=!1,id:u,...h},d)=>{const{controlId:p}=M.useContext(Pi);return o=_t(o,"form-select"),x.jsx("select",{...h,size:n,ref:d,className:gt(s,o,t&&`${o}-${t}`,r&&"is-valid",l&&"is-invalid"),id:u||p})});Jb.displayName="FormSelect";const t0=M.forwardRef(({bsPrefix:o,className:t,as:n="small",muted:s,...r},l)=>(o=_t(o,"form-text"),x.jsx(n,{...r,ref:l,className:gt(t,o,s&&"text-muted")})));t0.displayName="FormText";const e0=M.forwardRef((o,t)=>x.jsx(xc,{...o,ref:t,type:"switch"}));e0.displayName="Switch";const Wx=Object.assign(e0,{Input:xc.Input,Label:xc.Label}),n0=M.forwardRef(({bsPrefix:o,className:t,children:n,controlId:s,label:r,...l},u)=>(o=_t(o,"form-floating"),x.jsxs(hf,{ref:u,className:gt(t,o),controlId:s,...l,children:[n,x.jsx("label",{htmlFor:s,children:r})]})));n0.displayName="FloatingLabel";const Qx={_ref:ji.any,validated:ji.bool,as:ji.elementType},df=M.forwardRef(({className:o,validated:t,as:n="form",...s},r)=>x.jsx(n,{...s,ref:r,className:gt(o,t&&"was-validated")}));df.displayName="Form";df.propTypes=Qx;const bs=Object.assign(df,{Group:hf,Control:Kx,Floating:Wb,Check:xc,Switch:Wx,Label:Qb,Text:t0,Range:Zb,Select:Jb,FloatingLabel:n0}),ay=o=>!o||typeof o=="function"?o:t=>{o.current=t};function Zx(o,t){const n=ay(o),s=ay(t);return r=>{n&&n(r),s&&s(r)}}function Ic(o,t){return M.useMemo(()=>Zx(o,t),[o,t])}const i0=M.createContext(null),Jx=["as","active","eventKey"];function t1(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}function ff({key:o,onClick:t,active:n,id:s,role:r,disabled:l}){const u=M.useContext(Ec),h=M.useContext(of),d=M.useContext(i0);let p=n;const g={role:r};if(h){!r&&h.role==="tablist"&&(g.role="tab");const v=h.getControllerId(o??null),y=h.getControlledId(o??null);g[zc("event-key")]=o,g.id=v||s,p=n==null&&o!=null?h.activeKey===o:n,(p||!(d!=null&&d.unmountOnExit)&&!(d!=null&&d.mountOnEnter))&&(g["aria-controls"]=y)}return g.role==="tab"&&(g["aria-selected"]=p,p||(g.tabIndex=-1),l&&(g.tabIndex=-1,g["aria-disabled"]=!0)),g.onClick=Li(v=>{l||(t?.(v),o!=null&&u&&!v.isPropagationStopped()&&u(o,v))}),[g,{isActive:p}]}const s0=M.forwardRef((o,t)=>{let{as:n=jb,active:s,eventKey:r}=o,l=t1(o,Jx);const[u,h]=ff(Object.assign({key:Fc(r,l.href),active:s},l));return u[zc("active")]=h.isActive,x.jsx(n,Object.assign({},l,u,{ref:t}))});s0.displayName="NavItem";const e1=["as","onSelect","activeKey","role","onKeyDown"];function n1(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}const ry=()=>{},ly=zc("event-key"),a0=M.forwardRef((o,t)=>{let{as:n="div",onSelect:s,activeKey:r,role:l,onKeyDown:u}=o,h=n1(o,e1);const d=Bx(),p=M.useRef(!1),g=M.useContext(Ec),v=M.useContext(i0);let y,_;v&&(l=l||"tablist",r=v.activeKey,y=v.getControlledId,_=v.getControllerId);const A=M.useRef(null),E=C=>{const O=A.current;if(!O)return null;const z=Xs(O,`[${ly}]:not([aria-disabled=true])`),k=O.querySelector("[aria-selected=true]");if(!k||k!==document.activeElement)return null;const H=z.indexOf(k);if(H===-1)return null;let K=H+C;return K>=z.length&&(K=0),K<0&&(K=z.length-1),z[K]},S=(C,O)=>{C!=null&&(s?.(C,O),g?.(C,O))},T=C=>{if(u?.(C),!v)return;let O;switch(C.key){case"ArrowLeft":case"ArrowUp":O=E(-1);break;case"ArrowRight":case"ArrowDown":O=E(1);break;default:return}O&&(C.preventDefault(),S(O.dataset[Gx("EventKey")]||null,C),p.current=!0,d())};M.useEffect(()=>{if(A.current&&p.current){const C=A.current.querySelector(`[${ly}][aria-selected=true]`);C?.focus()}p.current=!1});const R=Ic(t,A);return x.jsx(Ec.Provider,{value:S,children:x.jsx(of.Provider,{value:{role:l,activeKey:Fc(r),getControlledId:y||ry,getControllerId:_||ry},children:x.jsx(n,Object.assign({},h,{onKeyDown:T,ref:R,role:l}))})})});a0.displayName="Nav";const r0=Object.assign(a0,{Item:s0}),l0=M.forwardRef(({bsPrefix:o,active:t,disabled:n,eventKey:s,className:r,variant:l,action:u,as:h,...d},p)=>{o=_t(o,"list-group-item");const[g,v]=ff({key:Fc(s,d.href),active:t,...d}),y=hr(A=>{if(n){A.preventDefault(),A.stopPropagation();return}g.onClick(A)});n&&d.tabIndex===void 0&&(d.tabIndex=-1,d["aria-disabled"]=!0);const _=h||(u?d.href?"a":"button":"div");return x.jsx(_,{ref:p,...d,...g,onClick:y,className:gt(r,o,v.isActive&&"active",n&&"disabled",l&&`${o}-${l}`,u&&`${o}-action`)})});l0.displayName="ListGroupItem";const o0=M.forwardRef((o,t)=>{const{className:n,bsPrefix:s,variant:r,horizontal:l,numbered:u,as:h="div",...d}=Dc(o,{activeKey:"onSelect"}),p=_t(s,"list-group");let g;return l&&(g=l===!0?"horizontal":`horizontal-${l}`),x.jsx(r0,{ref:t,...d,as:h,className:gt(n,p,r&&`${p}-${r}`,g&&`${p}-${g}`,u&&`${p}-numbered`)})});o0.displayName="ListGroup";const Ot=Object.assign(o0,{Item:l0});function Ad(o){o===void 0&&(o=tf());try{var t=o.activeElement;return!t||!t.nodeName?null:t}catch{return o.body}}function i1(o){const t=M.useRef(o);return t.current=o,t}function s1(o){const t=i1(o);M.useEffect(()=>()=>t.current(),[])}function a1(o=document){const t=o.defaultView;return Math.abs(t.innerWidth-o.documentElement.clientWidth)}const oy=zc("modal-open");class pf{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return a1(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[s]:r.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Ni(r,s)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(oy,""),Ni(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(oy),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Ed=(o,t)=>Nc?o==null?(t||tf()).body:(typeof o=="function"&&(o=o()),o&&"current"in o&&(o=o.current),o&&("nodeType"in o||o.getBoundingClientRect)?o:null):null;function r1(o,t){const n=cf(),[s,r]=M.useState(()=>Ed(o,n?.document));if(!s){const l=Ed(o);l&&r(l)}return M.useEffect(()=>{},[t,s]),M.useEffect(()=>{const l=Ed(o);l!==s&&r(l)},[o,s]),s}function l1({children:o,in:t,onExited:n,mountOnEnter:s,unmountOnExit:r}){const l=M.useRef(null),u=M.useRef(t),h=Li(n);M.useEffect(()=>{t?u.current=!0:h(l.current)},[t,h]);const d=Ic(l,ur(o)),p=M.cloneElement(o,{ref:d});return t?p:r||!u.current&&s?null:p}const o1=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function c1(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}function u1(o){let{onEnter:t,onEntering:n,onEntered:s,onExit:r,onExiting:l,onExited:u,addEndListener:h,children:d}=o,p=c1(o,o1);const g=M.useRef(null),v=Ic(g,ur(d)),y=O=>z=>{O&&g.current&&O(g.current,z)},_=M.useCallback(y(t),[t]),A=M.useCallback(y(n),[n]),E=M.useCallback(y(s),[s]),S=M.useCallback(y(r),[r]),T=M.useCallback(y(l),[l]),R=M.useCallback(y(u),[u]),C=M.useCallback(y(h),[h]);return Object.assign({},p,{nodeRef:g},t&&{onEnter:_},n&&{onEntering:A},s&&{onEntered:E},r&&{onExit:S},l&&{onExiting:T},u&&{onExited:R},h&&{addEndListener:C},{children:typeof d=="function"?(O,z)=>d(O,Object.assign({},z,{ref:v})):M.cloneElement(d,{ref:v})})}const h1=["component"];function d1(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}const f1=M.forwardRef((o,t)=>{let{component:n}=o,s=d1(o,h1);const r=u1(s);return x.jsx(n,Object.assign({ref:t},r))});function p1({in:o,onTransition:t}){const n=M.useRef(null),s=M.useRef(!0),r=Li(t);return ny(()=>{if(!n.current)return;let l=!1;return r({in:o,element:n.current,initial:s.current,isStale:()=>l}),()=>{l=!0}},[o,r]),ny(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function g1({children:o,in:t,onExited:n,onEntered:s,transition:r}){const[l,u]=M.useState(!t);t&&l&&u(!1);const h=p1({in:!!t,onTransition:p=>{const g=()=>{p.isStale()||(p.in?s?.(p.element,p.initial):(u(!0),n?.(p.element)))};Promise.resolve(r(p)).then(g,v=>{throw p.in||u(!0),v})}}),d=Ic(h,ur(o));return l&&!t?null:M.cloneElement(o,{ref:d})}function cy(o,t,n){return o?x.jsx(f1,Object.assign({},n,{component:o})):t?x.jsx(g1,Object.assign({},n,{transition:t})):x.jsx(l1,Object.assign({},n))}const m1=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function v1(o,t){if(o==null)return{};var n={};for(var s in o)if({}.hasOwnProperty.call(o,s)){if(t.indexOf(s)>=0)continue;n[s]=o[s]}return n}let Sd;function y1(o){return Sd||(Sd=new pf({ownerDocument:o?.document})),Sd}function b1(o){const t=cf(),n=o||y1(t),s=M.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:M.useCallback(r=>{s.current.dialog=r},[]),setBackdropRef:M.useCallback(r=>{s.current.backdrop=r},[])})}const c0=M.forwardRef((o,t)=>{let{show:n=!1,role:s="dialog",className:r,style:l,children:u,backdrop:h=!0,keyboard:d=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:v,runTransition:y,backdropTransition:_,runBackdropTransition:A,autoFocus:E=!0,enforceFocus:S=!0,restoreFocus:T=!0,restoreFocusOptions:R,renderDialog:C,renderBackdrop:O=St=>x.jsx("div",Object.assign({},St)),manager:z,container:k,onShow:H,onHide:K=()=>{},onExit:G,onExited:tt,onExiting:Z,onEnter:et,onEntering:nt,onEntered:dt}=o,ot=v1(o,m1);const j=cf(),F=r1(k),X=b1(z),it=Sx(),lt=xx(n),[D,q]=M.useState(!n),$=M.useRef(null);M.useImperativeHandle(t,()=>X,[X]),Nc&&!lt&&n&&($.current=Ad(j?.document)),n&&D&&q(!1);const J=Li(()=>{if(X.add(),ve.current=_c(document,"keydown",kt),vt.current=_c(document,"focus",()=>setTimeout(rt),!0),H&&H(),E){var St,ke;const Pe=Ad((St=(ke=X.dialog)==null?void 0:ke.ownerDocument)!=null?St:j?.document);X.dialog&&Pe&&!iy(X.dialog,Pe)&&($.current=Pe,X.dialog.focus())}}),st=Li(()=>{if(X.remove(),ve.current==null||ve.current(),vt.current==null||vt.current(),T){var St;(St=$.current)==null||St.focus==null||St.focus(R),$.current=null}});M.useEffect(()=>{!n||!F||J()},[n,F,J]),M.useEffect(()=>{D&&st()},[D,st]),s1(()=>{st()});const rt=Li(()=>{if(!S||!it()||!X.isTopModal())return;const St=Ad(j?.document);X.dialog&&St&&!iy(X.dialog,St)&&X.dialog.focus()}),at=Li(St=>{St.target===St.currentTarget&&(p?.(St),h===!0&&K())}),kt=Li(St=>{d&&lx(St)&&X.isTopModal()&&(g?.(St),St.defaultPrevented||K())}),vt=M.useRef(),ve=M.useRef(),Ge=(...St)=>{q(!0),tt?.(...St)};if(!F)return null;const Ce=Object.assign({role:s,ref:X.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},ot,{style:l,className:r,tabIndex:-1});let rn=C?C(Ce):x.jsx("div",Object.assign({},Ce,{children:M.cloneElement(u,{role:"document"})}));rn=cy(v,y,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:G,onExiting:Z,onExited:Ge,onEnter:et,onEntering:nt,onEntered:dt,children:rn});let Qt=null;return h&&(Qt=O({ref:X.setBackdropRef,onClick:at}),Qt=cy(_,A,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Qt})),x.jsx(x.Fragment,{children:er.createPortal(x.jsxs(x.Fragment,{children:[Qt,rn]}),F)})});c0.displayName="Modal";const _1=Object.assign(c0,{Manager:pf});function A1(o,t){return o.classList?o.classList.contains(t):(" "+(o.className.baseVal||o.className)+" ").indexOf(" "+t+" ")!==-1}function E1(o,t){o.classList?o.classList.add(t):A1(o,t)||(typeof o.className=="string"?o.className=o.className+" "+t:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+t))}function uy(o,t){return o.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function S1(o,t){o.classList?o.classList.remove(t):typeof o.className=="string"?o.className=uy(o.className,t):o.setAttribute("class",uy(o.className&&o.className.baseVal||"",t))}const Va={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class u0 extends pf{adjustAndStore(t,n,s){const r=n.style[t];n.dataset[t]=r,Ni(n,{[t]:`${parseFloat(Ni(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Ni(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(E1(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Xs(n,Va.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),Xs(n,Va.STICKY_CONTENT).forEach(l=>this.adjustAndStore(r,l,-t.scrollBarWidth)),Xs(n,Va.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(r,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();S1(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Xs(n,Va.FIXED_CONTENT).forEach(l=>this.restore(s,l)),Xs(n,Va.STICKY_CONTENT).forEach(l=>this.restore(r,l)),Xs(n,Va.NAVBAR_TOGGLER).forEach(l=>this.restore(r,l))}}let xd;function x1(o){return xd||(xd=new u0(o)),xd}const h0=M.createContext({onHide(){}}),d0=M.forwardRef(({closeLabel:o="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:r,...l},u)=>{const h=M.useContext(h0),d=hr(()=>{h?.onHide(),s?.()});return x.jsxs("div",{ref:u,...l,children:[r,n&&x.jsx(Pc,{"aria-label":o,variant:t,onClick:d})]})});d0.displayName="AbstractModalHeader";const f0=M.forwardRef(({className:o,bsPrefix:t,as:n="div",...s},r)=>(t=_t(t,"nav-item"),x.jsx(n,{ref:r,className:gt(o,t),...s})));f0.displayName="NavItem";const p0=M.forwardRef(({bsPrefix:o,className:t,as:n=sf,active:s,eventKey:r,disabled:l=!1,...u},h)=>{o=_t(o,"nav-link");const[d,p]=ff({key:Fc(r,u.href),active:s,disabled:l,...u});return x.jsx(n,{...u,...d,ref:h,disabled:l,className:gt(t,o,l&&"disabled",p.isActive&&"active")})});p0.displayName="NavLink";const g0=M.forwardRef((o,t)=>{const{as:n="div",bsPrefix:s,variant:r,fill:l=!1,justify:u=!1,navbar:h,navbarScroll:d,className:p,activeKey:g,...v}=Dc(o,{activeKey:"onSelect"}),y=_t(s,"nav");let _,A,E=!1;const S=M.useContext(dr),T=M.useContext(rf);return S?(_=S.bsPrefix,E=h??!0):T&&({cardHeaderBsPrefix:A}=T),x.jsx(r0,{as:n,ref:t,activeKey:g,className:gt(p,{[y]:!E,[`${_}-nav`]:E,[`${_}-nav-scroll`]:E&&d,[`${A}-${r}`]:!!A,[`${y}-${r}`]:!!r,[`${y}-fill`]:l,[`${y}-justified`]:u}),...v})});g0.displayName="Nav";const Xa=Object.assign(g0,{Item:f0,Link:p0}),m0=M.forwardRef(({bsPrefix:o,className:t,as:n,...s},r)=>{o=_t(o,"navbar-brand");const l=n||(s.href?"a":"span");return x.jsx(l,{...s,ref:r,className:gt(t,o)})});m0.displayName="NavbarBrand";const v0=M.forwardRef(({children:o,bsPrefix:t,...n},s)=>{t=_t(t,"navbar-collapse");const r=M.useContext(dr);return x.jsx(Db,{in:!!(r&&r.expanded),...n,children:x.jsx("div",{ref:s,className:t,children:o})})});v0.displayName="NavbarCollapse";const y0=M.forwardRef(({bsPrefix:o,className:t,children:n,label:s="Toggle navigation",as:r="button",onClick:l,...u},h)=>{o=_t(o,"navbar-toggler");const{onToggle:d,expanded:p}=M.useContext(dr)||{},g=hr(v=>{l&&l(v),d&&d()});return r==="button"&&(u.type="button"),x.jsx(r,{...u,ref:h,onClick:g,"aria-label":s,className:gt(t,o,!p&&"collapsed"),children:n||x.jsx("span",{className:`${o}-icon`})})});y0.displayName="NavbarToggle";const Bd=new WeakMap,hy=(o,t)=>{if(!o||!t)return;const n=Bd.get(t)||new Map;Bd.set(t,n);let s=n.get(o);return s||(s=t.matchMedia(o),s.refCount=0,n.set(s.media,s)),s};function w1(o,t=typeof window>"u"?void 0:window){const n=hy(o,t),[s,r]=M.useState(()=>n?n.matches:!1);return Yx(()=>{let l=hy(o,t);if(!l)return r(!1);let u=Bd.get(t);const h=()=>{r(l.matches)};return l.refCount++,l.addListener(h),h(),()=>{l.removeListener(h),l.refCount--,l.refCount<=0&&u?.delete(l.media),l=void 0}},[o]),s}function T1(o){const t=Object.keys(o);function n(h,d){return h===d?d:h?`${h} and ${d}`:d}function s(h){return t[Math.min(t.indexOf(h)+1,t.length-1)]}function r(h){const d=s(h);let p=o[d];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function l(h){let d=o[h];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function u(h,d,p){let g;typeof h=="object"?(g=h,p=d,d=!0):(d=d||!0,g={[h]:d});let v=M.useMemo(()=>Object.entries(g).reduce((y,[_,A])=>((A==="up"||A===!0)&&(y=n(y,l(_))),(A==="down"||A===!0)&&(y=n(y,r(_))),y),""),[JSON.stringify(g)]);return w1(v,p)}return u}const C1=T1({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),b0=M.forwardRef(({className:o,bsPrefix:t,as:n="div",...s},r)=>(t=_t(t,"offcanvas-body"),x.jsx(n,{ref:r,className:gt(o,t),...s})));b0.displayName="OffcanvasBody";const R1={[Gn]:"show",[Di]:"show"},_0=M.forwardRef(({bsPrefix:o,className:t,children:n,in:s=!1,mountOnEnter:r=!1,unmountOnExit:l=!1,appear:u=!1,...h},d)=>(o=_t(o,"offcanvas"),x.jsx(jc,{ref:d,addEndListener:ef,in:s,mountOnEnter:r,unmountOnExit:l,appear:u,...h,childRef:ur(n),children:(p,g)=>M.cloneElement(n,{...g,className:gt(t,n.props.className,(p===Gn||p===wl)&&`${o}-toggling`,R1[p])})})));_0.displayName="OffcanvasToggling";const A0=M.forwardRef(({bsPrefix:o,className:t,closeLabel:n="Close",closeButton:s=!1,...r},l)=>(o=_t(o,"offcanvas-header"),x.jsx(d0,{ref:l,...r,className:gt(t,o),closeLabel:n,closeButton:s})));A0.displayName="OffcanvasHeader";const M1=kc("h5"),E0=M.forwardRef(({className:o,bsPrefix:t,as:n=M1,...s},r)=>(t=_t(t,"offcanvas-title"),x.jsx(n,{ref:r,className:gt(o,t),...s})));E0.displayName="OffcanvasTitle";function O1(o){return x.jsx(_0,{...o})}function D1(o){return x.jsx(Ac,{...o})}const S0=M.forwardRef(({bsPrefix:o,className:t,children:n,"aria-labelledby":s,placement:r="start",responsive:l,show:u=!1,backdrop:h=!0,keyboard:d=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:v,onHide:y,container:_,autoFocus:A=!0,enforceFocus:E=!0,restoreFocus:S=!0,restoreFocusOptions:T,onEntered:R,onExit:C,onExiting:O,onEnter:z,onEntering:k,onExited:H,backdropClassName:K,manager:G,renderStaticNode:tt=!1,...Z},et)=>{const nt=M.useRef();o=_t(o,"offcanvas");const[dt,ot]=M.useState(!1),j=hr(y),F=C1(l||"xs","up");M.useEffect(()=>{ot(l?u&&!F:u)},[u,l,F]);const X=M.useMemo(()=>({onHide:j}),[j]);function it(){return G||(p?(nt.current||(nt.current=new u0({handleContainerOverflow:!1})),nt.current):x1())}const lt=(J,...st)=>{J&&(J.style.visibility="visible"),z?.(J,...st)},D=(J,...st)=>{J&&(J.style.visibility=""),H?.(...st)},q=M.useCallback(J=>x.jsx("div",{...J,className:gt(`${o}-backdrop`,K)}),[K,o]),$=J=>x.jsx("div",{...J,...Z,className:gt(t,l?`${o}-${l}`:o,`${o}-${r}`),"aria-labelledby":s,children:n});return x.jsxs(x.Fragment,{children:[!dt&&(l||tt)&&$({}),x.jsx(h0.Provider,{value:X,children:x.jsx(_1,{show:dt,ref:et,backdrop:h,container:_,keyboard:d,autoFocus:A,enforceFocus:E&&!p,restoreFocus:S,restoreFocusOptions:T,onEscapeKeyDown:g,onShow:v,onHide:j,onEnter:lt,onEntering:k,onEntered:R,onExit:C,onExiting:O,onExited:D,manager:it(),transition:O1,backdropTransition:D1,renderBackdrop:q,renderDialog:$})})]})});S0.displayName="Offcanvas";const L1=Object.assign(S0,{Body:b0,Header:A0,Title:E0}),x0=M.forwardRef(({onHide:o,...t},n)=>{const s=M.useContext(dr),r=hr(()=>{s==null||s.onToggle==null||s.onToggle(),o?.()});return x.jsx(L1,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:r})});x0.displayName="NavbarOffcanvas";const w0=M.forwardRef(({className:o,bsPrefix:t,as:n="span",...s},r)=>(t=_t(t,"navbar-text"),x.jsx(n,{ref:r,className:gt(o,t),...s})));w0.displayName="NavbarText";const T0=M.forwardRef((o,t)=>{const{bsPrefix:n,expand:s=!0,variant:r="light",bg:l,fixed:u,sticky:h,className:d,as:p="nav",expanded:g,onToggle:v,onSelect:y,collapseOnSelect:_=!1,...A}=Dc(o,{expanded:"onToggle"}),E=_t(n,"navbar"),S=M.useCallback((...C)=>{y?.(...C),_&&g&&v?.(!1)},[y,_,g,v]);A.role===void 0&&p!=="nav"&&(A.role="navigation");let T=`${E}-expand`;typeof s=="string"&&(T=`${T}-${s}`);const R=M.useMemo(()=>({onToggle:()=>v?.(!g),bsPrefix:E,expanded:!!g,expand:s}),[E,g,s,v]);return x.jsx(dr.Provider,{value:R,children:x.jsx(Ec.Provider,{value:S,children:x.jsx(p,{ref:t,...A,className:gt(d,E,s&&T,r&&`${E}-${r}`,l&&`bg-${l}`,h&&`sticky-${h}`,u&&`fixed-${u}`)})})})});T0.displayName="Navbar";const Wo=Object.assign(T0,{Brand:m0,Collapse:v0,Offcanvas:x0,Text:w0,Toggle:y0}),dy=1e3;function N1(o,t,n){const s=(o-t)/(n-t)*100;return Math.round(s*dy)/dy}function fy({min:o,now:t,max:n,label:s,visuallyHidden:r,striped:l,animated:u,className:h,style:d,variant:p,bsPrefix:g,...v},y){return x.jsx("div",{ref:y,...v,role:"progressbar",className:gt(h,`${g}-bar`,{[`bg-${p}`]:p,[`${g}-bar-animated`]:u,[`${g}-bar-striped`]:u||l}),style:{width:`${N1(t,o,n)}%`,...d},"aria-valuenow":t,"aria-valuemin":o,"aria-valuemax":n,children:r?x.jsx("span",{className:"visually-hidden",children:s}):s})}const C0=M.forwardRef(({isChild:o=!1,...t},n)=>{const s={min:0,max:100,animated:!1,visuallyHidden:!1,striped:!1,...t};if(s.bsPrefix=_t(s.bsPrefix,"progress"),o)return fy(s,n);const{min:r,now:l,max:u,label:h,visuallyHidden:d,striped:p,animated:g,bsPrefix:v,variant:y,className:_,children:A,...E}=s;return x.jsx("div",{ref:n,...E,className:gt(_,v),children:A?Fx(A,S=>M.cloneElement(S,{isChild:!0})):fy({min:r,now:l,max:u,label:h,visuallyHidden:d,striped:p,animated:g,bsPrefix:v,variant:y},n)})});C0.displayName="ProgressBar";const an=M.forwardRef(({bsPrefix:o,className:t,as:n="div",...s},r)=>{const l=_t(o,"row"),u=Cb(),h=Rb(),d=`${l}-cols`,p=[];return u.forEach(g=>{const v=s[g];delete s[g];let y;v!=null&&typeof v=="object"?{cols:y}=v:y=v;const _=g!==h?`-${g}`:"";y!=null&&p.push(`${d}${_}-${y}`)}),x.jsx(n,{ref:r,...s,className:gt(t,l,...p)})});an.displayName="Row";function j1(){return x.jsx(Wo,{bg:"light",expand:"lg",className:"shadow-sm",children:x.jsxs(lf,{children:[x.jsx(Wo.Brand,{as:qa,to:"/",children:x.jsx("strong",{children:"ClearTerms"})}),x.jsx(Wo.Toggle,{"aria-controls":"clearterms-nav"}),x.jsx(Wo.Collapse,{id:"clearterms-nav",children:x.jsxs(Xa,{className:"me-auto",children:[x.jsx(Xa.Link,{as:qa,to:"/",end:!0,children:"Home"}),x.jsx(Xa.Link,{as:qa,to:"/dashboard",children:"Dashboard"}),x.jsx(Xa.Link,{as:qa,to:"/history",children:"History"}),x.jsx(Xa.Link,{as:qa,to:"/resources",children:"Resources"}),x.jsx(Xa.Link,{as:qa,to:"/how-it-works",children:"How it works"})]})})]})})}function k1({policyText:o,onPolicyTextChange:t,onAnalyze:n}){const s=r=>{r.preventDefault(),n(o)};return x.jsx(ct,{className:"shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Paste a privacy policy"}),x.jsx(ct.Text,{children:"Paste or type a privacy policy below. ClearTerms will scan it and show a simplified overview of risks and user rights."}),x.jsxs(bs,{onSubmit:s,children:[x.jsxs(bs.Group,{className:"mb-3",controlId:"policyText",children:[x.jsx(bs.Label,{children:"Policy text"}),x.jsx(bs.Control,{as:"textarea",rows:8,value:o,onChange:r=>t(r.target.value),placeholder:"Paste the privacy policy here...",required:!0})]}),x.jsx("div",{className:"d-flex justify-content-end",children:x.jsx(Ml,{variant:"primary",type:"submit",children:"Analyze Policy"})})]})]})})}var Ya={},Bt={};const P1="modulepreload",F1=function(o){return"/Clear-Terms/"+o},py={},Qo=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var u=p;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");r=p(n.map(g=>{if(g=F1(g),g in py)return;py[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":P1,v||(_.as="script"),_.crossOrigin="",_.href=g,d&&_.setAttribute("nonce",d),document.head.appendChild(_),v)return new Promise((A,E)=>{_.addEventListener("load",A),_.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return r.then(h=>{for(const d of h||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})};var _l={};_l.d=(o,t)=>{for(var n in t)_l.o(t,n)&&!_l.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})};_l.o=(o,t)=>Object.prototype.hasOwnProperty.call(o,t);var Et=globalThis.pdfjsLib={};_l.d(Et,{AbortException:()=>ea,AnnotationEditorLayer:()=>Oi,AnnotationEditorParamsType:()=>bt,AnnotationEditorType:()=>Tt,AnnotationEditorUIManager:()=>As,AnnotationLayer:()=>kT,AnnotationMode:()=>vs,ColorPicker:()=>Nn,DOMSVGFactory:()=>Mf,DrawLayer:()=>Ue,FeatureTest:()=>$e,GlobalWorkerOptions:()=>El,ImageKind:()=>gc,InvalidPDFException:()=>M0,MissingPDFException:()=>ta,OPS:()=>qn,OutputScale:()=>Vd,PDFDataRangeTransport:()=>Y0,PDFDateString:()=>D0,PDFWorker:()=>sr,PasswordResponses:()=>B1,PermissionFlag:()=>I1,PixelsPerInch:()=>or,RenderingCancelledException:()=>vf,TextLayer:()=>Wd,UnexpectedResponseException:()=>Gc,Util:()=>ft,VerbosityLevel:()=>Bc,XfaLayer:()=>K0,build:()=>gT,createValidAbsoluteUrl:()=>V1,fetchData:()=>Xc,getDocument:()=>rT,getFilenameFromUrl:()=>tw,getPdfFilenameFromUrl:()=>ew,getXfaPageViewport:()=>nw,isDataScheme:()=>Yc,isPdfFile:()=>yf,noContextMenu:()=>jn,normalizeUnicode:()=>Q1,setLayerDimensions:()=>Ws,shadow:()=>jt,version:()=>pT});const qe=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),R0=[1,0,0,1,0,0],Ud=[.001,0,0,.001,0,0],z1=1e7,wd=1.35,mn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},vs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},H1="pdfjs_internal_editor_",Tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},I1={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Be={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},gc={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ae={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},dl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Bc={ERRORS:0,WARNINGS:1,INFOS:5},qn={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},B1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Uc=Bc.WARNINGS;function U1(o){Number.isInteger(o)&&(Uc=o)}function q1(){return Uc}function qc(o){Uc>=Bc.INFOS&&console.log(`Info: ${o}`)}function Ct(o){Uc>=Bc.WARNINGS&&console.log(`Warning: ${o}`)}function Wt(o){throw new Error(o)}function Se(o,t){o||Wt(t)}function G1(o){switch(o?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function V1(o,t=null,n=null){if(!o)return null;try{if(n&&typeof o=="string"&&(n.addDefaultProtocol&&o.startsWith("www.")&&o.match(/\./g)?.length>=2&&(o=`http://${o}`),n.tryConvertEncoding))try{o=W1(o)}catch{}const s=t?new URL(o,t):new URL(o);if(G1(s))return s}catch{}return null}function jt(o,t,n,s=!1){return Object.defineProperty(o,t,{value:n,enumerable:!s,configurable:!0,writable:!1}),n}const xs=(function(){function t(n,s){this.message=n,this.name=s}return t.prototype=new Error,t.constructor=t,t})();class qd extends xs{constructor(t,n){super(t,"PasswordException"),this.code=n}}class Gd extends xs{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class M0 extends xs{constructor(t){super(t,"InvalidPDFException")}}class ta extends xs{constructor(t){super(t,"MissingPDFException")}}class Gc extends xs{constructor(t,n){super(t,"UnexpectedResponseException"),this.status=n}}class X1 extends xs{constructor(t){super(t,"FormatError")}}class ea extends xs{constructor(t){super(t,"AbortException")}}function O0(o){(typeof o!="object"||o?.length===void 0)&&Wt("Invalid argument for bytesToString");const t=o.length,n=8192;if(t<n)return String.fromCharCode.apply(null,o);const s=[];for(let r=0;r<t;r+=n){const l=Math.min(r+n,t),u=o.subarray(r,l);s.push(String.fromCharCode.apply(null,u))}return s.join("")}function Vc(o){typeof o!="string"&&Wt("Invalid argument for stringToBytes");const t=o.length,n=new Uint8Array(t);for(let s=0;s<t;++s)n[s]=o.charCodeAt(s)&255;return n}function Y1(o){return String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,o&255)}function gf(o){const t=Object.create(null);for(const[n,s]of o)t[n]=s;return t}function $1(){const o=new Uint8Array(4);return o[0]=1,new Uint32Array(o.buffer,0,1)[0]===1}function K1(){try{return new Function(""),!0}catch{return!1}}class $e{static get isLittleEndian(){return jt(this,"isLittleEndian",$1())}static get isEvalSupported(){return jt(this,"isEvalSupported",K1())}static get isOffscreenCanvasSupported(){return jt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?jt(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):jt(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return jt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Td=Array.from(Array(256).keys(),o=>o.toString(16).padStart(2,"0"));class ft{static makeHexColor(t,n,s){return`#${Td[t]}${Td[n]}${Td[s]}`}static scaleMinMax(t,n){let s;t[0]?(t[0]<0&&(s=n[0],n[0]=n[2],n[2]=s),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(s=n[1],n[1]=n[3],n[3]=s),n[1]*=t[3],n[3]*=t[3]):(s=n[0],n[0]=n[1],n[1]=s,s=n[2],n[2]=n[3],n[3]=s,t[1]<0&&(s=n[1],n[1]=n[3],n[3]=s),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(s=n[0],n[0]=n[2],n[2]=s),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static applyTransform(t,n){const s=t[0]*n[0]+t[1]*n[2]+n[4],r=t[0]*n[1]+t[1]*n[3]+n[5];return[s,r]}static applyInverseTransform(t,n){const s=n[0]*n[3]-n[1]*n[2],r=(t[0]*n[3]-t[1]*n[2]+n[2]*n[5]-n[4]*n[3])/s,l=(-t[0]*n[1]+t[1]*n[0]+n[4]*n[1]-n[5]*n[0])/s;return[r,l]}static getAxialAlignedBoundingBox(t,n){const s=this.applyTransform(t,n),r=this.applyTransform(t.slice(2,4),n),l=this.applyTransform([t[0],t[3]],n),u=this.applyTransform([t[2],t[1]],n);return[Math.min(s[0],r[0],l[0],u[0]),Math.min(s[1],r[1],l[1],u[1]),Math.max(s[0],r[0],l[0],u[0]),Math.max(s[1],r[1],l[1],u[1])]}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t){const n=[t[0],t[2],t[1],t[3]],s=t[0]*n[0]+t[1]*n[2],r=t[0]*n[1]+t[1]*n[3],l=t[2]*n[0]+t[3]*n[2],u=t[2]*n[1]+t[3]*n[3],h=(s+u)/2,d=Math.sqrt((s+u)**2-4*(s*u-l*r))/2,p=h+d||1,g=h-d||1;return[Math.sqrt(p),Math.sqrt(g)]}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const s=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(s>r)return null;const l=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),u=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return l>u?null:[s,l,r,u]}static#t(t,n,s,r,l,u,h,d,p,g){if(p<=0||p>=1)return;const v=1-p,y=p*p,_=y*p,A=v*(v*(v*t+3*p*n)+3*y*s)+_*r,E=v*(v*(v*l+3*p*u)+3*y*h)+_*d;g[0]=Math.min(g[0],A),g[1]=Math.min(g[1],E),g[2]=Math.max(g[2],A),g[3]=Math.max(g[3],E)}static#e(t,n,s,r,l,u,h,d,p,g,v,y){if(Math.abs(p)<1e-12){Math.abs(g)>=1e-12&&this.#t(t,n,s,r,l,u,h,d,-v/g,y);return}const _=g**2-4*v*p;if(_<0)return;const A=Math.sqrt(_),E=2*p;this.#t(t,n,s,r,l,u,h,d,(-g+A)/E,y),this.#t(t,n,s,r,l,u,h,d,(-g-A)/E,y)}static bezierBoundingBox(t,n,s,r,l,u,h,d,p){return p?(p[0]=Math.min(p[0],t,h),p[1]=Math.min(p[1],n,d),p[2]=Math.max(p[2],t,h),p[3]=Math.max(p[3],n,d)):p=[Math.min(t,h),Math.min(n,d),Math.max(t,h),Math.max(n,d)],this.#e(t,s,l,h,n,r,u,d,3*(-t+3*(s-l)+h),6*(t-2*s+l),3*(s-t),p),this.#e(t,s,l,h,n,r,u,d,3*(-n+3*(r-u)+d),6*(n-2*r+u),3*(r-n),p),p}}function W1(o){return decodeURIComponent(escape(o))}let Cd=null,gy=null;function Q1(o){return Cd||(Cd=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gy=new Map([["","t"]])),o.replaceAll(Cd,(t,n,s)=>n?n.normalize("NFKC"):gy.get(s))}function Z1(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const o=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(o);else for(let t=0;t<32;t++)o[t]=Math.floor(Math.random()*255);return O0(o)}const mf="pdfjs_internal_id_",Ti={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function J1(o){return Uint8Array.prototype.toBase64?o.toBase64():btoa(O0(o))}const Mi="http://www.w3.org/2000/svg";class or{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Xc(o,t="text"){if(yl(o,document.baseURI)){const n=await fetch(o);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,s)=>{const r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}s(new Error(r.statusText))}},r.send(null)})}class Ol{constructor({viewBox:t,scale:n,rotation:s,offsetX:r=0,offsetY:l=0,dontFlip:u=!1}){this.viewBox=t,this.scale=n,this.rotation=s,this.offsetX=r,this.offsetY=l;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,g,v,y;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,g=0,v=0,y=1;break;case 90:p=0,g=1,v=1,y=0;break;case 270:p=0,g=-1,v=-1,y=0;break;case 0:p=1,g=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,y=-y);let _,A,E,S;p===0?(_=Math.abs(d-t[1])*n+r,A=Math.abs(h-t[0])*n+l,E=(t[3]-t[1])*n,S=(t[2]-t[0])*n):(_=Math.abs(h-t[0])*n+r,A=Math.abs(d-t[1])*n+l,E=(t[2]-t[0])*n,S=(t[3]-t[1])*n),this.transform=[p*n,g*n,v*n,y*n,_-p*n*h-v*n*d,A-g*n*h-y*n*d],this.width=E,this.height=S}get rawDims(){const{viewBox:t}=this;return jt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:s=this.offsetX,offsetY:r=this.offsetY,dontFlip:l=!1}={}){return new Ol({viewBox:this.viewBox.slice(),scale:t,rotation:n,offsetX:s,offsetY:r,dontFlip:l})}convertToViewportPoint(t,n){return ft.applyTransform([t,n],this.transform)}convertToViewportRectangle(t){const n=ft.applyTransform([t[0],t[1]],this.transform),s=ft.applyTransform([t[2],t[3]],this.transform);return[n[0],n[1],s[0],s[1]]}convertToPdfPoint(t,n){return ft.applyInverseTransform([t,n],this.transform)}}class vf extends xs{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function Yc(o){const t=o.length;let n=0;for(;n<t&&o[n].trim()==="";)n++;return o.substring(n,n+5).toLowerCase()==="data:"}function yf(o){return typeof o=="string"&&/\.pdf$/i.test(o)}function tw(o){return[o]=o.split(/[#?]/,1),o.substring(o.lastIndexOf("/")+1)}function ew(o,t="document.pdf"){if(typeof o!="string")return t;if(Yc(o))return Ct('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=n.exec(o);let l=s.exec(r[1])||s.exec(r[2])||s.exec(r[3]);if(l&&(l=l[0],l.includes("%")))try{l=s.exec(decodeURIComponent(l))[0]}catch{}return l||t}class my{started=Object.create(null);times=[];time(t){t in this.started&&Ct(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ct(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:s}of this.times)n=Math.max(s.length,n);for(const{name:s,start:r,end:l}of this.times)t.push(`${s.padEnd(n)} ${l-r}ms
`);return t.join("")}}function yl(o,t){try{const{protocol:n}=t?new URL(o,t):new URL(o);return n==="http:"||n==="https:"}catch{return!1}}function jn(o){o.preventDefault()}function vy(o){console.log("Deprecated API usage: "+o)}class D0{static#t;static toDateObject(t){if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#t.exec(t);if(!n)return null;const s=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let l=parseInt(n[3],10);l=l>=1&&l<=31?l:1;let u=parseInt(n[4],10);u=u>=0&&u<=23?u:0;let h=parseInt(n[5],10);h=h>=0&&h<=59?h:0;let d=parseInt(n[6],10);d=d>=0&&d<=59?d:0;const p=n[7]||"Z";let g=parseInt(n[8],10);g=g>=0&&g<=23?g:0;let v=parseInt(n[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(u+=g,h+=v):p==="+"&&(u-=g,h-=v),new Date(Date.UTC(s,r,l,u,h,d))}}function nw(o,{scale:t=1,rotation:n=0}){const{width:s,height:r}=o.attributes.style,l=[0,0,parseInt(s),parseInt(r)];return new Ol({viewBox:l,scale:t,rotation:n})}function bf(o){if(o.startsWith("#")){const t=parseInt(o.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return o.startsWith("rgb(")?o.slice(4,-1).split(",").map(t=>parseInt(t)):o.startsWith("rgba(")?o.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ct(`Not a valid color format: "${o}"`),[0,0,0])}function iw(o){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of o.keys()){t.style.color=n;const s=window.getComputedStyle(t).color;o.set(n,bf(s))}t.remove()}function ee(o){const{a:t,b:n,c:s,d:r,e:l,f:u}=o.getTransform();return[t,n,s,r,l,u]}function Ci(o){const{a:t,b:n,c:s,d:r,e:l,f:u}=o.getTransform().invertSelf();return[t,n,s,r,l,u]}function Ws(o,t,n=!1,s=!0){if(t instanceof Ol){const{pageWidth:r,pageHeight:l}=t.rawDims,{style:u}=o,h=$e.isCSSRoundSupported,d=`var(--scale-factor) * ${r}px`,p=`var(--scale-factor) * ${l}px`,g=h?`round(down, ${d}, var(--scale-round-x, 1px))`:`calc(${d})`,v=h?`round(down, ${p}, var(--scale-round-y, 1px))`:`calc(${p})`;!n||t.rotation%180===0?(u.width=g,u.height=v):(u.width=v,u.height=g)}s&&o.setAttribute("data-main-rotation",t.rotation)}class Vd{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}class Al{#t=null;#e=null;#n;#s=null;#a=null;static#i=null;constructor(t){this.#n=t,Al.#i||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const n=this.#n._uiManager._signal;t.addEventListener("contextmenu",jn,{signal:n}),t.addEventListener("pointerdown",Al.#o,{signal:n});const s=this.#s=document.createElement("div");s.className="buttons",t.append(s);const r=this.#n.toolbarPosition;if(r){const{style:l}=t,u=this.#n._uiManager.direction==="ltr"?1-r[0]:r[0];l.insetInlineEnd=`${100*u}%`,l.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return this.#h(),t}get div(){return this.#t}static#o(t){t.stopPropagation()}#c(t){this.#n._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}#u(t){this.#n._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}#l(t){const n=this.#n._uiManager._signal;t.addEventListener("focusin",this.#c.bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",jn,{signal:n})}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown()}#h(){const{editorType:t,_uiManager:n}=this.#n,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",Al.#i[t]),this.#l(s),s.addEventListener("click",r=>{n.delete()},{signal:n._signal}),this.#s.append(s)}get#r(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const n=await t.render();this.#l(n),this.#s.prepend(n,this.#r),this.#a=t}addColorPicker(t){this.#e=t;const n=t.renderButton();this.#l(n),this.#s.prepend(n,this.#r)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class sw{#t=null;#e=null;#n;constructor(t){this.#n=t}#s(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",jn,{signal:this.#n._signal});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i(),t}#a(t,n){let s=0,r=0;for(const l of t){const u=l.y+l.height;if(u<s)continue;const h=l.x+(n?l.width:0);if(u>s){r=h,s=u;continue}n?h>r&&(r=h):h<r&&(r=h)}return[n?1-r:r,s]}show(t,n,s){const[r,l]=this.#a(n,s),{style:u}=this.#e||=this.#s();t.append(this.#e),u.insetInlineEnd=`${100*r}%`,u.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#i(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#n._signal;t.addEventListener("contextmenu",jn,{signal:s}),t.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:s}),this.#t.append(t)}}function wc(o,t,n){for(const s of n)t.addEventListener(s,o[s].bind(o))}function aw(o){return Math.round(Math.min(255,Math.max(1,255*o))).toString(16).padStart(2,"0")}class rw{#t=0;get id(){return`${H1}${this.#t++}`}}class _f{#t=Z1();#e=0;#n=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const l=r.decode().then(()=>(s.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return jt(this,"_isSVGFittingCanvas",l)}async#s(t,n){this.#n||=new Map;let s=this.#n.get(t);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof n=="string"?(s.url=n,r=await Xc(n,"blob")):n instanceof File?r=s.file=n:n instanceof Blob&&(r=n),r.type==="image/svg+xml"){const l=_f._isSVGFittingCanvas,u=new FileReader,h=new Image,d=new Promise((p,g)=>{h.onload=()=>{s.bitmap=h,s.isSvg=!0,p()},u.onload=async()=>{const v=s.svgUrl=u.result;h.src=await l?`${v}#svgView(preserveAspectRatio(none))`:v},h.onerror=u.onerror=g});u.readAsDataURL(r),await d}else s.bitmap=await createImageBitmap(r);s.refCounter=1}catch(r){console.error(r),s=null}return this.#n.set(t,s),s&&this.#n.set(s.id,s),s}async getFromFile(t){const{lastModified:n,name:s,size:r,type:l}=t;return this.#s(`${n}_${s}_${r}_${l}`,t)}async getFromUrl(t){return this.#s(t,t)}async getFromBlob(t,n){const s=await n;return this.#s(t,s)}async getFromId(t){this.#n||=new Map;const n=this.#n.get(t);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:s}=n;return delete n.blobPromise,this.getFromBlob(n.id,s)}return this.getFromUrl(n.url)}getFromCanvas(t,n){this.#n||=new Map;let s=this.#n.get(t);if(s?.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),s={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#n.set(t,s),this.#n.set(s.id,s),s}getSvgUrl(t){const n=this.#n.get(t);return n?.isSvg?n.svgUrl:null}deleteId(t){this.#n||=new Map;const n=this.#n.get(t);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:s}=n;if(!n.url&&!n.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),n.blobPromise=r.convertToBlob()}s.close?.(),n.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class lw{#t=[];#e=!1;#n;#s=-1;constructor(t=128){this.#n=t}add({cmd:t,undo:n,post:s,mustExec:r,type:l=NaN,overwriteIfSameType:u=!1,keepUndo:h=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:n,post:s,type:l};if(this.#s===-1){this.#t.length>0&&(this.#t.length=0),this.#s=0,this.#t.push(d);return}if(u&&this.#t[this.#s].type===l){h&&(d.undo=this.#t[this.#s].undo),this.#t[this.#s]=d;return}const p=this.#s+1;p===this.#n?this.#t.splice(0,1):(this.#s=p,p<this.#t.length&&this.#t.splice(p)),this.#t.push(d)}undo(){if(this.#s===-1)return;this.#e=!0;const{undo:t,post:n}=this.#t[this.#s];t(),n?.(),this.#e=!1,this.#s-=1}redo(){if(this.#s<this.#t.length-1){this.#s+=1,this.#e=!0;const{cmd:t,post:n}=this.#t[this.#s];t(),n?.(),this.#e=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#t.length-1}destroy(){this.#t=null}}class Dl{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=$e.platform;for(const[s,r,l={}]of t)for(const u of s){const h=u.startsWith("mac+");n&&h?(this.callbacks.set(u.slice(4),{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1))):!n&&!h&&(this.callbacks.set(u,{callback:r,options:l}),this.allKeys.add(u.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(t,n){if(!this.allKeys.has(n.key))return;const s=this.callbacks.get(this.#t(n));if(!s)return;const{callback:r,options:{bubbles:l=!1,args:u=[],checker:h=null}}=s;h&&!h(t,n)||(r.bind(t,...u,n)(),l||(n.stopPropagation(),n.preventDefault()))}}class Af{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return iw(t),jt(this,"_colors",t)}convert(t){const n=bf(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[s,r]of this._colors)if(r.every((l,u)=>l===n[u]))return Af._colorsMapping.get(s);return n}getHexCode(t){const n=this._colors.get(t);return n?ft.makeHexColor(...n):t}}class As{#t=new AbortController;#e=null;#n=new Map;#s=new Map;#a=null;#i=null;#o=null;#c=new lw;#u=null;#l=0;#h=new Set;#r=null;#d=null;#p=new Set;#f=!1;#v=!1;#m=!1;#g=null;#y=null;#_=null;#T=null;#S=!1;#x=null;#k=new rw;#C=!1;#A=!1;#w=null;#R=null;#M=null;#L=null;#E=Tt.NONE;#b=new Set;#N=null;#j=null;#P=null;#U={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#F=null;#z=null;#B=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=As.prototype,n=u=>u.#z.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),s=(u,{target:h})=>{if(h instanceof HTMLInputElement){const{type:d}=h;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return jt(this,"_keyboardManager",new Dl([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#z.contains(h)&&!u.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(u,{target:h})=>!(h instanceof HTMLButtonElement)&&u.#z.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-l,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[l,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-l],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,l],checker:n}]]))}constructor(t,n,s,r,l,u,h,d,p,g,v){const y=this._signal=this.#t.signal;this.#z=t,this.#B=n,this.#a=s,this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:y}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),r._on("setpreference",this.onSetPreference.bind(this),{signal:y}),r._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:y}),this.#tt(),this.#st(),this.#Y(),this.#i=l.annotationStorage,this.#g=l.filterFactory,this.#j=u,this.#T=h||null,this.#f=d,this.#v=p,this.#m=g,this.#L=v||null,this.viewParameters={realScale:or.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#O?.resolve(),this.#O=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#s.values())t.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#e=null,this.#b.clear(),this.#c.destroy(),this.#a?.destroy(),this.#x?.hide(),this.#x=null,this.#y&&(clearTimeout(this.#y),this.#y=null),this.#F&&(clearTimeout(this.#F),this.#F=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#L}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#m}get hcmFilter(){return jt(this,"hcmFilter",this.#j?this.#g.addHCMFilter(this.#j.foreground,this.#j.background):"none")}get direction(){return jt(this,"direction",getComputedStyle(this.#z).direction)}get highlightColors(){return jt(this,"highlightColors",this.#T?new Map(this.#T.split(",").map(t=>t.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return jt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#M=t}editAltText(t,n=!1){this.#a?.editAltText(this,t,n)}switchToMode(t,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,n){this._eventBus.dispatch("setpreference",{source:this,name:t,value:n})}onSetPreference({name:t,value:n}){switch(t){case"enableNewAltTextWhenAddingImage":this.#m=n;break}}onPageChanging({pageNumber:t}){this.#l=t-1}focusMainContainer(){this.#z.focus()}findParent(t,n){for(const s of this.#s.values()){const{x:r,y:l,width:u,height:h}=s.div.getBoundingClientRect();if(t>=r&&t<=r+u&&n>=l&&n<=l+h)return s}return null}disableUserSelect(t=!1){this.#B.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*or.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#G({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#X(t){const{currentLayer:n}=this;if(n.hasTextLayer(t))return n;for(const s of this.#s.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u}=n,h=n.toString(),p=this.#G(n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const v=this.#X(p),y=this.#E===Tt.NONE,_=()=>{v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:r,focusNode:l,focusOffset:u,text:h}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(Tt.HIGHLIGHT,_);return}_()}#Z(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=this.#G(t).closest(".textLayer"),r=this.getSelectionBoxes(s);r&&(this.#x||=new sw(this),this.#x.show(s,r,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#i&&!this.#i.has(t.id)&&this.#i.setValue(t.id,t)}#J(){const t=document.getSelection();if(!t||t.isCollapsed){this.#N&&(this.#x?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===this.#N)return;const r=this.#G(t).closest(".textLayer");if(!r){this.#N&&(this.#x?.hide(),this.#N=null,this.#D({hasSelectedText:!1}));return}if(this.#x?.hide(),this.#N=n,this.#D({hasSelectedText:!0}),!(this.#E!==Tt.HIGHLIGHT&&this.#E!==Tt.NONE)&&(this.#E===Tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#E===Tt.HIGHLIGHT?this.#X(r):null;l?.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),d=p=>{p.type==="pointerup"&&p.button!==0||(u.abort(),l?.toggleDrawing(!0),p.type==="pointerup"&&this.#V("main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}}#V(t=""){this.#E===Tt.HIGHLIGHT?this.highlightSelection(t):this.#f&&this.#Z()}#tt(){document.addEventListener("selectionchange",this.#J.bind(this),{signal:this._signal})}#et(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#nt(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#V("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of this.#b)if(n.div.contains(t)){this.#R=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[t,n]=this.#R;this.#R=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#Y(){if(this.#w)return;this.#w=new AbortController;const t=this.combinedSignal(this.#w);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#it(){this.#w?.abort(),this.#w=null}#$(){if(this.#u)return;this.#u=new AbortController;const t=this.combinedSignal(this.#u);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#K(){this.#u?.abort(),this.#u=null}#st(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#Y(),this.#$()}removeEditListeners(){this.#it(),this.#K()}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const s of this.#d)if(s.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const s of this.#d)if(s.isHandlingMimeForPasting(n.type)){s.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of this.#b){const r=s.serialize(!0);r&&n.push(r)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:n}=t;for(const l of n.items)for(const u of this.#d)if(u.isHandlingMimeForPasting(l.type)){u.paste(l,this.currentLayer);return}let s=n.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Ct(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const r=this.currentLayer;try{const l=[];for(const d of s){const p=await r.deserialize(d);if(!p)return;l.push(p)}const u=()=>{for(const d of l)this.#W(d);this.#Q(l)},h=()=>{for(const d of l)d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}catch(l){Ct(`paste: "${l.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Tt.NONE&&!this.isEditorHandlingKeyboard&&As._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#V("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#D(t){Object.entries(t).some(([s,r])=>this.#U[s]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#U,t)}),this.#E===Tt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#I([[bt.HIGHLIGHT_FREE,!0]]))}#I(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#et(),this.#$(),this.#D({isEditing:this.#E!==Tt.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#nt(),this.#K(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#d){this.#d=t;for(const n of this.#d)this.#I(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#s.get(this.#l)}getLayer(t){return this.#s.get(t)}get currentPageIndex(){return this.#l}addLayer(t){this.#s.set(t.pageIndex,t),this.#C?t.enable():t.disable()}removeLayer(t){this.#s.delete(t.pageIndex)}async updateMode(t,n=null,s=!1){if(this.#E!==t&&!(this.#O&&(await this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#E=t,t===Tt.NONE){this.setEditingState(!1),this.#rt(),this.#O.resolve();return}this.setEditingState(!0),await this.#at(),this.unselectAll();for(const r of this.#s.values())r.updateMode(t);if(!n){s&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(const r of this.#n.values())r.annotationElementId===n?(this.setSelected(r),r.enterInEditMode()):r.unselect();this.#O.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,n){if(this.#d){switch(t){case bt.CREATE:this.currentLayer.addNewEditor();return;case bt.HIGHLIGHT_DEFAULT_COLOR:this.#M?.updateColor(n);break;case bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#P||=new Map).set(t,n),this.showAllEditors("highlight",n);break}for(const s of this.#b)s.updateParams(t,n);for(const s of this.#d)s.updateDefaultParams(t,n)}}showAllEditors(t,n,s=!1){for(const l of this.#n.values())l.editorType===t&&l.show(n);(this.#P?.get(bt.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#I([[bt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#A!==t){this.#A=t;for(const n of this.#s.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}async#at(){if(!this.#C){this.#C=!0;const t=[];for(const n of this.#s.values())t.push(n.enable());await Promise.all(t);for(const n of this.#n.values())n.enable()}}#rt(){if(this.unselectAll(),this.#C){this.#C=!1;for(const t of this.#s.values())t.disable();for(const t of this.#n.values())t.disable()}}getEditors(t){const n=[];for(const s of this.#n.values())s.pageIndex===t&&n.push(s);return n}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.focusMainContainer(),this.#y=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#h.has(t.annotationElementId))&&this.#i?.remove(t.id)}addDeletedAnnotationElement(t){this.#h.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#h.has(t)}removeDeletedAnnotationElement(t){this.#h.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#W(t){const n=this.#s.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#I(t.propertiesToUpdate))}get#lt(){let t=null;for(t of this.#b);return t}updateUI(t){this.#lt===t&&this.#I(t.propertiesToUpdate)}toggleSelected(t){if(this.#b.has(t)){this.#b.delete(t),t.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#b.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(t){for(const n of this.#b)n!==t&&n.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#I(t.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()})}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(t){this.#c.add(t),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}#q(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...this.#b],n=()=>{for(const r of t)r.remove()},s=()=>{for(const r of t)this.#W(r)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#Q(t){for(const n of this.#b)n.unselect();this.#b.clear();for(const n of t)n.isEmpty()||(this.#b.add(n),n.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#b)t.commit();this.#Q(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#E!==Tt.NONE))&&this.hasSelection){for(const t of this.#b)t.unselect();this.#b.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=n;const[r,l]=this.#H,u=[...this.#b],h=1e3;this.#F&&clearTimeout(this.#F),this.#F=setTimeout(()=>{this.#F=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of u)this.#n.has(d.id)&&d.translateInPage(r,l)},undo:()=>{for(const d of u)this.#n.has(d.id)&&d.translateInPage(-r,-l)},mustExec:!1})},h);for(const d of u)d.translateInPage(t,n)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#r=new Map;for(const t of this.#b)this.#r.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#r)return!1;this.disableUserSelect(!1);const t=this.#r;this.#r=null;let n=!1;for(const[{x:r,y:l,pageIndex:u},h]of t)h.newX=r,h.newY=l,h.newPageIndex=u,n||=r!==h.savedX||l!==h.savedY||u!==h.savedPageIndex;if(!n)return!1;const s=(r,l,u,h)=>{if(this.#n.has(r.id)){const d=this.#s.get(h);d?r._setParentAndPosition(d,l,u):(r.pageIndex=h,r.x=l,r.y=u)}};return this.addCommands({cmd:()=>{for(const[r,{newX:l,newY:u,newPageIndex:h}]of t)s(r,l,u,h)},undo:()=>{for(const[r,{savedX:l,savedY:u,savedPageIndex:h}]of t)s(r,l,u,h)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#r)for(const s of this.#r.keys())s.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#E}get imageManager(){return jt(this,"imageManager",new _f)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let p=0,g=n.rangeCount;p<g;p++)if(!t.contains(n.getRangeAt(p).commonAncestorContainer))return null;const{x:s,y:r,width:l,height:u}=t.getBoundingClientRect();let h;switch(t.getAttribute("data-main-rotation")){case"90":h=(p,g,v,y)=>({x:(g-r)/u,y:1-(p+v-s)/l,width:y/u,height:v/l});break;case"180":h=(p,g,v,y)=>({x:1-(p+v-s)/l,y:1-(g+y-r)/u,width:v/l,height:y/u});break;case"270":h=(p,g,v,y)=>({x:1-(g+y-r)/u,y:(p-s)/l,width:y/u,height:v/l});break;default:h=(p,g,v,y)=>({x:(p-s)/l,y:(g-r)/u,width:v/l,height:y/u});break}const d=[];for(let p=0,g=n.rangeCount;p<g;p++){const v=n.getRangeAt(p);if(!v.collapsed)for(const{x:y,y:_,width:A,height:E}of v.getClientRects())A===0||E===0||d.push(h(y,_,A,E))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#o||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const n=this.#o?.get(t.data.id);if(!n)return;const s=this.#i.getRawValue(n);s&&(this.#E===Tt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}}class ni{#t=null;#e=!1;#n=null;#s=null;#a=null;#i=null;#o=!1;#c=null;#u=null;#l=null;#h=null;#r=!1;static#d=null;static _l10n=null;constructor(t){this.#u=t,this.#r=t._uiManager.useNewAltTextFlow,ni.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){ni._l10n??=t}async render(){const t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";const n=this.#s=document.createElement("span");t.append(n),this.#r?(t.classList.add("new"),t.setAttribute("data-l10n-id",ni.#d.missing),n.setAttribute("data-l10n-id",ni.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#u._uiManager._signal;t.addEventListener("contextmenu",jn,{signal:s}),t.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const r=l=>{l.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#r&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",r,{capture:!0,signal:s}),t.addEventListener("keydown",l=>{l.target===t&&l.key==="Enter"&&(this.#o=!0,r(l))},{signal:s}),await this.#f(),t}get#p(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#r?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#r?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await ni._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#f())}toggleAltTextBadge(t=!1){if(!this.#r||this.#t){this.#c?.remove(),this.#c=null;return}if(!this.#c){const n=this.#c=document.createElement("div");n.className="noAltTextBadge",this.#u.div.append(n)}this.#c.classList.toggle("hidden",!t)}serialize(t){let n=this.#t;return!t&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:n,guessedText:s,textWithDisclaimer:r,cancel:l=!1}){s&&(this.#l=s,this.#h=r),!(this.#t===t&&this.#e===n)&&(l||(this.#t=t,this.#e=n),this.#f())}toggle(t=!1){this.#n&&(!t&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#s=null,this.#a=null,this.#c?.remove(),this.#c=null}async#f(){const t=this.#n;if(!t)return;if(this.#r){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",ni.#d[this.#p]),this.#s?.setAttribute("data-l10n-id",ni.#d[`${this.#p}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#a;if(!n){this.#a=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#u.id}`;const r=100,l=this.#u._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#a.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:l}),t.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#a?.classList.remove("show")},{signal:l})}this.#e?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#t),n.parentNode||t.append(n),this.#u.getImageForAltText()?.setAttribute("aria-describedby",n.id)}}class yt{#t=null;#e=null;#n=null;#s=!1;#a=!1;#i=null;#o=null;#c=null;#u="";#l=!1;#h=null;#r=!1;#d=!1;#p=!1;#f=null;#v=0;#m=0;#g=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#y=!1;#_=yt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Af;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=yt.prototype._resizeWithKeyboard,n=As.TRANSLATE_SMALL,s=As.TRANSLATE_BIG;return jt(this,"_resizerKeyboardManager",new Dl([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],yt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:s,pageHeight:r,pageX:l,pageY:u}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,r],this.pageTranslation=[l,u];const[h,d]=this.parentDimensions;this.x=t.x/h,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return jt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new ow({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n){if(yt._l10n??=t,yt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),yt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);yt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){Wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#y}set _isDraggable(t){this.#y=t,this.div?.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):this.#P(),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#l?this.#l=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,s,r){const[l,u]=this.parentDimensions;[s,r]=this.screenToPageTranslation(s,r),this.x=(t+s)/l,this.y=(n+r)/u,this.fixAndSetPosition()}#T([t,n],s,r){[s,r]=this.screenToPageTranslation(s,r),this.x+=s/t,this.y+=r/n,this.fixAndSetPosition()}translate(t,n){this.#T(this.parentDimensions,t,n)}translateInPage(t,n){this.#h||=[this.x,this.y],this.#T(this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}drag(t,n){this.#h||=[this.x,this.y];const[s,r]=this.parentDimensions;if(this.x+=t/s,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:u}=this;const[h,d]=this.getBaseTranslation();l+=h,u+=d,this.div.style.left=`${(100*l).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#h&&(this.#h[0]!==this.x||this.#h[1]!==this.y)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:s}=yt,r=s/t,l=s/n;switch(this.rotation){case 90:return[-r,l];case 180:return[r,l];case 270:return[r,-l];default:return[-r,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[n,s]=this.pageDimensions;let{x:r,y:l,width:u,height:h}=this;if(u*=n,h*=s,r*=n,l*=s,this._mustFixPosition)switch(t){case 0:r=Math.max(0,Math.min(n-u,r)),l=Math.max(0,Math.min(s-h,l));break;case 90:r=Math.max(0,Math.min(n-h,r)),l=Math.min(s,Math.max(u,l));break;case 180:r=Math.min(n,Math.max(u,r)),l=Math.min(s,Math.max(h,l));break;case 270:r=Math.min(n,Math.max(h,r)),l=Math.max(0,Math.min(s-u,l));break}this.x=r/=n,this.y=l/=s;const[d,p]=this.getBaseTranslation();r+=d,l+=p;const{style:g}=this.div;g.left=`${(100*r).toFixed(2)}%`,g.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#S(t,n,s){switch(s){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}}screenToPageTranslation(t,n){return yt.#S(t,n,this.parentRotation)}pageTranslationToScreen(t,n){return yt.#S(t,n,360-this.parentRotation)}#x(t){switch(t){case 90:{const[n,s]=this.pageDimensions;return[0,-n/s,s/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,s]=this.pageDimensions;return[0,n/s,-s/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,s]}=this;return[n*t,s*t]}setDims(t,n){const[s,r]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*n/r).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:n,width:s}=t,r=s.endsWith("%"),l=!this.#a&&n.endsWith("%");if(r&&l)return;const[u,h]=this.parentDimensions;r||(t.width=`${(100*parseFloat(s)/u).toFixed(2)}%`),!this.#a&&!l&&(t.height=`${(100*parseFloat(n)/h).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#k(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const s of t){const r=document.createElement("div");this.#i.append(r),r.classList.add("resizer",s),r.setAttribute("data-resizer-name",s),r.addEventListener("pointerdown",this.#C.bind(this,s),{signal:n}),r.addEventListener("contextmenu",jn,{signal:n}),r.tabIndex=-1}this.div.prepend(this.#i)}#C(t,n){n.preventDefault();const{isMac:s}=$e.platform;if(n.button!==0||n.ctrlKey&&s)return;this.#n?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1;const l=new AbortController,u=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#w.bind(this,t),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",jn,{signal:u});const h=this.x,d=this.y,p=this.width,g=this.height,v=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const _=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=v,this.div.style.cursor=y,this.#A(h,d,p,g)};window.addEventListener("pointerup",_,{signal:u}),window.addEventListener("blur",_,{signal:u})}#A(t,n,s,r){const l=this.x,u=this.y,h=this.width,d=this.height;l===t&&u===n&&h===s&&d===r||this.addCommands({cmd:()=>{this.width=h,this.height=d,this.x=l,this.y=u;const[p,g]=this.parentDimensions;this.setDims(p*h,g*d),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=r,this.x=t,this.y=n;const[p,g]=this.parentDimensions;this.setDims(p*s,g*r),this.fixAndSetPosition()},mustExec:!0})}#w(t,n){const[s,r]=this.parentDimensions,l=this.x,u=this.y,h=this.width,d=this.height,p=yt.MIN_SIZE/s,g=yt.MIN_SIZE/r,v=F=>Math.round(F*1e4)/1e4,y=this.#x(this.rotation),_=(F,X)=>[y[0]*F+y[2]*X,y[1]*F+y[3]*X],A=this.#x(360-this.rotation),E=(F,X)=>[A[0]*F+A[2]*X,A[1]*F+A[3]*X];let S,T,R=!1,C=!1;switch(t){case"topLeft":R=!0,S=(F,X)=>[0,0],T=(F,X)=>[F,X];break;case"topMiddle":S=(F,X)=>[F/2,0],T=(F,X)=>[F/2,X];break;case"topRight":R=!0,S=(F,X)=>[F,0],T=(F,X)=>[0,X];break;case"middleRight":C=!0,S=(F,X)=>[F,X/2],T=(F,X)=>[0,X/2];break;case"bottomRight":R=!0,S=(F,X)=>[F,X],T=(F,X)=>[0,0];break;case"bottomMiddle":S=(F,X)=>[F/2,X],T=(F,X)=>[F/2,0];break;case"bottomLeft":R=!0,S=(F,X)=>[0,X],T=(F,X)=>[F,0];break;case"middleLeft":C=!0,S=(F,X)=>[0,X/2],T=(F,X)=>[F,X/2];break}const O=S(h,d),z=T(h,d);let k=_(...z);const H=v(l+k[0]),K=v(u+k[1]);let G=1,tt=1,[Z,et]=this.screenToPageTranslation(n.movementX,n.movementY);if([Z,et]=E(Z/s,et/r),R){const F=Math.hypot(h,d);G=tt=Math.max(Math.min(Math.hypot(z[0]-O[0]-Z,z[1]-O[1]-et)/F,1/h,1/d),p/h,g/d)}else C?G=Math.max(p,Math.min(1,Math.abs(z[0]-O[0]-Z)))/h:tt=Math.max(g,Math.min(1,Math.abs(z[1]-O[1]-et)))/d;const nt=v(h*G),dt=v(d*tt);k=_(...T(nt,dt));const ot=H-k[0],j=K-k[1];this.width=nt,this.height=dt,this.x=ot,this.y=j,this.setDims(s*nt,r*dt),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}async addEditToolbar(){return this._editToolbar||this.#d?this._editToolbar:(this._editToolbar=new Al(this),this.div.append(this._editToolbar.render()),this.#n&&await this._editToolbar.addAltText(this.#n),this._editToolbar)}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(t){const n=this._editToolbar?.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#n||(ni.initialize(yt._l10n),this.#n=new ni(this),this.#t&&(this.#n.data=this.#t,this.#t=null),await this.addEditToolbar())}get altTextData(){return this.#n?.data}set altTextData(t){this.#n&&(this.#n.data=t)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(t){await this.#n?.setGuessedText(t)}serializeAltText(t){return this.#n?.serialize(t)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#s?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#L();const[t,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/t).toFixed(2)}%`,this.div.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),wc(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:n}=$e.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(this.#l=!0,this._isDraggable){this.#M(t);return}this.#R(t)}get isSelected(){return this._uiManager.isSelected(this)}#R(t){const{isMac:n}=$e.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#M(t){const{isSelected:n}=this;this._uiManager.setUpDragSession();const s=new AbortController,r=this._uiManager.combinedSignal(s);if(n){this.div.classList.add("moving"),this.#v=t.clientX,this.#m=t.clientY;const u=h=>{const{clientX:d,clientY:p}=h,[g,v]=this.screenToPageTranslation(d-this.#v,p-this.#m);this.#v=d,this.#m=p,this._uiManager.dragSelectedEditors(g,v)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:r})}const l=()=>{s.abort(),n&&this.div.classList.remove("moving"),this.#l=!1,this._uiManager.endDragSession()||this.#R(t)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})}moveInDOM(){this.#f&&clearTimeout(this.#f),this.#f=setTimeout(()=>{this.#f=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,n,s){t.changeParent(this),this.x=n,this.y=s,this.fixAndSetPosition()}getRect(t,n,s=this.rotation){const r=this.parentScale,[l,u]=this.pageDimensions,[h,d]=this.pageTranslation,p=t/r,g=n/r,v=this.x*l,y=this.y*u,_=this.width*l,A=this.height*u;switch(s){case 0:return[v+p+h,u-y-g-A+d,v+p+_+h,u-y-g+d];case 90:return[v+g+h,u-y+p+d,v+g+A+h,u-y+p+_+d];case 180:return[v-p-_+h,u-y+g+d,v-p+h,u-y+g+A+d];case 270:return[v-g-A+h,u-y-p-_+d,v-g+h,u-y-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[s,r,l,u]=t,h=l-s,d=u-r;switch(this.rotation){case 0:return[s,n-u,h,d];case 90:return[s,n-r,d,h];case 180:return[l,n-r,h,d];case 270:return[l,n-u,d,h];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#L(){if(this.#c||!this.div)return;this.#c=new AbortController;const t=this._uiManager.combinedSignal(this.#c);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#L()}rotate(t){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,n=null){Wt("An editor must be serializable")}static async deserialize(t,n,s){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:s});r.rotation=t.rotation,r.#t=t.accessibilityData;const[l,u]=r.pageDimensions,[h,d,p,g]=r.getRectInCurrentCoords(t.rect,u);return r.x=h/l,r.y=d/u,r.width=p/l,r.height=g/u,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#c?.abort(),this.#c=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#f&&(clearTimeout(this.#f),this.#f=null),this.#P(),this.removeEditToolbar(),this.#g){for(const t of this.#g.values())clearTimeout(t);this.#g=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#k(),this.#i.classList.remove("hidden"),wc(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#o={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#i.children;if(!this.#e){this.#e=Array.from(n);const u=this.#E.bind(this),h=this.#b.bind(this),d=this._uiManager._signal;for(const p of this.#e){const g=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",u,{signal:d}),p.addEventListener("blur",h,{signal:d}),p.addEventListener("focus",this.#N.bind(this,g),{signal:d}),p.setAttribute("data-l10n-id",yt._l10nResizer[g])}}const s=this.#e[0];let r=0;for(const u of n){if(u===s)break;r++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(l!==r){if(l<r)for(let h=0;h<r-l;h++)this.#i.append(this.#i.firstChild);else if(l>r)for(let h=0;h<l-r;h++)this.#i.firstChild.before(this.#i.lastChild);let u=0;for(const h of n){const p=this.#e[u++].getAttribute("data-resizer-name");h.setAttribute("data-l10n-id",yt._l10nResizer[p])}}this.#j(0),this.#p=!0,this.#i.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#E(t){yt._resizerKeyboardManager.exec(this,t)}#b(t){this.#p&&t.relatedTarget?.parentNode!==this.#i&&this.#P()}#N(t){this.#u=this.#p?t:""}#j(t){if(this.#e)for(const n of this.#e)n.tabIndex=t}_resizeWithKeyboard(t,n){this.#p&&this.#w(this.#u,{movementX:t,movementY:n})}#P(){if(this.#p=!1,this.#j(-1),this.#o){const{savedX:t,savedY:n,savedWidth:s,savedHeight:r}=this.#o;this.#A(t,n,s,r),this.#o=null}}_stopResizingWithKeyboard(){this.#P(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(t,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(t){this.#r=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,n){this.#a=!0;const s=t/n,{style:r}=this.div;r.aspectRatio=s,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){this.#g||=new Map;const{action:s}=t;let r=this.#g.get(s);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#g.delete(s),this.#g.size===0&&(this.#g=null)},yt._telemetryTimeout),this.#g.set(s,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(t){let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const s=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),s.before(n)}return n}resetAnnotationElement(t){const{firstChild:n}=t.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class ow extends yt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const yy=3285377520,Rn=4294901760,ti=65535;class L0{constructor(t){this.h1=t?t&4294967295:yy,this.h2=t?t&4294967295:yy}update(t){let n,s;if(typeof t=="string"){n=new Uint8Array(t.length*2),s=0;for(let E=0,S=t.length;E<S;E++){const T=t.charCodeAt(E);T<=255?n[s++]=T:(n[s++]=T>>>8,n[s++]=T&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),s=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=s>>2,l=s-r*4,u=new Uint32Array(n.buffer,0,r);let h=0,d=0,p=this.h1,g=this.h2;const v=3432918353,y=461845907,_=v&ti,A=y&ti;for(let E=0;E<r;E++)E&1?(h=u[E],h=h*v&Rn|h*_&ti,h=h<<15|h>>>17,h=h*y&Rn|h*A&ti,p^=h,p=p<<13|p>>>19,p=p*5+3864292196):(d=u[E],d=d*v&Rn|d*_&ti,d=d<<15|d>>>17,d=d*y&Rn|d*A&ti,g^=d,g=g<<13|g>>>19,g=g*5+3864292196);switch(h=0,l){case 3:h^=n[r*4+2]<<16;case 2:h^=n[r*4+1]<<8;case 1:h^=n[r*4],h=h*v&Rn|h*_&ti,h=h<<15|h>>>17,h=h*y&Rn|h*A&ti,r&1?p^=h:g^=h}this.h1=p,this.h2=g}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&Rn|t*36045&ti,n=n*4283543511&Rn|((n<<16|t>>>16)*2950163797&Rn)>>>16,t^=n>>>1,t=t*444984403&Rn|t*60499&ti,n=n*3301882366&Rn|((n<<16|t>>>16)*3120437893&Rn)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const Xd=Object.freeze({map:null,hash:"",transfer:void 0});class Ef{#t=!1;#e=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const s=this.#n.get(t);return s===void 0?n:Object.assign(n,s)}getRawValue(t){return this.#n.get(t)}remove(t){if(this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of this.#n.values())if(n instanceof yt)return;this.onAnnotationEditor(null)}}setValue(t,n){const s=this.#n.get(t);let r=!1;if(s!==void 0)for(const[l,u]of Object.entries(n))s[l]!==u&&(r=!0,s[l]=u);else r=!0,this.#n.set(t,n);r&&this.#s(),n instanceof yt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(t){return this.#n.has(t)}getAll(){return this.#n.size>0?gf(this.#n):null}setAll(t){for(const[n,s]of Object.entries(t))this.setValue(n,s)}get size(){return this.#n.size}#s(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new N0(this)}get serializable(){if(this.#n.size===0)return Xd;const t=new Map,n=new L0,s=[],r=Object.create(null);let l=!1;for(const[u,h]of this.#n){const d=h instanceof yt?h.serialize(!1,r):h;d&&(t.set(u,d),n.update(`${u}:${JSON.stringify(d)}`),l||=!!d.bitmap)}if(l)for(const u of t.values())u.bitmap&&s.push(u.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:s}:Xd}get editorStats(){let t=null;const n=new Map;for(const s of this.#n.values()){if(!(s instanceof yt))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:l}=r;n.has(l)||n.set(l,Object.getPrototypeOf(s).constructor),t||=Object.create(null);const u=t[l]||=new Map;for(const[h,d]of Object.entries(r)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(d)??0;p.set(d,g+1)}}for(const[s,r]of n)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){this.#e=null}get modifiedIds(){if(this.#e)return this.#e;const t=[];for(const n of this.#n.values())!(n instanceof yt)||!n.annotationElementId||!n.serialize()||t.push(n.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}}class N0 extends Ef{#t;constructor(t){super();const{map:n,hash:s,transfer:r}=t.serializable,l=structuredClone(n,r?{transfer:r}:null);this.#t={map:l,hash:s,transfer:r}}get print(){Wt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return jt(this,"modifiedIds",{ids:new Set,hash:""})}}class cw{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(Se(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:l}=t,u=new FontFace(s,r,l);this.addNativeFontFace(u);try{await u.load(),this.#t.add(s),n?.(t)}catch{Ct(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}Wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(r){throw Ct(`Failed to load font '${s.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const r=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return jt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(qe||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),jt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function n(){for(Se(!r.done,"completeRequest() cannot be called twice."),r.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,r={done:!1,complete:n,callback:t};return s.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return jt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function s(O,z){return O.charCodeAt(z)<<24|O.charCodeAt(z+1)<<16|O.charCodeAt(z+2)<<8|O.charCodeAt(z+3)&255}function r(O,z,k,H){const K=O.substring(0,z),G=O.substring(z+k);return K+H+G}let l,u;const h=this._document.createElement("canvas");h.width=1,h.height=1;const d=h.getContext("2d");let p=0;function g(O,z){if(++p>30){Ct("Load test font never loaded."),z();return}if(d.font="30px "+O,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){z();return}setTimeout(g.bind(null,O,z))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,v.length,v);const A=16,E=1482184792;let S=s(y,A);for(l=0,u=v.length-3;l<u;l+=4)S=S-E+s(v,l)|0;l<v.length&&(S=S-E+s(v+"XXX",l)|0),y=r(y,A,4,Y1(S));const T=`url(data:font/opentype;base64,${btoa(y)});`,R=`@font-face {font-family:"${v}";src:${T}}`;this.insertRule(R);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const O of[t.loadedName,v]){const z=this._document.createElement("span");z.textContent="Hi",z.style.fontFamily=O,C.append(z)}this._document.body.append(C),g(v,()=>{C.remove(),n.complete()})}}class uw{constructor(t,{disableFontFace:n=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const r in t)this[r]=t[r];this.disableFontFace=n===!0,this._inspectFont=s}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${J1(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),n}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];let s;try{s=t.get(this.loadedName+"_path_"+n)}catch(l){Ct(`getPathGenerator - ignoring character: "${l}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[n]=function(l,u){};const r=[];for(let l=0,u=s.length;l<u;)switch(s[l++]){case Ti.BEZIER_CURVE_TO:{const[h,d,p,g,v,y]=s.slice(l,l+6);r.push(_=>_.bezierCurveTo(h,d,p,g,v,y)),l+=6}break;case Ti.MOVE_TO:{const[h,d]=s.slice(l,l+2);r.push(p=>p.moveTo(h,d)),l+=2}break;case Ti.LINE_TO:{const[h,d]=s.slice(l,l+2);r.push(p=>p.lineTo(h,d)),l+=2}break;case Ti.QUADRATIC_CURVE_TO:{const[h,d,p,g]=s.slice(l,l+4);r.push(v=>v.quadraticCurveTo(h,d,p,g)),l+=4}break;case Ti.RESTORE:r.push(h=>h.restore());break;case Ti.SAVE:r.push(h=>h.save());break;case Ti.SCALE:Se(r.length===2,"Scale command is only valid at the third position.");break;case Ti.TRANSFORM:{const[h,d,p,g,v,y]=s.slice(l,l+6);r.push(_=>_.transform(h,d,p,g,v,y)),l+=6}break;case Ti.TRANSLATE:{const[h,d]=s.slice(l,l+2);r.push(p=>p.translate(h,d)),l+=2}break}return this.compiledGlyphs[n]=function(u,h){r[0](u),r[1](u),u.scale(h,-h);for(let d=2,p=r.length;d<p;d++)r[d](u)}}}class j0{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,n);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,n,s){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){Wt("Abstract method `_createCanvas` called.")}}class hw extends j0{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const s=this._document.createElement("canvas");return s.width=t,s.height=n,s}}class k0{constructor({baseUrl:t=null,isCompressed:n=!0}){this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class P0 extends k0{async _fetch(t){const n=await Xc(t,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Vc(n)}}class F0{addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,s,r,l){return"none"}destroy(t=!1){}}class dw extends F0{#t;#e;#n;#s;#a;#i;#o=0;constructor({docId:t,ownerDocument:n=globalThis.document}){super(),this.#s=t,this.#a=n}get#c(){return this.#e||=new Map}get#u(){return this.#i||=new Map}get#l(){if(!this.#n){const t=this.#a.createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const s=this.#a.createElementNS(Mi,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#a.createElementNS(Mi,"defs"),t.append(s),s.append(this.#n),this.#a.body.append(t)}return this.#n}#h(t){if(t.length===1){const d=t[0],p=new Array(256);for(let v=0;v<256;v++)p[v]=d[v]/255;const g=p.join(",");return[g,g,g]}const[n,s,r]=t,l=new Array(256),u=new Array(256),h=new Array(256);for(let d=0;d<256;d++)l[d]=n[d]/255,u[d]=s[d]/255,h[d]=r[d]/255;return[l.join(","),u.join(","),h.join(",")]}#r(t){if(this.#t===void 0){this.#t="";const n=this.#a.URL;n!==this.#a.baseURI&&(Yc(n)?Ct('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=n.split("#",1)[0])}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let n=this.#c.get(t);if(n)return n;const[s,r,l]=this.#h(t),u=t.length===1?s:`${s}${r}${l}`;if(n=this.#c.get(u),n)return this.#c.set(t,n),n;const h=`g_${this.#s}_transfer_map_${this.#o++}`,d=this.#r(h);this.#c.set(t,d),this.#c.set(u,d);const p=this.#f(h);return this.#m(s,r,l,p),d}addHCMFilter(t,n){const s=`${t}-${n}`,r="base";let l=this.#u.get(r);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#u.set(r,l)),!t||!n))return l.url;const u=this.#y(t);t=ft.makeHexColor(...u);const h=this.#y(n);if(n=ft.makeHexColor(...h),this.#l.style.color="",t==="#000000"&&n==="#ffffff"||t===n)return l.url;const d=new Array(256);for(let _=0;_<=255;_++){const A=_/255;d[_]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const p=d.join(","),g=`g_${this.#s}_hcm_filter`,v=l.filter=this.#f(g);this.#m(p,p,p,v),this.#p(v);const y=(_,A)=>{const E=u[_]/255,S=h[_]/255,T=new Array(A+1);for(let R=0;R<=A;R++)T[R]=E+R/A*(S-E);return T.join(",")};return this.#m(y(0,5),y(1,5),y(2,5),v),l.url=this.#r(g),l.url}addAlphaFilter(t){let n=this.#c.get(t);if(n)return n;const[s]=this.#h([t]),r=`alpha_${s}`;if(n=this.#c.get(r),n)return this.#c.set(t,n),n;const l=`g_${this.#s}_alpha_map_${this.#o++}`,u=this.#r(l);this.#c.set(t,u),this.#c.set(r,u);const h=this.#f(l);return this.#g(s,h),u}addLuminosityFilter(t){let n=this.#c.get(t||"luminosity");if(n)return n;let s,r;if(t?([s]=this.#h([t]),r=`luminosity_${s}`):r="luminosity",n=this.#c.get(r),n)return this.#c.set(t,n),n;const l=`g_${this.#s}_luminosity_map_${this.#o++}`,u=this.#r(l);this.#c.set(t,u),this.#c.set(r,u);const h=this.#f(l);return this.#d(h),t&&this.#g(s,h),u}addHighlightHCMFilter(t,n,s,r,l){const u=`${n}-${s}-${r}-${l}`;let h=this.#u.get(t);if(h?.key===u||(h?(h.filter?.remove(),h.key=u,h.url="none",h.filter=null):(h={key:u,url:"none",filter:null},this.#u.set(t,h)),!n||!s))return h.url;const[d,p]=[n,s].map(this.#y.bind(this));let g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),[y,_]=[r,l].map(this.#y.bind(this));v<g&&([g,v,y,_]=[v,g,_,y]),this.#l.style.color="";const A=(T,R,C)=>{const O=new Array(256),z=(v-g)/C,k=T/255,H=(R-T)/(255*C);let K=0;for(let G=0;G<=C;G++){const tt=Math.round(g+G*z),Z=k+G*H;for(let et=K;et<=tt;et++)O[et]=Z;K=tt+1}for(let G=K;G<256;G++)O[G]=O[K-1];return O.join(",")},E=`g_${this.#s}_hcm_${t}_filter`,S=h.filter=this.#f(E);return this.#p(S),this.#m(A(y[0],_[0],5),A(y[1],_[1],5),A(y[2],_[2],5),S),h.url=this.#r(E),h.url}destroy(t=!1){t&&this.#u.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#e&&(this.#e.clear(),this.#e=null),this.#o=0)}#d(t){const n=this.#a.createElementNS(Mi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)}#p(t){const n=this.#a.createElementNS(Mi,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)}#f(t){const n=this.#a.createElementNS(Mi,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),this.#l.append(n),n}#v(t,n,s){const r=this.#a.createElementNS(Mi,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)}#m(t,n,s,r){const l=this.#a.createElementNS(Mi,"feComponentTransfer");r.append(l),this.#v(l,"feFuncR",t),this.#v(l,"feFuncG",n),this.#v(l,"feFuncB",s)}#g(t,n){const s=this.#a.createElementNS(Mi,"feComponentTransfer");n.append(s),this.#v(s,"feFuncA",t)}#y(t){return this.#l.style.color=t,bf(getComputedStyle(this.#l).getPropertyValue("color"))}}class z0{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(s=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(t){Wt("Abstract method `_fetch` called.")}}class H0 extends z0{async _fetch(t){const n=await Xc(t,"arraybuffer");return new Uint8Array(n)}}if(qe){var Yd=Promise.withResolvers(),$d=null;(async()=>{const t=await Qo(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Qo(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Qo(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Qo(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let l,u;return new Map(Object.entries({fs:t,http:n,https:s,url:r,canvas:l,path2d:u}))})().then(t=>{$d=t,Yd.resolve()},t=>{Ct(`loadPackages: ${t}`),$d=new Map,Yd.resolve()})}class Es{static get promise(){return Yd.promise}static get(t){return $d?.get(t)}}async function I0(o){const n=await Es.get("fs").promises.readFile(o);return new Uint8Array(n)}class fw extends F0{}class pw extends j0{_createCanvas(t,n){return Es.get("canvas").createCanvas(t,n)}}class gw extends k0{async _fetch(t){return I0(t)}}class mw extends z0{async _fetch(t){return I0(t)}}const Ye={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Kd(o,t){if(!t)return;const n=t[2]-t[0],s=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,s),o.clip(r)}class Sf{getPattern(){Wt("Abstract method `getPattern` called.")}}class vw extends Sf{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let n;this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)n.addColorStop(s[0],s[1]);return n}getPattern(t,n,s,r){let l;if(r===Ye.STROKE||r===Ye.FILL){const u=n.current.getClippedPathBoundingBox(r,ee(t))||[0,0,0,0],h=Math.ceil(u[2]-u[0])||1,d=Math.ceil(u[3]-u[1])||1,p=n.cachedCanvases.getCanvas("pattern",h,d),g=p.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-u[0],-u[1]),s=ft.transform(s,[1,0,0,1,u[0],u[1]]),g.transform(...n.baseTransform),this.matrix&&g.transform(...this.matrix),Kd(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),l=t.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(s);l.setTransform(v)}else Kd(t,this._bbox),l=this._createGradient(t);return l}}function Rd(o,t,n,s,r,l,u,h){const d=t.coords,p=t.colors,g=o.data,v=o.width*4;let y;d[n+1]>d[s+1]&&(y=n,n=s,s=y,y=l,l=u,u=y),d[s+1]>d[r+1]&&(y=s,s=r,r=y,y=u,u=h,h=y),d[n+1]>d[s+1]&&(y=n,n=s,s=y,y=l,l=u,u=y);const _=(d[n]+t.offsetX)*t.scaleX,A=(d[n+1]+t.offsetY)*t.scaleY,E=(d[s]+t.offsetX)*t.scaleX,S=(d[s+1]+t.offsetY)*t.scaleY,T=(d[r]+t.offsetX)*t.scaleX,R=(d[r+1]+t.offsetY)*t.scaleY;if(A>=R)return;const C=p[l],O=p[l+1],z=p[l+2],k=p[u],H=p[u+1],K=p[u+2],G=p[h],tt=p[h+1],Z=p[h+2],et=Math.round(A),nt=Math.round(R);let dt,ot,j,F,X,it,lt,D;for(let q=et;q<=nt;q++){if(q<S){const at=q<A?0:(A-q)/(A-S);dt=_-(_-E)*at,ot=C-(C-k)*at,j=O-(O-H)*at,F=z-(z-K)*at}else{let at;q>R?at=1:S===R?at=0:at=(S-q)/(S-R),dt=E-(E-T)*at,ot=k-(k-G)*at,j=H-(H-tt)*at,F=K-(K-Z)*at}let $;q<A?$=0:q>R?$=1:$=(A-q)/(A-R),X=_-(_-T)*$,it=C-(C-G)*$,lt=O-(O-tt)*$,D=z-(z-Z)*$;const J=Math.round(Math.min(dt,X)),st=Math.round(Math.max(dt,X));let rt=v*q+J*4;for(let at=J;at<=st;at++)$=(dt-at)/(dt-X),$<0?$=0:$>1&&($=1),g[rt++]=ot-(ot-it)*$|0,g[rt++]=j-(j-lt)*$|0,g[rt++]=F-(F-D)*$|0,g[rt++]=255}}function yw(o,t,n){const s=t.coords,r=t.colors;let l,u;switch(t.type){case"lattice":const h=t.verticesPerRow,d=Math.floor(s.length/h)-1,p=h-1;for(l=0;l<d;l++){let g=l*h;for(let v=0;v<p;v++,g++)Rd(o,n,s[g],s[g+1],s[g+h],r[g],r[g+1],r[g+h]),Rd(o,n,s[g+h+1],s[g+1],s[g+h],r[g+h+1],r[g+1],r[g+h])}break;case"triangles":for(l=0,u=s.length;l<u;l+=3)Rd(o,n,s[l],s[l+1],s[l+2],r[l],r[l+1],r[l+2]);break;default:throw new Error("illegal figure")}}class bw extends Sf{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,n,s){const h=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-h,g=Math.ceil(this._bounds[3])-d,v=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(g*t[1]*1.1)),3e3),_=p/v,A=g/y,E={coords:this._coords,colors:this._colors,offsetX:-h,offsetY:-d,scaleX:1/_,scaleY:1/A},S=v+4,T=y+4,R=s.getCanvas("mesh",S,T),C=R.context,O=C.createImageData(v,y);if(n){const k=O.data;for(let H=0,K=k.length;H<K;H+=4)k[H]=n[0],k[H+1]=n[1],k[H+2]=n[2],k[H+3]=255}for(const k of this._figures)yw(O,k,E);return C.putImageData(O,2,2),{canvas:R.canvas,offsetX:h-2*_,offsetY:d-2*A,scaleX:_,scaleY:A}}getPattern(t,n,s,r){Kd(t,this._bbox);let l;if(r===Ye.SHADING)l=ft.singularValueDecompose2dScale(ee(t));else if(l=ft.singularValueDecompose2dScale(n.baseTransform),this.matrix){const h=ft.singularValueDecompose2dScale(this.matrix);l=[l[0]*h[0],l[1]*h[1]]}const u=this._createMeshCanvas(l,r===Ye.SHADING?null:this._background,n.cachedCanvases);return r!==Ye.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(u.offsetX,u.offsetY),t.scale(u.scaleX,u.scaleY),t.createPattern(u.canvas,"no-repeat")}}class _w extends Sf{getPattern(){return"hotpink"}}function Aw(o){switch(o[0]){case"RadialAxial":return new vw(o);case"Mesh":return new bw(o);case"Dummy":return new _w}throw new Error(`Unknown IR type: ${o[0]}`)}const by={COLORED:1,UNCOLORED:2};class xf{static MAX_PATTERN_SIZE=3e3;constructor(t,n,s,r,l){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=s,this.canvasGraphicsFactory=r,this.baseTransform=l}createPatternCanvas(t){const{bbox:n,operatorList:s,paintType:r,tilingType:l,color:u,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),qc("TilingType: "+l);const g=n[0],v=n[1],y=n[2],_=n[3],A=y-g,E=_-v,S=ft.singularValueDecompose2dScale(this.matrix),T=ft.singularValueDecompose2dScale(this.baseTransform),R=S[0]*T[0],C=S[1]*T[1];let O=A,z=E,k=!1,H=!1;const K=Math.ceil(d*R),G=Math.ceil(p*C),tt=Math.ceil(A*R),Z=Math.ceil(E*C);K>=tt?O=d:k=!0,G>=Z?z=p:H=!0;const et=this.getSizeAndScale(O,this.ctx.canvas.width,R),nt=this.getSizeAndScale(z,this.ctx.canvas.height,C),dt=t.cachedCanvases.getCanvas("pattern",et.size,nt.size),ot=dt.context,j=h.createCanvasGraphics(ot);if(j.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(j,r,u),ot.translate(-et.scale*g,-nt.scale*v),j.transform(et.scale,0,0,nt.scale,0,0),ot.save(),this.clipBbox(j,g,v,y,_),j.baseTransform=ee(j.ctx),j.executeOperatorList(s),j.endDrawing(),ot.restore(),k||H){const F=dt.canvas;k&&(O=d),H&&(z=p);const X=this.getSizeAndScale(O,this.ctx.canvas.width,R),it=this.getSizeAndScale(z,this.ctx.canvas.height,C),lt=X.size,D=it.size,q=t.cachedCanvases.getCanvas("pattern-workaround",lt,D),$=q.context,J=k?Math.floor(A/d):0,st=H?Math.floor(E/p):0;for(let rt=0;rt<=J;rt++)for(let at=0;at<=st;at++)$.drawImage(F,lt*rt,D*at,lt,D,0,0,lt,D);return{canvas:q.canvas,scaleX:X.scale,scaleY:it.scale,offsetX:g,offsetY:v}}return{canvas:dt.canvas,scaleX:et.scale,scaleY:nt.scale,offsetX:g,offsetY:v}}getSizeAndScale(t,n,s){const r=Math.max(xf.MAX_PATTERN_SIZE,n);let l=Math.ceil(t*s);return l>=r?l=r:s=l/t,{scale:s,size:l}}clipBbox(t,n,s,r,l){const u=r-n,h=l-s;t.ctx.rect(n,s,u,h),t.current.updateRectMinMax(ee(t.ctx),[n,s,r,l]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,s){const r=t.ctx,l=t.current;switch(n){case by.COLORED:const u=this.ctx;r.fillStyle=u.fillStyle,r.strokeStyle=u.strokeStyle,l.fillColor=u.fillStyle,l.strokeColor=u.strokeStyle;break;case by.UNCOLORED:const h=ft.makeHexColor(s[0],s[1],s[2]);r.fillStyle=h,r.strokeStyle=h,l.fillColor=h,l.strokeColor=h;break;default:throw new X1(`Unsupported paint type: ${n}`)}}getPattern(t,n,s,r){let l=s;r!==Ye.SHADING&&(l=ft.transform(l,n.baseTransform),this.matrix&&(l=ft.transform(l,this.matrix)));const u=this.createPatternCanvas(n);let h=new DOMMatrix(l);h=h.translate(u.offsetX,u.offsetY),h=h.scale(1/u.scaleX,1/u.scaleY);const d=t.createPattern(u.canvas,"repeat");return d.setTransform(h),d}}function Ew({src:o,srcPos:t=0,dest:n,width:s,height:r,nonBlackColor:l=4294967295,inverseDecode:u=!1}){const h=$e.isLittleEndian?4278190080:255,[d,p]=u?[l,h]:[h,l],g=s>>3,v=s&7,y=o.length;n=new Uint32Array(n.buffer);let _=0;for(let A=0;A<r;A++){for(const S=t+g;t<S;t++){const T=t<y?o[t]:255;n[_++]=T&128?p:d,n[_++]=T&64?p:d,n[_++]=T&32?p:d,n[_++]=T&16?p:d,n[_++]=T&8?p:d,n[_++]=T&4?p:d,n[_++]=T&2?p:d,n[_++]=T&1?p:d}if(v===0)continue;const E=t<y?o[t++]:255;for(let S=0;S<v;S++)n[_++]=E&1<<7-S?p:d}return{srcPos:t,destPos:_}}const _y=16,Ay=100,Sw=15,Ey=10,Sy=1e3,sn=16;function xw(o,t){if(o._removeMirroring)throw new Error("Context is already forwarding operations.");o.__originalSave=o.save,o.__originalRestore=o.restore,o.__originalRotate=o.rotate,o.__originalScale=o.scale,o.__originalTranslate=o.translate,o.__originalTransform=o.transform,o.__originalSetTransform=o.setTransform,o.__originalResetTransform=o.resetTransform,o.__originalClip=o.clip,o.__originalMoveTo=o.moveTo,o.__originalLineTo=o.lineTo,o.__originalBezierCurveTo=o.bezierCurveTo,o.__originalRect=o.rect,o.__originalClosePath=o.closePath,o.__originalBeginPath=o.beginPath,o._removeMirroring=()=>{o.save=o.__originalSave,o.restore=o.__originalRestore,o.rotate=o.__originalRotate,o.scale=o.__originalScale,o.translate=o.__originalTranslate,o.transform=o.__originalTransform,o.setTransform=o.__originalSetTransform,o.resetTransform=o.__originalResetTransform,o.clip=o.__originalClip,o.moveTo=o.__originalMoveTo,o.lineTo=o.__originalLineTo,o.bezierCurveTo=o.__originalBezierCurveTo,o.rect=o.__originalRect,o.closePath=o.__originalClosePath,o.beginPath=o.__originalBeginPath,delete o._removeMirroring},o.save=function(){t.save(),this.__originalSave()},o.restore=function(){t.restore(),this.__originalRestore()},o.translate=function(s,r){t.translate(s,r),this.__originalTranslate(s,r)},o.scale=function(s,r){t.scale(s,r),this.__originalScale(s,r)},o.transform=function(s,r,l,u,h,d){t.transform(s,r,l,u,h,d),this.__originalTransform(s,r,l,u,h,d)},o.setTransform=function(s,r,l,u,h,d){t.setTransform(s,r,l,u,h,d),this.__originalSetTransform(s,r,l,u,h,d)},o.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},o.rotate=function(s){t.rotate(s),this.__originalRotate(s)},o.clip=function(s){t.clip(s),this.__originalClip(s)},o.moveTo=function(n,s){t.moveTo(n,s),this.__originalMoveTo(n,s)},o.lineTo=function(n,s){t.lineTo(n,s),this.__originalLineTo(n,s)},o.bezierCurveTo=function(n,s,r,l,u,h){t.bezierCurveTo(n,s,r,l,u,h),this.__originalBezierCurveTo(n,s,r,l,u,h)},o.rect=function(n,s,r,l){t.rect(n,s,r,l),this.__originalRect(n,s,r,l)},o.closePath=function(){t.closePath(),this.__originalClosePath()},o.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class ww{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,s){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,n,s)):(r=this.canvasFactory.create(n,s),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function Zo(o,t,n,s,r,l,u,h,d,p){const[g,v,y,_,A,E]=ee(o);if(v===0&&y===0){const R=u*g+A,C=Math.round(R),O=h*_+E,z=Math.round(O),k=(u+d)*g+A,H=Math.abs(Math.round(k)-C)||1,K=(h+p)*_+E,G=Math.abs(Math.round(K)-z)||1;return o.setTransform(Math.sign(g),0,0,Math.sign(_),C,z),o.drawImage(t,n,s,r,l,0,0,H,G),o.setTransform(g,v,y,_,A,E),[H,G]}if(g===0&&_===0){const R=h*y+A,C=Math.round(R),O=u*v+E,z=Math.round(O),k=(h+p)*y+A,H=Math.abs(Math.round(k)-C)||1,K=(u+d)*v+E,G=Math.abs(Math.round(K)-z)||1;return o.setTransform(0,Math.sign(v),Math.sign(y),0,C,z),o.drawImage(t,n,s,r,l,0,0,G,H),o.setTransform(g,v,y,_,A,E),[G,H]}o.drawImage(t,n,s,r,l,u,h,d,p);const S=Math.hypot(g,v),T=Math.hypot(y,_);return[S*d,T*p]}function Tw(o){const{width:t,height:n}=o;if(t>Sy||n>Sy)return null;const s=1e3,r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=t+1;let u=new Uint8Array(l*(n+1)),h,d,p;const g=t+7&-8;let v=new Uint8Array(g*n),y=0;for(const T of o.data){let R=128;for(;R>0;)v[y++]=T&R?0:255,R>>=1}let _=0;for(y=0,v[y]!==0&&(u[0]=1,++_),d=1;d<t;d++)v[y]!==v[y+1]&&(u[d]=v[y]?2:1,++_),y++;for(v[y]!==0&&(u[d]=2,++_),h=1;h<n;h++){y=h*g,p=h*l,v[y-g]!==v[y]&&(u[p]=v[y]?1:8,++_);let T=(v[y]?4:0)+(v[y-g]?8:0);for(d=1;d<t;d++)T=(T>>2)+(v[y+1]?4:0)+(v[y-g+1]?8:0),r[T]&&(u[p+d]=r[T],++_),y++;if(v[y-g]!==v[y]&&(u[p+d]=v[y]?2:4,++_),_>s)return null}for(y=g*(n-1),p=h*l,v[y]!==0&&(u[p]=8,++_),d=1;d<t;d++)v[y]!==v[y+1]&&(u[p+d]=v[y]?4:8,++_),y++;if(v[y]!==0&&(u[p+d]=4,++_),_>s)return null;const A=new Int32Array([0,l,-1,0,-l,0,0,0,1]),E=new Path2D;for(h=0;_&&h<=n;h++){let T=h*l;const R=T+t;for(;T<R&&!u[T];)T++;if(T===R)continue;E.moveTo(T%l,h);const C=T;let O=u[T];do{const z=A[O];do T+=z;while(!u[T]);const k=u[T];k!==5&&k!==10?(O=k,u[T]=0):(O=k&51*O>>4,u[T]&=O>>2|O<<2),E.lineTo(T%l,T/l|0),u[T]||--_}while(C!==T);--h}return v=null,u=null,function(T){T.save(),T.scale(1/t,-1/n),T.translate(0,-n),T.fill(E),T.beginPath(),T.restore()}}class xy{constructor(t,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=R0,this.textMatrixScale=1,this.fontMatrix=Ud,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Be.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,n])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,n){this.x=t,this.y=n}updatePathMinMax(t,n,s){[n,s]=ft.applyTransform([n,s],t),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,n){const s=ft.applyTransform(n,t),r=ft.applyTransform(n.slice(2),t),l=ft.applyTransform([n[0],n[3]],t),u=ft.applyTransform([n[2],n[1]],t);this.minX=Math.min(this.minX,s[0],r[0],l[0],u[0]),this.minY=Math.min(this.minY,s[1],r[1],l[1],u[1]),this.maxX=Math.max(this.maxX,s[0],r[0],l[0],u[0]),this.maxY=Math.max(this.maxY,s[1],r[1],l[1],u[1])}updateScalingPathMinMax(t,n){ft.scaleMinMax(t,n),this.minX=Math.min(this.minX,n[0]),this.minY=Math.min(this.minY,n[1]),this.maxX=Math.max(this.maxX,n[2]),this.maxY=Math.max(this.maxY,n[3])}updateCurvePathMinMax(t,n,s,r,l,u,h,d,p,g){const v=ft.bezierBoundingBox(n,s,r,l,u,h,d,p,g);g||this.updateRectMinMax(t,v)}getPathBoundingBox(t=Ye.FILL,n=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ye.STROKE){n||Wt("Stroke bounding box must include transform.");const r=ft.singularValueDecompose2dScale(n),l=r[0]*this.lineWidth/2,u=r[1]*this.lineWidth/2;s[0]-=l,s[1]-=u,s[2]+=l,s[3]+=u}return s}updateClipFromPath(){const t=ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=Ye.FILL,n=null){return ft.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function wy(o,t){if(typeof ImageData<"u"&&t instanceof ImageData){o.putImageData(t,0,0);return}const n=t.height,s=t.width,r=n%sn,l=(n-r)/sn,u=r===0?l:l+1,h=o.createImageData(s,sn);let d=0,p;const g=t.data,v=h.data;let y,_,A,E;if(t.kind===gc.GRAYSCALE_1BPP){const S=g.byteLength,T=new Uint32Array(v.buffer,0,v.byteLength>>2),R=T.length,C=s+7>>3,O=4294967295,z=$e.isLittleEndian?4278190080:255;for(y=0;y<u;y++){for(A=y<l?sn:r,p=0,_=0;_<A;_++){const k=S-d;let H=0;const K=k>C?s:k*8-7,G=K&-8;let tt=0,Z=0;for(;H<G;H+=8)Z=g[d++],T[p++]=Z&128?O:z,T[p++]=Z&64?O:z,T[p++]=Z&32?O:z,T[p++]=Z&16?O:z,T[p++]=Z&8?O:z,T[p++]=Z&4?O:z,T[p++]=Z&2?O:z,T[p++]=Z&1?O:z;for(;H<K;H++)tt===0&&(Z=g[d++],tt=128),T[p++]=Z&tt?O:z,tt>>=1}for(;p<R;)T[p++]=0;o.putImageData(h,0,y*sn)}}else if(t.kind===gc.RGBA_32BPP){for(_=0,E=s*sn*4,y=0;y<l;y++)v.set(g.subarray(d,d+E)),d+=E,o.putImageData(h,0,_),_+=sn;y<u&&(E=s*r*4,v.set(g.subarray(d,d+E)),o.putImageData(h,0,_))}else if(t.kind===gc.RGB_24BPP)for(A=sn,E=s*A,y=0;y<u;y++){for(y>=l&&(A=r,E=s*A),p=0,_=E;_--;)v[p++]=g[d++],v[p++]=g[d++],v[p++]=g[d++],v[p++]=255;o.putImageData(h,0,y*sn)}else throw new Error(`bad image kind: ${t.kind}`)}function Ty(o,t){if(t.bitmap){o.drawImage(t.bitmap,0,0);return}const n=t.height,s=t.width,r=n%sn,l=(n-r)/sn,u=r===0?l:l+1,h=o.createImageData(s,sn);let d=0;const p=t.data,g=h.data;for(let v=0;v<u;v++){const y=v<l?sn:r;({srcPos:d}=Ew({src:p,srcPos:d,dest:g,width:s,height:y,nonBlackColor:0})),o.putImageData(h,0,v*sn)}}function fl(o,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of n)o[s]!==void 0&&(t[s]=o[s]);o.setLineDash!==void 0&&(t.setLineDash(o.getLineDash()),t.lineDashOffset=o.lineDashOffset)}function Jo(o){if(o.strokeStyle=o.fillStyle="#000000",o.fillRule="nonzero",o.globalAlpha=1,o.lineWidth=1,o.lineCap="butt",o.lineJoin="miter",o.miterLimit=10,o.globalCompositeOperation="source-over",o.font="10px sans-serif",o.setLineDash!==void 0&&(o.setLineDash([]),o.lineDashOffset=0),!qe){const{filter:t}=o;t!=="none"&&t!==""&&(o.filter="none")}}function Cy(o,t){if(t)return!0;const n=ft.singularValueDecompose2dScale(o);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*or.PDF_TO_CSS_UNITS);return n[0]<=s&&n[1]<=s}const Cw=["butt","round","square"],Rw=["miter","round","bevel"],Mw={},Ry={};class ir{constructor(t,n,s,r,l,{optionalContentConfig:u,markedContentStack:h=null},d,p){this.ctx=t,this.current=new xy(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=s,this.canvasFactory=r,this.filterFactory=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=u,this.cachedCanvases=new ww(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}beginDrawing({transform:t,viewport:n,transparency:s=!1,background:r=null}){const l=this.ctx.canvas.width,u=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,l,u),this.ctx.fillStyle=h,s){const d=this.cachedCanvases.getCanvas("transparent",l,u);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ee(this.compositeCtx))}this.ctx.save(),Jo(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=ee(this.ctx)}executeOperatorList(t,n,s,r){const l=t.argsArray,u=t.fnArray;let h=n||0;const d=l.length;if(d===h)return h;const p=d-h>Ey&&typeof s=="function",g=p?Date.now()+Sw:0;let v=0;const y=this.commonObjs,_=this.objs;let A;for(;;){if(r!==void 0&&h===r.nextBreakPoint)return r.breakIt(h,s),h;if(A=u[h],A!==qn.dependency)this[A].apply(this,l[h]);else for(const E of l[h]){const S=E.startsWith("g_")?y:_;if(!S.has(E))return S.get(E,s),h}if(h++,h===d)return h;if(p&&++v>Ey){if(Date.now()>g)return s(),h;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(t,n){const s=t.width??t.displayWidth,r=t.height??t.displayHeight;let l=Math.max(Math.hypot(n[0],n[1]),1),u=Math.max(Math.hypot(n[2],n[3]),1),h=s,d=r,p="prescale1",g,v;for(;l>2&&h>1||u>2&&d>1;){let y=h,_=d;l>2&&h>1&&(y=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h/2),l/=h/y),u>2&&d>1&&(_=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,u/=d/_),g=this.cachedCanvases.getCanvas(p,y,_),v=g.context,v.clearRect(0,0,y,_),v.drawImage(t,0,0,h,d,0,0,y,_),t=g.canvas,h=y,d=_,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:h,paintHeight:d}}_createMaskCanvas(t){const n=this.ctx,{width:s,height:r}=t,l=this.current.fillColor,u=this.current.patternFill,h=ee(n);let d,p,g,v;if((t.bitmap||t.data)&&t.count>1){const K=t.bitmap||t.data.buffer;p=JSON.stringify(u?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get(K),d||(d=new Map,this._cachedBitmapsMap.set(K,d));const G=d.get(p);if(G&&!u){const tt=Math.round(Math.min(h[0],h[2])+h[4]),Z=Math.round(Math.min(h[1],h[3])+h[5]);return{canvas:G,offsetX:tt,offsetY:Z}}g=G}g||(v=this.cachedCanvases.getCanvas("maskCanvas",s,r),Ty(v.context,t));let y=ft.transform(h,[1/s,0,0,-1/r,0,0]);y=ft.transform(y,[1,0,0,1,0,-r]);const[_,A,E,S]=ft.getAxialAlignedBoundingBox([0,0,s,r],y),T=Math.round(E-_)||1,R=Math.round(S-A)||1,C=this.cachedCanvases.getCanvas("fillCanvas",T,R),O=C.context,z=_,k=A;O.translate(-z,-k),O.transform(...y),g||(g=this._scaleImage(v.canvas,Ci(O)),g=g.img,d&&u&&d.set(p,g)),O.imageSmoothingEnabled=Cy(ee(O),t.interpolate),Zo(O,g,0,0,g.width,g.height,0,0,s,r),O.globalCompositeOperation="source-in";const H=ft.transform(Ci(O),[1,0,0,1,-z,-k]);return O.fillStyle=u?l.getPattern(n,this,H,Ye.FILL):l,O.fillRect(0,0,s,r),d&&!u&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,C.canvas)),{canvas:C.canvas,offsetX:Math.round(z),offsetY:Math.round(k)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Cw[t]}setLineJoin(t){this.ctx.lineJoin=Rw[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,n){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=n)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,s]of t)switch(n){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(s,t,n);this.suspendedCtx=this.ctx,this.ctx=r.context;const l=this.ctx;l.setTransform(...ee(this.suspendedCtx)),fl(this.suspendedCtx,l),xw(l,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),fl(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,s,r){const l=r[0],u=r[1],h=r[2]-l,d=r[3]-u;h===0||d===0||(this.genericComposeSMask(n.context,s,h,d,n.subtype,n.backdrop,n.transferMap,l,u,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,n,s,r,l,u,h,d,p,g,v){let y=t.canvas,_=d-g,A=p-v;if(u){const S=ft.makeHexColor(...u);if(_<0||A<0||_+s>y.width||A+r>y.height){const T=this.cachedCanvases.getCanvas("maskExtension",s,r),R=T.context;R.drawImage(y,-_,-A),R.globalCompositeOperation="destination-atop",R.fillStyle=S,R.fillRect(0,0,s,r),R.globalCompositeOperation="source-over",y=T.canvas,_=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const T=new Path2D;T.rect(_,A,s,r),t.clip(T),t.globalCompositeOperation="destination-atop",t.fillStyle=S,t.fillRect(_,A,s,r),t.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),l==="Alpha"&&h?n.filter=this.filterFactory.addAlphaFilter(h):l==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(h));const E=new Path2D;E.rect(d,p,s,r),n.clip(E),n.globalCompositeOperation="destination-in",n.drawImage(y,_,A,s,r,d,p,s,r),n.restore()}save(){this.inSMaskMode?(fl(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),fl(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,n,s,r,l,u){this.ctx.transform(t,n,s,r,l,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,s){const r=this.ctx,l=this.current;let u=l.x,h=l.y,d,p;const g=ee(r),v=g[0]===0&&g[3]===0||g[1]===0&&g[2]===0,y=v?s.slice(0):null;for(let _=0,A=0,E=t.length;_<E;_++)switch(t[_]|0){case qn.rectangle:u=n[A++],h=n[A++];const S=n[A++],T=n[A++],R=u+S,C=h+T;r.moveTo(u,h),S===0||T===0?r.lineTo(R,C):(r.lineTo(R,h),r.lineTo(R,C),r.lineTo(u,C)),v||l.updateRectMinMax(g,[u,h,R,C]),r.closePath();break;case qn.moveTo:u=n[A++],h=n[A++],r.moveTo(u,h),v||l.updatePathMinMax(g,u,h);break;case qn.lineTo:u=n[A++],h=n[A++],r.lineTo(u,h),v||l.updatePathMinMax(g,u,h);break;case qn.curveTo:d=u,p=h,u=n[A+4],h=n[A+5],r.bezierCurveTo(n[A],n[A+1],n[A+2],n[A+3],u,h),l.updateCurvePathMinMax(g,d,p,n[A],n[A+1],n[A+2],n[A+3],u,h,y),A+=6;break;case qn.curveTo2:d=u,p=h,r.bezierCurveTo(u,h,n[A],n[A+1],n[A+2],n[A+3]),l.updateCurvePathMinMax(g,d,p,u,h,n[A],n[A+1],n[A+2],n[A+3],y),u=n[A+2],h=n[A+3],A+=4;break;case qn.curveTo3:d=u,p=h,u=n[A+2],h=n[A+3],r.bezierCurveTo(n[A],n[A+1],u,h,u,h),l.updateCurvePathMinMax(g,d,p,n[A],n[A+1],u,h,u,h,y),A+=4;break;case qn.closePath:r.closePath();break}v&&l.updateScalingPathMinMax(g,y),l.setCurrentPoint(u,h)}closePath(){this.ctx.closePath()}stroke(t=!0){const n=this.ctx,s=this.current.strokeColor;n.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&s?.getPattern?(n.save(),n.strokeStyle=s.getPattern(n,this,Ci(n),Ye.STROKE),this.rescaleAndStroke(!1),n.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const n=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let l=!1;r&&(n.save(),n.fillStyle=s.getPattern(n,this,Ci(n),Ye.FILL),l=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),l&&n.restore(),t&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Mw}eoClip(){this.pendingClip=Ry}beginText(){this.current.textMatrix=R0,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,n=this.ctx;if(t===void 0){n.beginPath();return}n.save(),n.beginPath();for(const s of t)n.setTransform(...s.transform),n.translate(s.x,s.y),s.addToPath(n,s.fontSize);n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,n){const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=s.fontMatrix||Ud,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Ct("Invalid font matrix for font "+t),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const l=s.loadedName||"sans-serif",u=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let p=n;n<_y?p=_y:n>Ay&&(p=Ay),this.current.fontSizeScale=n/p,this.ctx.font=`${d} ${h} ${p}px ${u}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}setTextMatrix(t,n,s,r,l,u){this.current.textMatrix=[t,n,s,r,l,u],this.current.textMatrixScale=Math.hypot(t,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,n,s,r){const l=this.ctx,u=this.current,h=u.font,d=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=d&Be.FILL_STROKE_MASK,v=!!(d&Be.ADD_TO_PATH_FLAG),y=u.patternFill&&!h.missingFile;let _;(h.disableFontFace||v||y)&&(_=h.getPathGenerator(this.commonObjs,t)),h.disableFontFace||y?(l.save(),l.translate(n,s),l.beginPath(),_(l,p),r&&l.setTransform(...r),(g===Be.FILL||g===Be.FILL_STROKE)&&l.fill(),(g===Be.STROKE||g===Be.FILL_STROKE)&&l.stroke(),l.restore()):((g===Be.FILL||g===Be.FILL_STROKE)&&l.fillText(t,n,s),(g===Be.STROKE||g===Be.FILL_STROKE)&&l.strokeText(t,n,s)),v&&(this.pendingTextPaths||=[]).push({transform:ee(l),x:n,y:s,fontSize:p,addToPath:_})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let s=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){s=!0;break}return jt(this,"isFontSubpixelAAEnabled",s)}showText(t){const n=this.current,s=n.font;if(s.isType3Font)return this.showType3Text(t);const r=n.fontSize;if(r===0)return;const l=this.ctx,u=n.fontSizeScale,h=n.charSpacing,d=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,v=t.length,y=s.vertical,_=y?1:-1,A=s.defaultVMetrics,E=r*n.fontMatrix[0],S=n.textRenderingMode===Be.FILL&&!s.disableFontFace&&!n.patternFill;l.save(),l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let T;if(n.patternFill){l.save();const k=n.fillColor.getPattern(l,this,Ci(l),Ye.FILL);T=ee(l),l.restore(),l.fillStyle=k}let R=n.lineWidth;const C=n.textMatrixScale;if(C===0||R===0){const k=n.textRenderingMode&Be.FILL_STROKE_MASK;(k===Be.STROKE||k===Be.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=C;if(u!==1&&(l.scale(u,u),R/=u),l.lineWidth=R,s.isInvalidPDFjsFont){const k=[];let H=0;for(const K of t)k.push(K.unicode),H+=K.width;l.fillText(k.join(""),0,0),n.x+=H*E*g,l.restore(),this.compose();return}let O=0,z;for(z=0;z<v;++z){const k=t[z];if(typeof k=="number"){O+=_*k*r/1e3;continue}let H=!1;const K=(k.isSpace?d:0)+h,G=k.fontChar,tt=k.accent;let Z,et,nt=k.width;if(y){const ot=k.vmetric||A,j=-(k.vmetric?ot[1]:nt*.5)*E,F=ot[2]*E;nt=ot?-ot[0]:nt,Z=j/u,et=(O+F)/u}else Z=O/u,et=0;if(s.remeasure&&nt>0){const ot=l.measureText(G).width*1e3/r*u;if(nt<ot&&this.isFontSubpixelAAEnabled){const j=nt/ot;H=!0,l.save(),l.scale(j,1),Z/=j}else nt!==ot&&(Z+=(nt-ot)/2e3*r/u)}if(this.contentVisible&&(k.isInFont||s.missingFile)){if(S&&!tt)l.fillText(G,Z,et);else if(this.paintChar(G,Z,et,T),tt){const ot=Z+r*tt.offset.x/u,j=et-r*tt.offset.y/u;this.paintChar(tt.fontChar,ot,j,T)}}const dt=y?nt*E-K*p:nt*E+K*p;O+=dt,H&&l.restore()}y?n.y-=O:n.x+=O*g,l.restore(),this.compose()}showType3Text(t){const n=this.ctx,s=this.current,r=s.font,l=s.fontSize,u=s.fontDirection,h=r.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*u,v=s.fontMatrix||Ud,y=t.length,_=s.textRenderingMode===Be.INVISIBLE;let A,E,S,T;if(!(_||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...s.textMatrix),n.translate(s.x,s.y),n.scale(g,u),A=0;A<y;++A){if(E=t[A],typeof E=="number"){T=h*E*l/1e3,this.ctx.translate(T,0),s.x+=T*g;continue}const R=(E.isSpace?p:0)+d,C=r.charProcOperatorList[E.operatorListId];if(!C){Ct(`Type3 character "${E.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=E,this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(C),this.restore()),S=ft.applyTransform([E.width,0],v)[0]*l+R,n.translate(S,0),s.x+=S*g}n.restore(),this.processingType3=null}}setCharWidth(t,n){}setCharWidthAndBounds(t,n,s,r,l,u){this.ctx.rect(s,r,l-s,u-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let n;if(t[0]==="TilingPattern"){const s=t[1],r=this.baseTransform||ee(this.ctx),l={createCanvasGraphics:u=>new ir(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new xf(t,s,this.ctx,l,r)}else n=this._getPattern(t[1],t[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,n,s){this.ctx.strokeStyle=this.current.strokeColor=ft.makeHexColor(t,n,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,n,s){this.ctx.fillStyle=this.current.fillColor=ft.makeHexColor(t,n,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,n=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=Aw(this.getObject(t)),this.cachedPatterns.set(t,s)),n&&(s.matrix=n),s}shadingFill(t){if(!this.contentVisible)return;const n=this.ctx;this.save();const s=this._getPattern(t);n.fillStyle=s.getPattern(n,this,Ci(n),Ye.SHADING);const r=Ci(n);if(r){const{width:l,height:u}=n.canvas,[h,d,p,g]=ft.getAxialAlignedBoundingBox([0,0,l,u],r);this.ctx.fillRect(h,d,p-h,g-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Wt("Should not call beginInlineImage")}beginImageData(){Wt("Should not call beginImageData")}paintFormXObjectBegin(t,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ee(this.ctx),n)){const s=n[2]-n[0],r=n[3]-n[1];this.ctx.rect(n[0],n[1],s,r),this.current.updateRectMinMax(ee(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||qc("TODO: Support non-isolated groups."),t.knockout&&Ct("Knockout groups not supported.");const s=ee(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ft.getAxialAlignedBoundingBox(t.bbox,ee(n));const l=[0,0,n.canvas.width,n.canvas.height];r=ft.intersect(r,l)||[0,0,0,0];const u=Math.floor(r[0]),h=Math.floor(r[1]),d=Math.max(Math.ceil(r[2])-u,1),p=Math.max(Math.ceil(r[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;t.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,d,p),y=v.context;y.translate(-u,-h),y.transform(...s),t.smask?this.smaskStack.push({canvas:v.canvas,context:y,offsetX:u,offsetY:h,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(u,h),n.save()),fl(n,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const r=ee(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...r);const l=ft.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],r);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,n,s,r,l){if(this.#t(),Jo(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const u=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=n[0],s[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=u,n[3]=h;const[d,p]=ft.singularValueDecompose2dScale(ee(this.ctx)),{viewportScale:g}=this,v=Math.ceil(u*this.outputScaleX*g),y=Math.ceil(h*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(v,y);const{canvas:_,context:A}=this.annotationCanvas;this.annotationCanvasMap.set(t,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=A,this.ctx.save(),this.ctx.setTransform(d,0,0,-p,0,h*p),Jo(this.ctx)}else Jo(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],u,h),this.ctx.clip(),this.ctx.beginPath()}this.current=new xy(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(t.data,t),t.count=n;const s=this.ctx,r=this.processingType3;if(r&&(r.compiled===void 0&&(r.compiled=Tw(t)),r.compiled)){r.compiled(s);return}const l=this._createMaskCanvas(t),u=l.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(u,l.offsetX,l.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,s=0,r=0,l,u){if(!this.contentVisible)return;t=this.getObject(t.data,t);const h=this.ctx;h.save();const d=ee(h);h.transform(n,s,r,l,0,0);const p=this._createMaskCanvas(t);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let g=0,v=u.length;g<v;g+=2){const y=ft.transform(d,[n,s,r,l,u[g],u[g+1]]),[_,A]=ft.applyTransform([0,0],y);h.drawImage(p.canvas,_,A)}h.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const n=this.ctx,s=this.current.fillColor,r=this.current.patternFill;for(const l of t){const{data:u,width:h,height:d,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),v=g.context;v.save();const y=this.getObject(u,l);Ty(v,y),v.globalCompositeOperation="source-in",v.fillStyle=r?s.getPattern(v,this,Ci(n),Ye.FILL):s,v.fillRect(0,0,h,d),v.restore(),n.save(),n.transform(...p),n.scale(1,-1),Zo(n,g.canvas,0,0,h,d,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const n=this.getObject(t);if(!n){Ct("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(t,n,s,r){if(!this.contentVisible)return;const l=this.getObject(t);if(!l){Ct("Dependent image isn't ready yet");return}const u=l.width,h=l.height,d=[];for(let p=0,g=r.length;p<g;p+=2)d.push({transform:[n,0,0,s,r[p],r[p+1]],x:0,y:0,w:u,h});this.paintInlineImageXObjectGroup(l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:s,height:r}=t,l=this.cachedCanvases.getCanvas("inlineImage",s,r),u=l.context;return u.filter=this.current.transferMaps,u.drawImage(n,0,0),u.filter="none",l.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const n=t.width,s=t.height,r=this.ctx;if(this.save(),!qe){const{filter:h}=r;h!=="none"&&h!==""&&(r.filter="none")}r.scale(1/n,-1/s);let l;if(t.bitmap)l=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)l=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",n,s).context;wy(d,t),l=this.applyTransferMapsToCanvas(d)}const u=this._scaleImage(l,Ci(r));r.imageSmoothingEnabled=Cy(ee(r),t.interpolate),Zo(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-s,n,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,n){if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const l=t.width,u=t.height,d=this.cachedCanvases.getCanvas("inlineImage",l,u).context;wy(d,t),r=this.applyTransferMapsToCanvas(d)}for(const l of n)s.save(),s.transform(...l.transform),s.scale(1,-1),Zo(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,n){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(n||(this.pendingClip===Ry?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ee(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:s,c:r,d:l}=this.ctx.getTransform();let u,h;if(s===0&&r===0){const d=Math.abs(n),p=Math.abs(l);if(d===p)if(t===0)u=h=1/d;else{const g=d*t;u=h=g<1?1/g:1}else if(t===0)u=1/d,h=1/p;else{const g=d*t,v=p*t;u=g<1?1/g:1,h=v<1?1/v:1}}else{const d=Math.abs(n*l-s*r),p=Math.hypot(n,s),g=Math.hypot(r,l);if(t===0)u=g/d,h=p/d;else{const v=t*d;u=g>v?g/v:1,h=p>v?p/v:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=h}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:n}=this,{lineWidth:s}=this.current,[r,l]=this.getScaleForStroking();if(n.lineWidth=s||1,r===1&&l===1){n.stroke();return}const u=n.getLineDash();if(t&&n.save(),n.scale(r,l),u.length>0){const h=Math.max(r,l);n.setLineDash(u.map(d=>d/h)),n.lineDashOffset/=h}n.stroke(),t&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const o in qn)ir.prototype[o]!==void 0&&(ir.prototype[qn[o]]=ir.prototype[o]);class El{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}const tc={DATA:1,ERROR:2},ge={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function gn(o){switch(o instanceof Error||typeof o=="object"&&o!==null||Wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),o.name){case"AbortException":return new ea(o.message);case"MissingPDFException":return new ta(o.message);case"PasswordException":return new qd(o.message,o.code);case"UnexpectedResponseException":return new Gc(o.message,o.status);case"UnknownErrorException":return new Gd(o.message,o.details);default:return new Gd(o.message,o.toString())}}class bl{#t=new AbortController;constructor(t,n,s){this.sourceName=t,this.targetName=n,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#s(t);return}if(t.callback){const s=t.callbackId,r=this.callbackCapabilities[s];if(!r)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===tc.DATA)r.resolve(t.data);else if(t.callback===tc.ERROR)r.reject(gn(t.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[t.action];if(!n)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,r=t.sourceName,l=this.comObj;new Promise(function(u){u(n(t.data))}).then(function(u){l.postMessage({sourceName:s,targetName:r,callback:tc.DATA,callbackId:t.callbackId,data:u})},function(u){l.postMessage({sourceName:s,targetName:r,callback:tc.ERROR,callbackId:t.callbackId,reason:gn(u)})});return}if(t.streamId){this.#n(t);return}n(t.data)}on(t,n){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=n}send(t,n,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},s)}sendWithPromise(t,n,s){const r=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[r]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:n},s)}catch(u){l.reject(u)}return l.promise}sendWithStream(t,n,s,r){const l=this.streamId++,u=this.sourceName,h=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const g=Promise.withResolvers();return this.streamControllers[l]={controller:p,startCall:g,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:u,targetName:h,action:t,streamId:l,data:n,desiredSize:p.desiredSize},r),g.promise},pull:p=>{const g=Promise.withResolvers();return this.streamControllers[l].pullCall=g,d.postMessage({sourceName:u,targetName:h,stream:ge.PULL,streamId:l,desiredSize:p.desiredSize}),g.promise},cancel:p=>{Se(p instanceof Error,"cancel must have a valid reason");const g=Promise.withResolvers();return this.streamControllers[l].cancelCall=g,this.streamControllers[l].isClosed=!0,d.postMessage({sourceName:u,targetName:h,stream:ge.CANCEL,streamId:l,reason:gn(p)}),g.promise}},s)}#n(t){const n=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this,h=this.actionHandler[t.action],d={enqueue(p,g=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=g,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:r,stream:ge.ENQUEUE,streamId:n,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:ge.CLOSE,streamId:n}),delete u.streamSinks[n])},error(p){Se(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:r,stream:ge.ERROR,streamId:n,reason:gn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[n]=d,new Promise(function(p){p(h(t.data,d))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ge.START_COMPLETE,streamId:n,success:!0})},function(p){l.postMessage({sourceName:s,targetName:r,stream:ge.START_COMPLETE,streamId:n,reason:gn(p)})})}#s(t){const n=t.streamId,s=this.sourceName,r=t.sourceName,l=this.comObj,u=this.streamControllers[n],h=this.streamSinks[n];switch(t.stream){case ge.START_COMPLETE:t.success?u.startCall.resolve():u.startCall.reject(gn(t.reason));break;case ge.PULL_COMPLETE:t.success?u.pullCall.resolve():u.pullCall.reject(gn(t.reason));break;case ge.PULL:if(!h){l.postMessage({sourceName:s,targetName:r,stream:ge.PULL_COMPLETE,streamId:n,success:!0});break}h.desiredSize<=0&&t.desiredSize>0&&h.sinkCapability.resolve(),h.desiredSize=t.desiredSize,new Promise(function(d){d(h.onPull?.())}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ge.PULL_COMPLETE,streamId:n,success:!0})},function(d){l.postMessage({sourceName:s,targetName:r,stream:ge.PULL_COMPLETE,streamId:n,reason:gn(d)})});break;case ge.ENQUEUE:if(Se(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(t.chunk);break;case ge.CLOSE:if(Se(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),this.#a(u,n);break;case ge.ERROR:Se(u,"error should have stream controller"),u.controller.error(gn(t.reason)),this.#a(u,n);break;case ge.CANCEL_COMPLETE:t.success?u.cancelCall.resolve():u.cancelCall.reject(gn(t.reason)),this.#a(u,n);break;case ge.CANCEL:if(!h)break;new Promise(function(d){d(h.onCancel?.(gn(t.reason)))}).then(function(){l.postMessage({sourceName:s,targetName:r,stream:ge.CANCEL_COMPLETE,streamId:n,success:!0})},function(d){l.postMessage({sourceName:s,targetName:r,stream:ge.CANCEL_COMPLETE,streamId:n,reason:gn(d)})}),h.sinkCapability.reject(gn(t.reason)),h.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#a(t,n){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#t?.abort(),this.#t=null}}class Ow{#t;#e;constructor({parsedData:t,rawData:n}){this.#t=t,this.#e=n}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}getAll(){return gf(this.#t)}has(t){return this.#t.has(t)}}const tr=Symbol("INTERNAL");class Dw{#t=!1;#e=!1;#n=!1;#s=!0;constructor(t,{name:n,intent:s,usage:r,rbGroups:l}){this.#t=!!(t&mn.DISPLAY),this.#e=!!(t&mn.PRINT),this.name=n,this.intent=s,this.usage=r,this.rbGroups=l}get visible(){if(this.#n)return this.#s;if(!this.#s)return!1;const{print:t,view:n}=this.usage;return this.#t?n?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,n,s=!1){t!==tr&&Wt("Internal method `_setVisible` called."),this.#n=s,this.#s=n}}class Lw{#t=null;#e=new Map;#n=null;#s=null;constructor(t,n=mn.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#s=t.order;for(const s of t.groups)this.#e.set(s.id,new Dw(n,s));if(t.baseState==="OFF")for(const s of this.#e.values())s._setVisible(tr,!1);for(const s of t.on)this.#e.get(s)._setVisible(tr,!0);for(const s of t.off)this.#e.get(s)._setVisible(tr,!1);this.#n=this.getHash()}}#a(t){const n=t.length;if(n<2)return!0;const s=t[0];for(let r=1;r<n;r++){const l=t[r];let u;if(Array.isArray(l))u=this.#a(l);else if(this.#e.has(l))u=this.#e.get(l).visible;else return Ct(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return s==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return qc("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ct(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!this.#e.has(n))return Ct(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!this.#e.has(n))return Ct(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!this.#e.has(n))return Ct(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!this.#e.has(n))return Ct(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!1}return!0}return Ct(`Unknown optional content policy ${t.policy}.`),!0}return Ct(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0,s=!0){const r=this.#e.get(t);if(!r){Ct(`Optional content group not found: ${t}`);return}if(s&&n&&r.rbGroups.length)for(const l of r.rbGroups)for(const u of l)u!==t&&this.#e.get(u)?._setVisible(tr,!1,!0);r._setVisible(tr,!!n,!0),this.#t=null}setOCGState({state:t,preserveRB:n}){let s;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":s=r;continue}const l=this.#e.get(r);if(l)switch(s){case"ON":this.setVisibility(r,!0,n);break;case"OFF":this.setVisibility(r,!1,n);break;case"Toggle":this.setVisibility(r,!l.visible,n);break}}this.#t=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#e.size?this.#s?this.#s.slice():[...this.#e.keys()]:null}getGroups(){return this.#e.size>0?gf(this.#e):null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new L0;for(const[n,s]of this.#e)t.update(`${n}:${s.visible}`);return this.#t=t.hexdigest()}}class Nw{constructor(t,{disableRange:n=!1,disableStream:s=!1}){Se(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:l,progressiveDone:u,contentDispositionFilename:h}=t;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=h,l?.length>0){const d=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),t.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:n}){const s=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const r=this._rangeReaders.some(function(l){return l._begin!==t?!1:(l._enqueue(s),!0)});Se(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Se(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new jw(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const s=new kw(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class jw{constructor(t,n,s=!1,r=null){this._stream=t,this._done=s||!1,this._filename=yf(r)?r:null,this._queuedChunks=n||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class kw{constructor(t,n,s){this._stream=t,this._begin=n,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Pw(o){let t=!0,n=s("filename\\*","i").exec(o);if(n){n=n[1];let g=h(n);return g=unescape(g),g=d(g),g=p(g),l(g)}if(n=u(o),n){const g=p(n);return l(g)}if(n=s("filename","i").exec(o),n){n=n[1];let g=h(n);return g=p(g),l(g)}function s(g,v){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function r(g,v){if(g){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(g,{fatal:!0}),_=Vc(v);v=y.decode(_),t=!1}catch{}}return v}function l(g){return t&&/[\x80-\xff]/.test(g)&&(g=r("utf-8",g),t&&(g=r("iso-8859-1",g))),g}function u(g){const v=[];let y;const _=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=_.exec(g))!==null;){let[,E,S,T]=y;if(E=parseInt(E,10),E in v){if(E===0)break;continue}v[E]=[S,T]}const A=[];for(let E=0;E<v.length&&E in v;++E){let[S,T]=v[E];T=h(T),S&&(T=unescape(T),E===0&&(T=d(T))),A.push(T)}return A.join("")}function h(g){if(g.startsWith('"')){const v=g.slice(1).split('\\"');for(let y=0;y<v.length;++y){const _=v[y].indexOf('"');_!==-1&&(v[y]=v[y].slice(0,_),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}g=v.join('"')}return g}function d(g){const v=g.indexOf("'");if(v===-1)return g;const y=g.slice(0,v),A=g.slice(v+1).replace(/^[^']*'/,"");return r(y,A)}function p(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,_,A){if(_==="q"||_==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(E,S){return String.fromCharCode(parseInt(S,16))}),r(y,A);try{A=atob(A)}catch{}return r(y,A)})}return""}function wf(o,t){const n=new Headers;if(!o||!t||typeof t!="object")return n;for(const s in t){const r=t[s];r!==void 0&&n.append(s,r)}return n}function Tf({responseHeaders:o,isHttp:t,rangeChunkSize:n,disableRange:s}){const r={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(o.get("Content-Length"),10);return!Number.isInteger(l)||(r.suggestedLength=l,l<=2*n)||s||!t||o.get("Accept-Ranges")!=="bytes"||(o.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function Cf(o){const t=o.get("Content-Disposition");if(t){let n=Pw(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(yf(n))return n}return null}function $c(o,t){return o===404||o===0&&t.startsWith("file:")?new ta('Missing PDF "'+t+'".'):new Gc(`Unexpected server response (${o}) while retrieving PDF "${t}".`,o)}function B0(o){return o===200||o===206}function U0(o,t,n){return{method:"GET",headers:o,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function q0(o){return o instanceof Uint8Array?o.buffer:o instanceof ArrayBuffer?o:(Ct(`getArrayBuffer - unexpected data format: ${o}`),new Uint8Array(o).buffer)}class My{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=wf(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Se(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Fw(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const s=new zw(this,t,n);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Fw{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const s=new Headers(t.headers),r=n.url;fetch(r,U0(s,this._withCredentials,this._abortController)).then(l=>{if(!B0(l.status))throw $c(l.status,r);this._reader=l.body.getReader(),this._headersCapability.resolve();const u=l.headers,{allowRangeRequests:h,suggestedLength:d}=Tf({responseHeaders:u,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=h,this._contentLength=d||this._contentLength,this._filename=Cf(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ea("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:q0(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class zw{constructor(t,n,s){this._stream=t,this._reader=null,this._loaded=0;const r=t.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const l=new Headers(t.headers);l.append("Range",`bytes=${n}-${s-1}`);const u=r.url;fetch(u,U0(l,this._withCredentials,this._abortController)).then(h=>{if(!B0(h.status))throw $c(h.status,u);this._readCapability.resolve(),this._reader=h.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:q0(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Md=200,Od=206;function Hw(o){const t=o.response;return typeof t!="string"?t:Vc(t).buffer}class Iw{constructor({url:t,httpHeaders:n,withCredentials:s}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=wf(this.isHttp,n),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,n,s){const r={begin:t,end:n};for(const l in s)r[l]=s[l];return this.request(r)}requestFull(t){return this.request(t)}request(t){const n=new XMLHttpRequest,s=this.currXhrId++,r=this.pendingRequests[s]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[l,u]of this.headers)n.setRequestHeader(l,u);return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),r.expectedStatus=Od):r.expectedStatus=Md,n.responseType="arraybuffer",t.onError&&(n.onerror=function(l){t.onError(n.status)}),n.onreadystatechange=this.onStateChange.bind(this,s),n.onprogress=this.onProgress.bind(this,s),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,n.send(null),s}onProgress(t,n){const s=this.pendingRequests[t];s&&s.onProgress?.(n)}onStateChange(t,n){const s=this.pendingRequests[t];if(!s)return;const r=s.xhr;if(r.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),r.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],r.status===0&&this.isHttp){s.onError?.(r.status);return}const l=r.status||Md;if(!(l===Md&&s.expectedStatus===Od)&&l!==s.expectedStatus){s.onError?.(r.status);return}const h=Hw(r);if(l===Od){const d=r.getResponseHeader("Content-Range"),p=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);s.onDone({begin:parseInt(p[1],10),chunk:h})}else h?s.onDone({begin:0,chunk:h}):s.onError?.(r.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}class Bw{constructor(t){this._source=t,this._manager=new Iw(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Se(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Uw(this._manager,this._source),this._fullRequestReader}getRangeReader(t,n){const s=new qw(this._manager,t,n);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Uw{constructor(t,n){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(s),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,n=this._manager.getRequestXhr(t),s=new Headers(n.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[h,...d]=u.split(": ");return[h,d.join(": ")]})),{allowRangeRequests:r,suggestedLength:l}=Tf({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Cf(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=$c(t,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class qw{constructor(t,n,s){this._manager=t;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(n,s,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(t){const n=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=$c(t,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Gw=/^[a-z][a-z0-9\-+.]+:/i;function Vw(o){if(Gw.test(o))return new URL(o);const t=Es.get("url");return new URL(t.pathToFileURL(o))}function G0(o,t,n){return o.protocol==="http:"?Es.get("http").request(o,{headers:t},n):Es.get("https").request(o,{headers:t},n)}class Xw{constructor(t){this.source=t,this.url=Vw(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=wf(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Se(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Kw(this):new Yw(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const s=this.isFsUrl?new Ww(this,t,n):new $w(this,t,n);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class V0{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ea("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class X0{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=t.source;this._isStreamingSupported=!n.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class Yw extends V0{constructor(t){super(t);const n=Object.fromEntries(t.headers),s=r=>{if(r.statusCode===404){const d=new ta(`Missing PDF "${this._url}".`);this._storedError=d,this._headersCapability.reject(d);return}this._headersCapability.resolve(),this._setReadableStream(r);const l=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:h}=Tf({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=h||this._contentLength,this._filename=Cf(l)};this._request=G0(this._url,n,s),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class $w extends X0{constructor(t,n,s){super(t);const r=Object.fromEntries(t.headers);r.Range=`bytes=${n}-${s-1}`;const l=u=>{if(u.statusCode===404){const h=new ta(`Missing PDF "${this._url}".`);this._storedError=h;return}this._setReadableStream(u)};this._request=G0(this._url,r,l),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class Kw extends V0{constructor(t){super(t);const n=Es.get("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=new ta(`Missing PDF "${this._url}".`)),this._storedError=s,this._headersCapability.reject(s)})}}class Ww extends X0{constructor(t,n,s){super(t);const r=Es.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:n,end:s-1}))}}const Qw=1e5,nn=30,Zw=.8;let Wd=class Ln{#t=Promise.withResolvers();#e=null;#n=!1;#s=!!globalThis.FontInspector?.enabled;#a=null;#i=null;#o=0;#c=0;#u=null;#l=null;#h=0;#r=0;#d=Object.create(null);#p=[];#f=null;#v=[];#m=new WeakMap;#g=null;static#y=new Map;static#_=new Map;static#T=new WeakMap;static#S=null;static#x=new Set;constructor({textContentSource:t,container:n,viewport:s}){if(t instanceof ReadableStream)this.#f=t;else if(typeof t=="object")this.#f=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=n,this.#r=s.scale*(globalThis.devicePixelRatio||1),this.#h=s.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:l,pageX:u,pageY:h}=s.rawDims;this.#g=[1,0,0,-1,-u,h+l],this.#c=r,this.#o=l,Ln.#M(),Ws(n,s),this.#t.promise.finally(()=>{Ln.#x.delete(this),this.#i=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:n}=$e.platform;return jt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&n?"Calibri, ":""}sans-serif`],["monospace",`${t&&n?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#u.read().then(({value:n,done:s})=>{if(s){this.#t.resolve();return}this.#a??=n.lang,Object.assign(this.#d,n.styles),this.#k(n.items),t()},this.#t.reject)};return this.#u=this.#f.getReader(),Ln.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:n=null}){const s=t.scale*(globalThis.devicePixelRatio||1),r=t.rotation;if(r!==this.#h&&(n?.(),this.#h=r,Ws(this.#l,{rotation:r})),s!==this.#r){n?.(),this.#r=s;const l={div:null,properties:null,ctx:Ln.#w(this.#a)};for(const u of this.#v)l.properties=this.#m.get(u),l.div=u,this.#A(l)}}cancel(){const t=new ea("TextLayer task cancelled.");this.#u?.cancel(t).catch(()=>{}),this.#u=null,this.#t.reject(t)}get textDivs(){return this.#v}get textContentItemsStr(){return this.#p}#k(t){if(this.#n)return;this.#i.ctx??=Ln.#w(this.#a);const n=this.#v,s=this.#p;for(const r of t){if(n.length>Qw){Ct("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const l=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id!==null&&this.#e.setAttribute("id",`${r.id}`),l.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}s.push(r.str),this.#C(r)}}#C(t){const n=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#v.push(n);const r=ft.transform(this.#g,t.transform);let l=Math.atan2(r[1],r[0]);const u=this.#d[t.fontName];u.vertical&&(l+=Math.PI/2);let h=this.#s&&u.fontSubstitution||u.fontFamily;h=Ln.fontFamilyMap.get(h)||h;const d=Math.hypot(r[2],r[3]),p=d*Ln.#L(h,this.#a);let g,v;l===0?(g=r[4],v=r[5]-p):(g=r[4]+p*Math.sin(l),v=r[5]-p*Math.cos(l));const y="calc(var(--scale-factor)*",_=n.style;this.#e===this.#l?(_.left=`${(100*g/this.#c).toFixed(2)}%`,_.top=`${(100*v/this.#o).toFixed(2)}%`):(_.left=`${y}${g.toFixed(2)}px)`,_.top=`${y}${v.toFixed(2)}px)`),_.fontSize=`${y}${(Ln.#S*d).toFixed(2)}px)`,_.fontFamily=h,s.fontSize=d,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,this.#s&&(n.dataset.fontName=u.fontSubstitutionLoadedName||t.fontName),l!==0&&(s.angle=l*(180/Math.PI));let A=!1;if(t.str.length>1)A=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const E=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);E!==S&&Math.max(E,S)/Math.min(E,S)>1.5&&(A=!0)}if(A&&(s.canvasWidth=u.vertical?t.height:t.width),this.#m.set(n,s),this.#i.div=n,this.#i.properties=s,this.#A(this.#i),s.hasText&&this.#e.append(n),s.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this.#e.append(E)}}#A(t){const{div:n,properties:s,ctx:r}=t,{style:l}=n;let u="";if(Ln.#S>1&&(u=`scale(${1/Ln.#S})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=l,{canvasWidth:d,fontSize:p}=s;Ln.#R(r,p*this.#r,h);const{width:g}=r.measureText(n.textContent);g>0&&(u=`scaleX(${d*this.#r/g}) ${u}`)}s.angle!==0&&(u=`rotate(${s.angle}deg) ${u}`),u.length>0&&(l.transform=u)}static cleanup(){if(!(this.#x.size>0)){this.#y.clear();for(const{canvas:t}of this.#_.values())t.remove();this.#_.clear()}}static#w(t=null){let n=this.#_.get(t||="");if(!n){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),n=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#_.set(t,n),this.#T.set(n,{size:0,family:""})}return n}static#R(t,n,s){const r=this.#T.get(t);n===r.size&&s===r.family||(t.font=`${n}px ${s}`,r.size=n,r.family=s)}static#M(){if(this.#S!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#S=t.getBoundingClientRect().height,t.remove()}static#L(t,n){const s=this.#y.get(t);if(s)return s;const r=this.#w(n);r.canvas.width=r.canvas.height=nn,this.#R(r,nn,t);const l=r.measureText("");let u=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);if(u){const g=u/(u+h);return this.#y.set(t,g),r.canvas.width=r.canvas.height=0,g}r.strokeStyle="red",r.clearRect(0,0,nn,nn),r.strokeText("g",0,0);let d=r.getImageData(0,0,nn,nn).data;h=0;for(let g=d.length-1-3;g>=0;g-=4)if(d[g]>0){h=Math.ceil(g/4/nn);break}r.clearRect(0,0,nn,nn),r.strokeText("A",0,nn),d=r.getImageData(0,0,nn,nn).data,u=0;for(let g=0,v=d.length;g<v;g+=4)if(d[g]>0){u=nn-Math.floor(g/4/nn);break}r.canvas.width=r.canvas.height=0;const p=u?u/(u+h):Zw;return this.#y.set(t,p),p}};class Tl{static textContent(t){const n=[],s={items:n,styles:Object.create(null)};function r(l){if(!l)return;let u=null;const h=l.name;if(h==="#text")u=l.value;else if(Tl.shouldBuildText(h))l?.attributes?.textContent?u=l.attributes.textContent:l.value&&(u=l.value);else return;if(u!==null&&n.push({str:u}),!!l.children)for(const d of l.children)r(d)}return r(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const Jw=65536,tT=100,eT=5e3,nT=qe?pw:hw,iT=qe?gw:P0,sT=qe?fw:dw,aT=qe?mw:H0;function rT(o={}){typeof o=="string"||o instanceof URL?o={url:o}:(o instanceof ArrayBuffer||ArrayBuffer.isView(o))&&(o={data:o});const t=new Rf,{docId:n}=t,s=o.url?lT(o.url):null,r=o.data?oT(o.data):null,l=o.httpHeaders||null,u=o.withCredentials===!0,h=o.password??null,d=o.range instanceof Y0?o.range:null,p=Number.isInteger(o.rangeChunkSize)&&o.rangeChunkSize>0?o.rangeChunkSize:Jw;let g=o.worker instanceof sr?o.worker:null;const v=o.verbosity,y=typeof o.docBaseUrl=="string"&&!Yc(o.docBaseUrl)?o.docBaseUrl:null,_=typeof o.cMapUrl=="string"?o.cMapUrl:null,A=o.cMapPacked!==!1,E=o.CMapReaderFactory||iT,S=typeof o.standardFontDataUrl=="string"?o.standardFontDataUrl:null,T=o.StandardFontDataFactory||aT,R=o.stopAtErrors!==!0,C=Number.isInteger(o.maxImageSize)&&o.maxImageSize>-1?o.maxImageSize:-1,O=o.isEvalSupported!==!1,z=typeof o.isOffscreenCanvasSupported=="boolean"?o.isOffscreenCanvasSupported:!qe,k=typeof o.isChrome=="boolean"?o.isChrome:!$e.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,H=Number.isInteger(o.canvasMaxAreaInBytes)?o.canvasMaxAreaInBytes:-1,K=typeof o.disableFontFace=="boolean"?o.disableFontFace:qe,G=o.fontExtraProperties===!0,tt=o.enableXfa===!0,Z=o.ownerDocument||globalThis.document,et=o.disableRange===!0,nt=o.disableStream===!0,dt=o.disableAutoFetch===!0,ot=o.pdfBug===!0,j=o.CanvasFactory||nT,F=o.FilterFactory||sT,X=o.enableHWA===!0,it=d?d.length:o.length??NaN,lt=typeof o.useSystemFonts=="boolean"?o.useSystemFonts:!qe&&!K,D=typeof o.useWorkerFetch=="boolean"?o.useWorkerFetch:E===P0&&T===H0&&_&&S&&yl(_,document.baseURI)&&yl(S,document.baseURI);o.canvasFactory&&vy("`canvasFactory`-instance option, please use `CanvasFactory` instead."),o.filterFactory&&vy("`filterFactory`-instance option, please use `FilterFactory` instead.");const q=null;U1(v);const $={canvasFactory:new j({ownerDocument:Z,enableHWA:X}),filterFactory:new F({docId:n,ownerDocument:Z}),cMapReaderFactory:D?null:new E({baseUrl:_,isCompressed:A}),standardFontDataFactory:D?null:new T({baseUrl:S})};if(!g){const rt={verbosity:v,port:El.workerPort};g=rt.port?sr.fromPort(rt):new sr(rt),t._worker=g}const J={docId:n,apiVersion:"4.8.69",data:r,password:h,disableAutoFetch:dt,rangeChunkSize:p,length:it,docBaseUrl:y,enableXfa:tt,evaluatorOptions:{maxImageSize:C,disableFontFace:K,ignoreErrors:R,isEvalSupported:O,isOffscreenCanvasSupported:z,isChrome:k,canvasMaxAreaInBytes:H,fontExtraProperties:G,useSystemFonts:lt,cMapUrl:D?_:null,standardFontDataUrl:D?S:null}},st={disableFontFace:K,fontExtraProperties:G,ownerDocument:Z,pdfBug:ot,styleElement:q,loadingParams:{disableAutoFetch:dt,enableXfa:tt}};return g.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const rt=g.messageHandler.sendWithPromise("GetDocRequest",J,r?[r.buffer]:null);let at;if(d)at=new Nw(d,{disableRange:et,disableStream:nt});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");let kt;qe?kt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&yl(s)?My:Xw:kt=yl(s)?My:Bw,at=new kt({url:s,length:it,httpHeaders:l,withCredentials:u,rangeChunkSize:p,disableRange:et,disableStream:nt})}return rt.then(kt=>{if(t.destroyed)throw new Error("Loading aborted");if(g.destroyed)throw new Error("Worker was destroyed");const vt=new bl(n,kt,g.port),ve=new dT(vt,t,at,st,$);t._transport=ve,vt.send("Ready",null)})}).catch(t._capability.reject),t}function lT(o){if(o instanceof URL)return o.href;try{return new URL(o,window.location).href}catch{if(qe&&typeof o=="string")return o}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function oT(o){if(qe&&typeof Buffer<"u"&&o instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength)return o;if(typeof o=="string")return Vc(o);if(o instanceof ArrayBuffer||ArrayBuffer.isView(o)||typeof o=="object"&&!isNaN(o?.length))return new Uint8Array(o);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Oy(o){return typeof o=="object"&&Number.isInteger(o?.num)&&o.num>=0&&Number.isInteger(o?.gen)&&o.gen>=0}class Rf{static#t=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Rf.#t++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class Y0{constructor(t,n,s=!1,r=null){this.length=t,this.initialData=n,this.progressiveDone=s,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,n){for(const s of this._rangeListeners)s(t,n)}onDataProgress(t,n){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,n)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,n){Wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class cT{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class uT{#t=null;#e=!1;constructor(t,n,s,r=!1){this._pageIndex=t,this._pageInfo=n,this._transport=s,this._stats=r?new my:null,this._pdfBug=r,this.commonObjs=s.commonObjs,this.objs=new $0,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:s=0,offsetY:r=0,dontFlip:l=!1}={}){return new Ol({viewBox:this.view,scale:t,rotation:n,offsetX:s,offsetY:r,dontFlip:l})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return jt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,viewport:n,intent:s="display",annotationMode:r=vs.ENABLE,transform:l=null,background:u=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(s,r,g,v),{renderingIntent:_,cacheKey:A}=y;this.#e=!1,this.#s(),h||=this._transport.getOptionalContentConfig(_);let E=this._intentStates.get(A);E||(E=Object.create(null),this._intentStates.set(A,E)),E.streamReaderCancelTimeout&&(clearTimeout(E.streamReaderCancelTimeout),E.streamReaderCancelTimeout=null);const S=!!(_&mn.PRINT);E.displayReadyCapability||(E.displayReadyCapability=Promise.withResolvers(),E.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const T=O=>{E.renderTasks.delete(R),(this._maybeCleanupAfterRender||S)&&(this.#e=!0),this.#n(!S),O?(R.capability.reject(O),this._abortOperatorList({intentState:E,reason:O instanceof Error?O:new Error(O)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new nr({callback:T,params:{canvasContext:t,viewport:n,transform:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:E.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:p});(E.renderTasks||=new Set).add(R);const C=R.task;return Promise.all([E.displayReadyCapability.promise,h]).then(([O,z])=>{if(this.destroyed){T();return}if(this._stats?.time("Rendering"),!(z.renderingIntent&_))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:O,optionalContentConfig:z}),R.operatorListChanged()}).catch(T),C}getOperatorList({intent:t="display",annotationMode:n=vs.ENABLE,printAnnotationStorage:s=null,isEditing:r=!1}={}){function l(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(d))}const u=this._transport.getRenderingIntent(t,n,s,r,!0);let h=this._intentStates.get(u.cacheKey);h||(h=Object.create(null),this._intentStates.set(u.cacheKey,h));let d;return h.opListReadCapability||(d=Object.create(null),d.operatorListChanged=l,h.opListReadCapability=Promise.withResolvers(),(h.renderTasks||=new Set).add(d),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(u)),h.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Tl.textContent(s));const n=this.streamTextContent(t);return new Promise(function(s,r){function l(){u.read().then(function({value:d,done:p}){if(p){s(h);return}h.lang??=d.lang,Object.assign(h.styles,d.styles),h.items.push(...d.items),l()},r)}const u=n.getReader(),h={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const s of n.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,this.#s(),Promise.all(t)}cleanup(t=!1){this.#e=!0;const n=this.#n(!1);return t&&n&&(this._stats&&=new my),n}#n(t=!1){if(this.#s(),!this.#e||this.destroyed)return!1;if(t)return this.#t=setTimeout(()=>{this.#t=null,this.#n(!1)},eT),!1;for(const{renderTasks:n,operatorList:s}of this._intentStates.values())if(n.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}#s(){this.#t&&(clearTimeout(this.#t),this.#t=null)}_startRenderPage(t,n){const s=this._intentStates.get(n);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let s=0,r=t.length;s<r;s++)n.operatorList.fnArray.push(t.fnArray[s]),n.operatorList.argsArray.push(t.argsArray[s]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const s of n.renderTasks)s.operatorListChanged();t.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:s,modifiedIds:r}){const{map:l,transfer:u}=s,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:l,modifiedIds:r},u).getReader(),p=this._intentStates.get(n);p.streamReader=d;const g=()=>{d.read().then(({value:v,done:y})=>{if(y){p.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,p),g())},v=>{if(p.streamReader=null,!this._transport.destroyed){if(p.operatorList){p.operatorList.lastChunk=!0;for(const y of p.renderTasks)y.operatorListChanged();this.#n(!0)}if(p.displayReadyCapability)p.displayReadyCapability.reject(v);else if(p.opListReadCapability)p.opListReadCapability.reject(v);else throw v}})};g()}_abortOperatorList({intentState:t,reason:n,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(n instanceof vf){let r=tT;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},r);return}}if(t.streamReader.cancel(new ea(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,l]of this._intentStates)if(l===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}class hT{#t=new Map;#e=Promise.resolve();postMessage(t,n){const s={data:structuredClone(t,n?{transfer:n}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,s)})}addEventListener(t,n,s=null){let r=null;if(s?.signal instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Ct("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(t,n);r=()=>l.removeEventListener("abort",u),l.addEventListener("abort",u)}this.#t.set(n,r)}removeEventListener(t,n){this.#t.get(n)?.(),this.#t.delete(n)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}var Tc,$s,Ks,ar,mc,rr,vc;const te=class te{constructor({name:t=null,port:n=null,verbosity:s=q1()}={}){Ua(this,ar);if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if(Un(te,Ks)?.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(Un(te,Ks)||ol(te,Ks,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return qe?Promise.all([Es.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new bl("main","worker",t),this._messageHandler.on("ready",function(){}),$o(this,ar,mc).call(this)}_initialize(){if(Un(te,$s)||Un(te,rr,vc)){this._setupFakeWorker();return}let{workerSrc:t}=te;try{te._isSameOrigin(window.location.href,t)||(t=te._createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),s=new bl("main","worker",n),r=()=>{l.abort(),s.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=new AbortController;n.addEventListener("error",()=>{this._webWorker||r()},{signal:l.signal}),s.on("test",h=>{if(l.abort(),this.destroyed||!h){r();return}this._messageHandler=s,this._port=n,this._webWorker=n,$o(this,ar,mc).call(this)}),s.on("ready",h=>{if(l.abort(),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const h=new Uint8Array;s.send("test",h,[h.buffer])};u();return}catch{qc("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Un(te,$s)||(Ct("Setting up fake worker."),ol(te,$s,!0)),te._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new hT;this._port=n;const s=`fake${Mv(te,Tc)._++}`,r=new bl(s+"_worker",s,n);t.setup(r,n),this._messageHandler=new bl(s,s+"_worker",n),$o(this,ar,mc).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Un(te,Ks)?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=Un(this,Ks)?.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new te(t)}static get workerSrc(){if(El.workerSrc)return El.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return jt(this,"_setupFakeWorkerGlobal",(async()=>Un(this,rr,vc)?Un(this,rr,vc):(await import(this.workerSrc)).WorkerMessageHandler)())}};Tc=new WeakMap,$s=new WeakMap,Ks=new WeakMap,ar=new WeakSet,mc=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},rr=new WeakSet,vc=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Ua(te,rr),Ua(te,Tc,0),Ua(te,$s,!1),Ua(te,Ks),qe&&(ol(te,$s,!0),El.workerSrc||="./pdf.worker.mjs"),te._isSameOrigin=(t,n)=>{let s;try{if(s=new URL(t),!s.origin||s.origin==="null")return!1}catch{return!1}const r=new URL(n,s);return s.origin===r.origin},te._createCDNWrapper=t=>{const n=`await import("${t}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let sr=te;class dT{#t=new Map;#e=new Map;#n=new Map;#s=new Map;#a=null;constructor(t,n,s,r,l){this.messageHandler=t,this.loadingTask=n,this.commonObjs=new $0,this.fontLoader=new cw({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(t,n=null){const s=this.#t.get(t);if(s)return s;const r=this.messageHandler.sendWithPromise(t,n);return this.#t.set(t,r),r}get annotationStorage(){return jt(this,"annotationStorage",new Ef)}getRenderingIntent(t,n=vs.ENABLE,s=null,r=!1,l=!1){let u=mn.DISPLAY,h=Xd;switch(t){case"any":u=mn.ANY;break;case"display":break;case"print":u=mn.PRINT;break;default:Ct(`getRenderingIntent - invalid intent: ${t}`)}const d=u&mn.PRINT&&s instanceof N0?s:this.annotationStorage;switch(n){case vs.DISABLE:u+=mn.ANNOTATIONS_DISABLE;break;case vs.ENABLE:break;case vs.ENABLE_FORMS:u+=mn.ANNOTATIONS_FORMS;break;case vs.ENABLE_STORAGE:u+=mn.ANNOTATIONS_STORAGE,h=d.serializable;break;default:Ct(`getRenderingIntent - invalid annotationMode: ${n}`)}r&&(u+=mn.IS_EDITING),l&&(u+=mn.OPLIST);const{ids:p,hash:g}=d.modifiedIds,v=[u,h.hash,g];return{renderingIntent:u,cacheKey:v.join("_"),annotationStorageSerializable:h,modifiedIds:p}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of this.#e.values())t.push(s._destroy());this.#e.clear(),this.#n.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Wd.cleanup(),this._networkStream?.cancelAllRequests(new ea("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(s,r)=>{Se(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},r.onPull=()=>{this._fullReader.read().then(function({value:l,done:u}){if(u){r.close();return}Se(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{r.error(l)})},r.onCancel=l=>{this._fullReader.cancel(l),r.ready.catch(u=>{if(!this.destroyed)throw u})}}),t.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:l,contentLength:u}=this._fullReader;return(!r||!l)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=h=>{n.onProgress?.({loaded:h.loaded,total:h.total})}),{isStreamingSupported:r,isRangeSupported:l,contentLength:u}}),t.on("GetRangeReader",(s,r)=>{Se(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){r.close();return}r.onPull=()=>{l.read().then(function({value:u,done:h}){if(h){r.close();return}Se(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{r.error(u)})},r.onCancel=u=>{l.cancel(u),r.ready.catch(h=>{if(!this.destroyed)throw h})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,n._capability.resolve(new cT(s,this))}),t.on("DocException",function(s){let r;switch(s.name){case"PasswordException":r=new qd(s.message,s.code);break;case"InvalidPDFException":r=new M0(s.message);break;case"MissingPDFException":r=new ta(s.message);break;case"UnexpectedResponseException":r=new Gc(s.message,s.status);break;case"UnknownErrorException":r=new Gd(s.message,s.details);break;default:Wt("DocException - expected a valid Error.")}n._capability.reject(r)}),t.on("PasswordRequest",s=>{if(this.#a=Promise.withResolvers(),n.onPassword){const r=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};try{n.onPassword(r,s.code)}catch(l){this.#a.reject(l)}}else this.#a.reject(new qd(s.message,s.code));return this.#a.promise}),t.on("DataLoaded",s=>{n.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;this.#e.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,r,l])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(r){case"Font":const{disableFontFace:u,fontExtraProperties:h,pdfBug:d}=this._params;if("error"in l){const y=l.error;Ct(`Error during font loading: ${y}`),this.commonObjs.resolve(s,y);break}const p=d&&globalThis.FontInspector?.enabled?(y,_)=>globalThis.FontInspector.fontAdded(y,_):null,g=new uw(l,{disableFontFace:u,inspectFont:p});this.fontLoader.bind(g).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!h&&g.data&&(g.data=null),this.commonObjs.resolve(s,g)});break;case"CopyLocalImage":const{imageRef:v}=l;Se(v,"The imageRef must be defined.");for(const y of this.#e.values())for(const[,_]of y.objs)if(_?.ref===v)return _.dataLen?(this.commonObjs.resolve(s,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([s,r,l,u])=>{if(this.destroyed)return;const h=this.#e.get(r);if(!h.objs.has(s)){if(h._intentStates.size===0){u?.bitmap?.close();return}switch(l){case"Image":h.objs.resolve(s,u),u?.dataLen>z1&&(h._maybeCleanupAfterRender=!0);break;case"Pattern":h.objs.resolve(s,u);break;default:throw new Error(`Got unknown object type ${l}`)}}}),t.on("DocProgress",s=>{this.destroyed||n.onProgress?.({loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(s)}),t.on("FetchStandardFontData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ct("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,s=this.#n.get(n);if(s)return s;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#s.set(l.refStr,t);const u=new uT(n,l,this,this._params.pdfBug);return this.#e.set(n,u),u});return this.#n.set(n,r),r}getPageIndex(t){return Oy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#i("GetOptionalContentConfig").then(n=>new Lw(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new Ow(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#e.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Wd.cleanup()}}cachedPageNumber(t){if(!Oy(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#s.get(n)??null}}const ec=Symbol("INITIAL_DATA");class $0{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:ec}}get(t,n=null){if(n){const r=this.#e(t);return r.promise.then(()=>n(r.data)),null}const s=this.#t[t];if(!s||s.data===ec)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const n=this.#t[t];return!!n&&n.data!==ec}resolve(t,n=null){const s=this.#e(t);s.data=n,s.resolve()}clear(){for(const t in this.#t){const{data:n}=this.#t[t];n?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:n}=this.#t[t];n!==ec&&(yield[t,n])}}}class fT{#t=null;constructor(t){this.#t=t,this.onContinue=null}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this.#t;return t.form||t.canvas&&n?.size>0}}class nr{#t=null;static#e=new WeakSet;constructor({callback:t,params:n,objs:s,commonObjs:r,annotationCanvasMap:l,operatorList:u,pageIndex:h,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:g=!1,pdfBug:v=!1,pageColors:y=null}){this.callback=t,this.params=n,this.objs=s,this.commonObjs=r,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=h,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=g===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new fT(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(nr.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");nr.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:r,transform:l,background:u}=this.params;this.gfx=new ir(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:r,transparency:t,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),nr.#e.delete(this._canvas),this.callback(t||new vf(`Rendering cancelled, page ${this._pageIndex+1}`,n))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),nr.#e.delete(this._canvas),this.callback())))}}const pT="4.8.69",gT="3634dab10";function Dy(o){return Math.floor(Math.max(0,Math.min(1,o))*255).toString(16).padStart(2,"0")}function pl(o){return Math.max(0,Math.min(255,255*o))}class Ly{static CMYK_G([t,n,s,r]){return["G",1-Math.min(1,.3*t+.59*s+.11*n+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=pl(t),[t,t,t]}static G_HTML([t]){const n=Dy(t);return`#${n}${n}${n}`}static RGB_G([t,n,s]){return["G",.3*t+.59*n+.11*s]}static RGB_rgb(t){return t.map(pl)}static RGB_HTML(t){return`#${t.map(Dy).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,s,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,s+r),1-Math.min(1,n+r)]}static CMYK_rgb([t,n,s,r]){return[pl(1-Math.min(1,t+r)),pl(1-Math.min(1,s+r)),pl(1-Math.min(1,n+r))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,s]){const r=1-t,l=1-n,u=1-s,h=Math.min(r,l,u);return["CMYK",r,l,u,h]}}class mT{create(t,n,s=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),s||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${n}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Wt("Abstract method `_createSVG` called.")}}class Mf extends mT{_createSVG(t){return document.createElementNS(Mi,t)}}class K0{static setupStorage(t,n,s,r,l){const u=r.getValue(n,{value:null});switch(s.name){case"textarea":if(u.value!==null&&(t.textContent=u.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(n,{value:h.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(u.value===s.attributes.xfaOn?t.setAttribute("checked",!0):u.value===s.attributes.xfaOff&&t.removeAttribute("checked"),l==="print")break;t.addEventListener("change",h=>{r.setValue(n,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&t.setAttribute("value",u.value),l==="print")break;t.addEventListener("input",h=>{r.setValue(n,{value:h.target.value})})}break;case"select":if(u.value!==null){t.setAttribute("value",u.value);for(const h of s.children)h.attributes.value===u.value?h.attributes.selected=!0:h.attributes.hasOwnProperty("selected")&&delete h.attributes.selected}t.addEventListener("input",h=>{const d=h.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(n,{value:p})});break}}static setAttributes({html:t,element:n,storage:s=null,intent:r,linkService:l}){const{attributes:u}=n,h=t instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${r}`);for(const[d,p]of Object.entries(u))if(p!=null)switch(d){case"class":p.length&&t.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!h||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,p)}h&&l.addLinkAttributes(t,u.href,u.newWindow),s&&u.dataId&&this.setupStorage(t,u.dataId,n,s)}static render(t){const n=t.annotationStorage,s=t.linkService,r=t.xfaHtml,l=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:l,linkService:s});const h=l!=="richText",d=t.div;if(d.append(u),t.viewport){const v=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=v}h&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(r.children.length===0){if(r.value){const v=document.createTextNode(r.value);u.append(v),h&&Tl.shouldBuildText(r.name)&&p.push(v)}return{textDivs:p}}const g=[[r,-1,u]];for(;g.length>0;){const[v,y,_]=g.at(-1);if(y+1===v.children.length){g.pop();continue}const A=v.children[++g.at(-1)[1]];if(A===null)continue;const{name:E}=A;if(E==="#text"){const T=document.createTextNode(A.value);p.push(T),_.append(T);continue}const S=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,E):document.createElement(E);if(_.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:n,intent:l,linkService:s}),A.children?.length>0)g.push([A,-1,S]);else if(A.value){const T=document.createTextNode(A.value);h&&Tl.shouldBuildText(E)&&p.push(T),S.append(T)}}for(const v of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))v.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const Ll=1e3,vT=9,Qs=new WeakSet;function ki(o){return{width:o[2]-o[0],height:o[3]-o[1]}}class yT{static create(t){switch(t.data.annotationType){case Ae.LINK:return new W0(t);case Ae.TEXT:return new bT(t);case Ae.WIDGET:switch(t.data.fieldType){case"Tx":return new _T(t);case"Btn":return t.data.radioButton?new Q0(t):t.data.checkBox?new ET(t):new ST(t);case"Ch":return new xT(t);case"Sig":return new AT(t)}return new na(t);case Ae.POPUP:return new Qd(t);case Ae.FREETEXT:return new Z0(t);case Ae.LINE:return new TT(t);case Ae.SQUARE:return new CT(t);case Ae.CIRCLE:return new RT(t);case Ae.POLYLINE:return new J0(t);case Ae.CARET:return new OT(t);case Ae.INK:return new Of(t);case Ae.POLYGON:return new MT(t);case Ae.HIGHLIGHT:return new t_(t);case Ae.UNDERLINE:return new DT(t);case Ae.SQUIGGLY:return new LT(t);case Ae.STRIKEOUT:return new NT(t);case Ae.STAMP:return new e_(t);case Ae.FILEATTACHMENT:return new jT(t);default:return new ce(t)}}}class ce{#t=null;#e=!1;#n=null;constructor(t,{isRenderable:n=!1,ignoreBorder:s=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,n&&(this.container=this._createContainer(s)),r&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:n,richText:s}){return!!(t?.str||n?.str||s?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ce._hasPopupData(this.data)}updateEdited(t){if(!this.container)return;this.#t||={rect:this.data.rect.slice(0)};const{rect:n}=t;n&&this.#s(n),this.#n?.popup.updateEdited(t)}resetEdited(){this.#t&&(this.#s(this.#t.rect),this.#n?.popup.resetEdited(),this.#t=null)}#s(t){const{container:{style:n},data:{rect:s,rotation:r},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:u,pageX:h,pageY:d}}}}=this;s?.splice(0,4,...t);const{width:p,height:g}=ki(t);n.left=`${100*(t[0]-h)/l}%`,n.top=`${100*(u-t[3]+d)/u}%`,r===0?(n.width=`${100*p/l}%`,n.height=`${100*g/u}%`):this.setRotation(r)}_createContainer(t){const{data:n,parent:{page:s,viewport:r}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",n.id),this instanceof na||(l.tabIndex=Ll);const{style:u}=l;if(u.zIndex=this.parent.zIndex++,n.alternativeText&&(l.title=n.alternativeText),n.noRotate&&l.classList.add("norotate"),!n.rect||this instanceof Qd){const{rotation:E}=n;return!n.hasOwnCanvas&&E!==0&&this.setRotation(E,l),l}const{width:h,height:d}=ki(n.rect);if(!t&&n.borderStyle.width>0){u.borderWidth=`${n.borderStyle.width}px`;const E=n.borderStyle.horizontalCornerRadius,S=n.borderStyle.verticalCornerRadius;if(E>0||S>0){const R=`calc(${E}px * var(--scale-factor)) / calc(${S}px * var(--scale-factor))`;u.borderRadius=R}else if(this instanceof Q0){const R=`calc(${h}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;u.borderRadius=R}switch(n.borderStyle.style){case dl.SOLID:u.borderStyle="solid";break;case dl.DASHED:u.borderStyle="dashed";break;case dl.BEVELED:Ct("Unimplemented border style: beveled");break;case dl.INSET:Ct("Unimplemented border style: inset");break;case dl.UNDERLINE:u.borderBottomStyle="solid";break}const T=n.borderColor||null;T?(this.#e=!0,u.borderColor=ft.makeHexColor(T[0]|0,T[1]|0,T[2]|0)):u.borderWidth=0}const p=ft.normalizeRect([n.rect[0],s.view[3]-n.rect[1]+s.view[1],n.rect[2],s.view[3]-n.rect[3]+s.view[1]]),{pageWidth:g,pageHeight:v,pageX:y,pageY:_}=r.rawDims;u.left=`${100*(p[0]-y)/g}%`,u.top=`${100*(p[1]-_)/v}%`;const{rotation:A}=n;return n.hasOwnCanvas||A===0?(u.width=`${100*h/g}%`,u.height=`${100*d/v}%`):this.setRotation(A,l),l}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:r}=this.parent.viewport.rawDims,{width:l,height:u}=ki(this.data.rect);let h,d;t%180===0?(h=100*l/s,d=100*u/r):(h=100*u/s,d=100*l/r),n.style.width=`${h}%`,n.style.height=`${d}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,s,r)=>{const l=r.detail[n],u=l[0],h=l.slice(1);r.target.style[s]=Ly[`${u}_HTML`](h),this.annotationStorage.setValue(this.data.id,{[s]:Ly[`${u}_rgb`](h)})};return jt(this,"_commonActions",{display:n=>{const{display:s}=n.detail,r=s%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:s===1||s===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:s}=n.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const s=n.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,n){const s=this._commonActions;for(const r of Object.keys(n.detail))(t[r]||s[r])?.(n)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const s=this._commonActions;for(const[r,l]of Object.entries(n)){const u=s[r];if(u){const h={detail:{[r]:l},target:t};u(h),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,s,r,l]=this.data.rect.map(E=>Math.fround(E));if(t.length===8){const[E,S,T,R]=t.subarray(2,6);if(r===E&&l===S&&n===T&&s===R)return}const{style:u}=this.container;let h;if(this.#e){const{borderColor:E,borderWidth:S}=u;u.borderWidth=0,h=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${E}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const d=r-n,p=l-s,{svgFactory:g}=this,v=g.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const y=g.createElement("defs");v.append(y);const _=g.createElement("clipPath"),A=`clippath_${this.data.id}`;_.setAttribute("id",A),_.setAttribute("clipPathUnits","objectBoundingBox"),y.append(_);for(let E=2,S=t.length;E<S;E+=8){const T=t[E],R=t[E+1],C=t[E+2],O=t[E+3],z=g.createElement("rect"),k=(C-n)/d,H=(l-R)/p,K=(T-C)/d,G=(R-O)/p;z.setAttribute("x",k),z.setAttribute("y",H),z.setAttribute("width",K),z.setAttribute("height",G),_.append(z),h?.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${H}" width="${K}" height="${G}"/>`)}this.#e&&(h.push("</g></svg>')"),u.backgroundImage=h.join("")),this.container.append(v),this.container.style.clipPath=`url(#${A})`}_createPopup(){const{data:t}=this,n=this.#n=new Qd({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(n.render())}render(){Wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const s=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:l,id:u,exportValues:h}of r){if(l===-1||u===n)continue;const d=typeof h=="string"?h:null,p=document.querySelector(`[data-element-id="${u}"]`);if(p&&!Qs.has(p)){Ct(`_getElementsByName - element not allowed: ${u}`);continue}s.push({id:u,exportValue:d,domElement:p})}return s}for(const r of document.getElementsByName(t)){const{exportValue:l}=r,u=r.getAttribute("data-element-id");u!==n&&Qs.has(r)&&s.push({id:u,exportValue:l,domElement:r})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n})})}}class W0 extends ce{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(n.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action),r=!0):t.attachment?(this.#e(s,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(this.#n(s,t.setOCGState),r=!0):t.dest?(this._bindLink(s,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#t()}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),this.#t()}#e(t,n,s=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,s),!1),this.#t()}#n(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),this.#t()}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const l=s.get(r);l&&(t[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1))}t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,n){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ct('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{s?.();const{fields:r,refs:l,include:u}=n,h=[];if(r.length!==0||l.length!==0){const g=new Set(l);for(const v of r){const y=this._fieldObjects[v]||[];for(const{id:_}of y)g.add(_)}for(const v of Object.values(this._fieldObjects))for(const y of v)g.has(y.id)===u&&h.push(y)}else for(const g of Object.values(this._fieldObjects))h.push(...g);const d=this.annotationStorage,p=[];for(const g of h){const{id:v}=g;switch(p.push(v),g.type){case"text":{const _=g.defaultValue||"";d.setValue(v,{value:_});break}case"checkbox":case"radiobutton":{const _=g.defaultValue===g.exportValues;d.setValue(v,{value:_});break}case"combobox":case"listbox":{const _=g.defaultValue||"";d.setValue(v,{value:_});break}default:continue}const y=document.querySelector(`[data-element-id="${v}"]`);if(y){if(!Qs.has(y)){Ct(`_bindResetFormAction - element not allowed: ${v}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:p,name:"ResetForm"}}),!1}}}class bT extends ce{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class na extends ce{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return $e.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,s,r,l){s.includes("mouse")?t.addEventListener(s,u=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):t.addEventListener(s,u=>{if(s==="blur"){if(!n.focused||!u.relatedTarget)return;n.focused=!1}else if(s==="focus"){if(n.focused)return;n.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:l(u)}})})}_setEventListeners(t,n,s,r){for(const[l,u]of s)(u==="Action"||this.data.actions?.[u])&&((u==="Focus"||u==="Blur")&&(n||={focused:!1}),this._setEventListener(t,n,l,u,r),u==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,n,"blur","Blur",null):u==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":ft.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||vT,l=t.style;let u;const h=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h),g=Math.round(p/(wd*r))||1,v=p/g;u=Math.min(r,d(v/wd))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-h);u=Math.min(r,d(p/wd))}l.fontSize=`calc(${u}px * var(--scale-factor))`,l.color=ft.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class _T extends na{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,s,r){const l=this.annotationStorage;for(const u of this._getElementsByName(t.name,t.id))u.domElement&&(u.domElement[n]=s),l.setValue(u.id,{[r]:s})}render(){const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const r=t.getValue(n,{value:this.data.fieldValue});let l=r.value||"";const u=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;u&&l.length>u&&(l=l.slice(0,u));let h=r.formattedValue||this.data.textContent?.join(`
`)||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const d={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??l,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",h??l),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Qs.add(s),s.setAttribute("data-element-id",n),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=Ll,this._setRequired(s,this.data.required),u&&(s.maxLength=u),s.addEventListener("input",g=>{t.setValue(n,{value:g.target.value}),this.setPropertyOnSiblings(s,"value",g.target.value,"value"),d.formattedValue=null}),s.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue??"";s.value=d.userValue=v,d.formattedValue=null});let p=g=>{const{formattedValue:v}=d;v!=null&&(g.target.value=v),g.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",v=>{if(d.focused)return;const{target:y}=v;d.userValue&&(y.value=d.userValue),d.lastCommittedValue=y.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),s.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const y={value(_){d.userValue=_.detail.value??"",t.setValue(n,{value:d.userValue.toString()}),_.target.value=d.userValue},formattedValue(_){const{formattedValue:A}=_.detail;d.formattedValue=A,A!=null&&_.target!==document.activeElement&&(_.target.value=A),t.setValue(n,{formattedValue:A})},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{const{charLimit:A}=_.detail,{target:E}=_;if(A===0){E.removeAttribute("maxLength");return}E.setAttribute("maxLength",A);let S=d.userValue;!S||S.length<=A||(S=S.slice(0,A),E.value=d.userValue=S,t.setValue(n,{value:S}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,willCommit:!0,commitKey:1,selStart:E.selectionStart,selEnd:E.selectionEnd}}))}};this._dispatchEventFromSandbox(y,v)}),s.addEventListener("keydown",v=>{d.commitKey=1;let y=-1;if(v.key==="Escape"?y=0:v.key==="Enter"&&!this.data.multiLine?y=2:v.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:_}=v.target;d.lastCommittedValue!==_&&(d.lastCommittedValue=_,d.userValue=_,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,willCommit:!0,commitKey:y,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const g=p;p=null,s.addEventListener("blur",v=>{if(!d.focused||!v.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{value:y}=v.target;d.userValue=y,d.lastCommittedValue!==y&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,willCommit:!0,commitKey:d.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),g(v)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",v=>{d.lastCommittedValue=null;const{data:y,target:_}=v,{value:A,selectionStart:E,selectionEnd:S}=_;let T=E,R=S;switch(v.inputType){case"deleteWordBackward":{const C=A.substring(0,E).match(/\w*[^\w]*$/);C&&(T-=C[0].length);break}case"deleteWordForward":{const C=A.substring(E).match(/^[^\w]*\w*/);C&&(R+=C[0].length);break}case"deleteContentBackward":E===S&&(T-=1);break;case"deleteContentForward":E===S&&(R+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,change:y||"",willCommit:!1,selStart:T,selEnd:R}})}),this._setEventListeners(s,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/u;s.classList.add("comb"),s.style.letterSpacing=`calc(${v}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class AT extends na{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ET extends na{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,s=n.id;let r=t.getValue(s,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(s,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Qs.add(l),l.setAttribute("data-element-id",s),l.disabled=n.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=n.fieldName,r&&l.setAttribute("checked",!0),l.setAttribute("exportValue",n.exportValue),l.tabIndex=Ll,l.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s)){const g=d&&p.exportValue===n.exportValue;p.domElement&&(p.domElement.checked=g),t.setValue(p.id,{value:g})}t.setValue(s,{value:d})}),l.addEventListener("resetform",u=>{const h=n.defaultFieldValue||"Off";u.target.checked=h===n.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",u=>{const h={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(s,{value:d.target.checked})}};this._dispatchEventFromSandbox(h,u)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class Q0 extends na{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,s=n.id;let r=t.getValue(s,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,t.setValue(s,{value:r})),r)for(const u of this._getElementsByName(n.fieldName,s))t.setValue(u.id,{value:!1});const l=document.createElement("input");if(Qs.add(l),l.setAttribute("data-element-id",s),l.disabled=n.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=n.fieldName,r&&l.setAttribute("checked",!0),l.tabIndex=Ll,l.addEventListener("change",u=>{const{name:h,checked:d}=u.target;for(const p of this._getElementsByName(h,s))t.setValue(p.id,{value:!1});t.setValue(s,{value:d})}),l.addEventListener("resetform",u=>{const h=n.defaultFieldValue;u.target.checked=h!=null&&h===n.buttonValue}),this.enableScripting&&this.hasJSActions){const u=n.buttonValue;l.addEventListener("updatefromsandbox",h=>{const d={value:p=>{const g=u===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const y=g&&v.id===s;v.domElement&&(v.domElement.checked=y),t.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(d,h)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],h=>h.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class ST extends W0{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class xT extends na{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,s=t.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");Qs.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=Ll;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",g=>{const v=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===v});for(const g of this.data.options){const v=document.createElement("option");v.textContent=g.displayValue,v.value=g.exportValue,s.value.includes(g.exportValue)&&(v.setAttribute("selected",!0),l=!1),r.append(v)}let u=null;if(l){const g=document.createElement("option");g.value=" ",g.setAttribute("hidden",!0),g.setAttribute("selected",!0),r.prepend(g),u=()=>{g.remove(),r.removeEventListener("input",u),u=null},r.addEventListener("input",u)}const h=g=>{const v=g?"value":"textContent",{options:y,multiple:_}=r;return _?Array.prototype.filter.call(y,A=>A.selected).map(A=>A[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let d=h(!1);const p=g=>{const v=g.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",g=>{const v={value(y){u?.();const _=y.detail.value,A=new Set(Array.isArray(_)?_:[_]);for(const E of r.options)E.selected=A.has(E.value);t.setValue(n,{value:h(!0)}),d=h(!1)},multipleSelection(y){r.multiple=!0},remove(y){const _=r.options,A=y.detail.remove;_[A].selected=!1,r.remove(A),_.length>0&&Array.prototype.findIndex.call(_,S=>S.selected)===-1&&(_[0].selected=!0),t.setValue(n,{value:h(!0),items:p(y)}),d=h(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(n,{value:null,items:[]}),d=h(!1)},insert(y){const{index:_,displayValue:A,exportValue:E}=y.detail.insert,S=r.children[_],T=document.createElement("option");T.textContent=A,T.value=E,S?S.before(T):r.append(T),t.setValue(n,{value:h(!0),items:p(y)}),d=h(!1)},items(y){const{items:_}=y.detail;for(;r.length!==0;)r.remove(0);for(const A of _){const{displayValue:E,exportValue:S}=A,T=document.createElement("option");T.textContent=E,T.value=S,r.append(T)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(n,{value:h(!0),items:p(y)}),d=h(!1)},indices(y){const _=new Set(y.detail.indices);for(const A of y.target.options)A.selected=_.has(A.index);t.setValue(n,{value:h(!0)}),d=h(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,g)}),r.addEventListener("input",g=>{const v=h(!0),y=h(!1);t.setValue(n,{value:v}),g.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:d,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],g=>g.target.value)):r.addEventListener("input",function(g){t.setValue(n,{value:h(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Qd extends ce{constructor(t){const{data:n,elements:s}=t;super(t,{isRenderable:ce._hasPopupData(n)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new wT({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${mf}${s}`).join(",")),this.container}}class wT{#t=this.#k.bind(this);#e=this.#R.bind(this);#n=this.#w.bind(this);#s=this.#A.bind(this);#a=null;#i=null;#o=null;#c=null;#u=null;#l=null;#h=null;#r=!1;#d=null;#p=null;#f=null;#v=null;#m=null;#g=null;#y=!1;constructor({container:t,color:n,elements:s,titleObj:r,modificationDate:l,contentsObj:u,richText:h,parent:d,rect:p,parentRect:g,open:v}){this.#i=t,this.#m=r,this.#o=u,this.#v=h,this.#l=d,this.#a=n,this.#f=p,this.#h=g,this.#u=s,this.#c=D0.toDateObject(l),this.trigger=s.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",this.#s),y.addEventListener("mouseenter",this.#n),y.addEventListener("mouseleave",this.#e),y.classList.add("popupTriggerArea");for(const y of s)y.container?.addEventListener("keydown",this.#t);this.#i.hidden=!0,v&&this.#A()}render(){if(this.#d)return;const t=this.#d=document.createElement("div");if(t.className="popup",this.#a){const l=t.style.outlineColor=ft.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`:t.style.backgroundColor=ft.makeHexColor(...this.#a.map(h=>Math.floor(.7*(255-h)+h)))}const n=document.createElement("span");n.className="header";const s=document.createElement("h1");if(n.append(s),{dir:s.dir,str:s.textContent}=this.#m,t.append(n),this.#c){const l=document.createElement("span");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.append(l)}const r=this.#_;if(r)K0.render({xfaHtml:r,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#o);t.append(l)}this.#i.append(t)}get#_(){const t=this.#v,n=this.#o;return t?.str&&(!n?.str||n.str===t.str)&&this.#v.html||null}get#T(){return this.#_?.attributes?.style?.fontSize||0}get#S(){return this.#_?.attributes?.style?.color||null}#x(t){const n=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},r={style:{color:this.#S,fontSize:this.#T?`calc(${this.#T}px * var(--scale-factor))`:""}};for(const l of t.split(`
`))n.push({name:"span",value:l,attributes:r});return s}_formatContents({str:t,dir:n}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=n;const r=t.split(/(?:\r\n?|\n)/);for(let l=0,u=r.length;l<u;++l){const h=r[l];s.append(document.createTextNode(h)),l<u-1&&s.append(document.createElement("br"))}return s}#k(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#r)&&this.#A()}updateEdited({rect:t,popupContent:n}){this.#g||={contentsObj:this.#o,richText:this.#v},t&&(this.#p=null),n&&(this.#v=this.#x(n),this.#o=null),this.#d?.remove(),this.#d=null}resetEdited(){this.#g&&({contentsObj:this.#o,richText:this.#v}=this.#g,this.#g=null,this.#d?.remove(),this.#d=null,this.#p=null)}#C(){if(this.#p!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:r,pageY:l}}}=this.#l;let u=!!this.#h,h=u?this.#h:this.#f;for(const A of this.#u)if(!h||ft.intersect(A.data.rect,h)!==null){h=A.data.rect,u=!0;break}const d=ft.normalizeRect([h[0],t[3]-h[1]+t[1],h[2],t[3]-h[3]+t[1]]),g=u?h[2]-h[0]+5:0,v=d[0]+g,y=d[1];this.#p=[100*(v-r)/n,100*(y-l)/s];const{style:_}=this.#i;_.left=`${this.#p[0]}%`,_.top=`${this.#p[1]}%`}#A(){this.#r=!this.#r,this.#r?(this.#w(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#t)):(this.#R(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#t))}#w(){this.#d||this.render(),this.isVisible?this.#r&&this.#i.classList.add("focused"):(this.#C(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#R(){this.#i.classList.remove("focused"),!(this.#r||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#y=this.isVisible,this.#y&&(this.#i.hidden=!0)}maybeShow(){this.#y&&(this.#d||this.#w(),this.#y=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class Z0 extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const s=document.createElement("span");s.textContent=n,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class TT extends ce{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:s}=ki(t.rect),r=this.svgFactory.create(n,s,!0),l=this.#t=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),l.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),l.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),l.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),l.setAttribute("stroke-width",t.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class CT extends ce{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:s}=ki(t.rect),r=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:rect");return u.setAttribute("x",l/2),u.setAttribute("y",l/2),u.setAttribute("width",n-l),u.setAttribute("height",s-l),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class RT extends ce{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:s}=ki(t.rect),r=this.svgFactory.create(n,s,!0),l=t.borderStyle.width,u=this.#t=this.svgFactory.createElement("svg:ellipse");return u.setAttribute("cx",n/2),u.setAttribute("cy",s/2),u.setAttribute("rx",n/2-l/2),u.setAttribute("ry",s/2-l/2),u.setAttribute("stroke-width",l||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),r.append(u),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class J0 extends ce{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:s,popupRef:r}}=this;if(!n)return this.container;const{width:l,height:u}=ki(t),h=this.svgFactory.create(l,u,!0);let d=[];for(let g=0,v=n.length;g<v;g+=2){const y=n[g]-t[0],_=t[3]-n[g+1];d.push(`${y},${_}`)}d=d.join(" ");const p=this.#t=this.svgFactory.createElement(this.svgElementName);return p.setAttribute("points",d),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),h.append(p),this.container.append(h),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class MT extends J0{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class OT extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Of extends ce{#t=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Tt.HIGHLIGHT:Tt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:n,borderStyle:s,popupRef:r}}=this,{width:l,height:u}=ki(t),h=this.svgFactory.create(l,u,!0);for(const d of n){let p=[];for(let v=0,y=d.length;v<y;v+=2){const _=d[v]-t[0],A=t[3]-d[v+1];p.push(`${_},${A}`)}p=p.join(" ");const g=this.svgFactory.createElement(this.svgElementName);this.#t.push(g),g.setAttribute("points",p),g.setAttribute("stroke-width",s.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),h.append(g)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class t_ extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Tt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class DT extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class LT extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class NT extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class e_ extends ce{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Tt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class jT extends ce{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let s;n.hasAppearance||n.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#e.bind(this)),this.#t=s;const{isMac:r}=$e.platform;return t.addEventListener("keydown",l=>{l.key==="Enter"&&(r?l.metaKey:l.ctrlKey)&&this.#e()}),!n.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let kT=class{#t=null;#e=null;#n=new Map;#s=null;constructor({div:t,accessibilityManager:n,annotationCanvasMap:s,annotationEditorUIManager:r,page:l,viewport:u,structTreeLayer:h}){this.div=t,this.#t=n,this.#e=s,this.#s=h||null,this.page=l,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=r}hasEditableAnnotations(){return this.#n.size>0}async#a(t,n){const s=t.firstChild||t,r=s.id=`${mf}${n}`,l=await this.#s?.getAriaAttributes(r);if(l)for(const[u,h]of l)s.setAttribute(u,h);this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1)}async render(t){const{annotations:n}=t,s=this.div;Ws(s,this.viewport);const r=new Map,l={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Mf,annotationStorage:t.annotationStorage||new Ef,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const u of n){if(u.noHTML)continue;const h=u.annotationType===Ae.POPUP;if(h){const g=r.get(u.id);if(!g)continue;l.elements=g}else{const{width:g,height:v}=ki(u.rect);if(g<=0||v<=0)continue}l.data=u;const d=yT.create(l);if(!d.isRenderable)continue;if(!h&&u.popupRef){const g=r.get(u.popupRef);g?g.push(d):r.set(u.popupRef,[d])}const p=d.render();u.hidden&&(p.style.visibility="hidden"),await this.#a(p,u.id),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}this.#i()}update({viewport:t}){const n=this.div;this.viewport=t,Ws(n,{rotation:t.rotation}),this.#i(),n.hidden=!1}#i(){if(!this.#e)return;const t=this.div;for(const[n,s]of this.#e){const r=t.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:l}=r;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):r.append(s)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}};const nc=/\r\n?|\n/g;class Ee extends yt{#t;#e="";#n=`${this.id}-editor`;#s=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Ee.prototype,n=l=>l.isEmpty(),s=As.TRANSLATE_SMALL,r=As.TRANSLATE_BIG;return jt(this,"_keyboardManager",new Dl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}]]))}static _type="freetext";static _editorType=Tt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.#t=t.color||Ee._defaultColor||yt._defaultLineColor,this.#a=t.fontSize||Ee._defaultFontSize}static initialize(t,n){yt.initialize(t,n);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case bt.FREETEXT_SIZE:Ee._defaultFontSize=n;break;case bt.FREETEXT_COLOR:Ee._defaultColor=n;break}}updateParams(t,n){switch(t){case bt.FREETEXT_SIZE:this.#i(n);break;case bt.FREETEXT_COLOR:this.#o(n);break}}static get defaultPropertiesToUpdate(){return[[bt.FREETEXT_SIZE,Ee._defaultFontSize],[bt.FREETEXT_COLOR,Ee._defaultColor||yt._defaultLineColor]]}get propertiesToUpdate(){return[[bt.FREETEXT_SIZE,this.#a],[bt.FREETEXT_COLOR,this.#t]]}#i(t){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-this.#a)*this.parentScale),this.#a=r,this.#u()},s=this.#a;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(t){const n=r=>{this.#t=this.editorDiv.style.color=r},s=this.#t;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ee._internalPadding*t,-(Ee._internalPadding+this.#a)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Tt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const t=this._uiManager.combinedSignal(this.#s);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#c(){const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(Ee.#l(s)),n=s);return t.join(`
`)}#u(){const[t,n]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:l}=this,u=l.style.display,h=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",r.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=u,l.classList.toggle("hidden",h)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/n):(this.width=s.height/t,this.height=s.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#e,n=this.#e=this.#c().trimEnd();if(t===n)return;const s=r=>{if(this.#e=r,!r){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{s(n)},undo:()=>{s(t)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ee._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--scale-factor))`,s.color=this.#t,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),wc(this,this.div,["dblclick","keydown"]),this.width){const[r,l]=this.parentDimensions;if(this.annotationElementId){const{position:u}=this._initialData;let[h,d]=this.getInitialTranslation();[h,d]=this.pageTranslationToScreen(h,d);const[p,g]=this.pageDimensions,[v,y]=this.pageTranslation;let _,A;switch(this.rotation){case 0:_=t+(u[0]-v)/p,A=n+this.height-(u[1]-y)/g;break;case 90:_=t+(u[0]-v)/p,A=n-(u[1]-y)/g,[h,d]=[d,-h];break;case 180:_=t-this.width+(u[0]-v)/p,A=n-(u[1]-y)/g,[h,d]=[-h,-d];break;case 270:_=t+(u[0]-v-this.height*g)/p,A=n+(u[1]-y-this.width*p)/g,[h,d]=[-d,h];break}this.setAt(_*r,A*l,h,d)}else this.setAt(t*r,n*l,this.width*r,this.height*l);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(nc,"")}editorDivPaste(t){const n=t.clipboardData||window.clipboardData,{types:s}=n;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=Ee.#d(n.getData("text")||"").replaceAll(nc,`
`);if(!r)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const u=l.getRangeAt(0);if(!r.includes(`
`)){u.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:h,startOffset:d}=u,p=[],g=[];if(h.nodeType===Node.TEXT_NODE){const _=h.parentElement;if(g.push(h.nodeValue.slice(d).replaceAll(nc,"")),_!==this.editorDiv){let A=p;for(const E of this.editorDiv.childNodes){if(E===_){A=g;continue}A.push(Ee.#l(E))}}p.push(h.nodeValue.slice(0,d).replaceAll(nc,""))}else if(h===this.editorDiv){let _=p,A=0;for(const E of this.editorDiv.childNodes)A++===d&&(_=g),_.push(Ee.#l(E))}this.#e=`${p.join(`
`)}${r}${g.join(`
`)}`,this.#h();const v=new Range;let y=p.reduce((_,A)=>_+A.length,0);for(const{firstChild:_}of this.editorDiv.childNodes)if(_.nodeType===Node.TEXT_NODE){const A=_.nodeValue.length;if(y<=A){v.setStart(_,y),v.setEnd(_,y);break}y-=A}l.removeAllRanges(),l.addRange(v)}#h(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const t of this.#e.split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}}#r(){return this.#e.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(t,n,s){let r=null;if(t instanceof Z0){const{data:{defaultAppearanceData:{fontSize:u,fontColor:h},rect:d,rotation:p,id:g,popupRef:v},textContent:y,textPosition:_,parent:{page:{pageNumber:A}}}=t;if(!y||y.length===0)return null;r=t={annotationType:Tt.FREETEXT,color:Array.from(h),fontSize:u,value:y.join(`
`),position:_,pageIndex:A-1,rect:d.slice(0),rotation:p,id:g,deleted:!1,popupRef:v}}const l=await super.deserialize(t,n,s);return l.#a=t.fontSize,l.#t=ft.makeHexColor(...t.color),l.#e=Ee.#d(t.value),l.annotationElementId=t.id||null,l._initialData=r,l}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Ee._internalPadding*this.parentScale,s=this.getRect(n,n),r=yt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#t),l={annotationType:Tt.FREETEXT,color:r,fontSize:this.#a,value:this.#r(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?l:this.annotationElementId&&!this.#p(l)?null:(l.id=this.annotationElementId,l)}#p(t){const{value:n,fontSize:s,color:r,pageIndex:l}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==s||t.color.some((u,h)=>u!==r[h])||t.pageIndex!==l}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:s}=n;s.fontSize=`calc(${this.#a}px * var(--scale-factor))`,s.color=this.#t,n.replaceChildren();for(const l of this.#e.split(`
`)){const u=document.createElement("div");u.append(l?document.createTextNode(l):document.createElement("br")),n.append(u)}const r=Ee._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(r,r),popupContent:this.#e}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}let n_=class{toSVGPath(){Wt("Abstract method `toSVGPath` must be implemented.")}get box(){Wt("Abstract getter `box` must be implemented.")}serialize(t,n){Wt("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Wt("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Wt("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}};class Ys{#t;#e=[];#n;#s;#a=[];#i=new Float64Array(18);#o;#c;#u;#l;#h;#r;#d=[];static#p=8;static#f=2;static#v=Ys.#p+Ys.#f;constructor({x:t,y:n},s,r,l,u,h=0){this.#t=s,this.#r=l*r,this.#s=u,this.#i.set([NaN,NaN,NaN,NaN,t,n],6),this.#n=h,this.#l=Ys.#p*r,this.#u=Ys.#v*r,this.#h=r,this.#d.push(t,n)}isEmpty(){return isNaN(this.#i[8])}#m(){const t=this.#i.subarray(4,6),n=this.#i.subarray(16,18),[s,r,l,u]=this.#t;return[(this.#o+(t[0]-n[0])/2-s)/l,(this.#c+(t[1]-n[1])/2-r)/u,(this.#o+(n[0]-t[0])/2-s)/l,(this.#c+(n[1]-t[1])/2-r)/u]}add({x:t,y:n}){this.#o=t,this.#c=n;const[s,r,l,u]=this.#t;let[h,d,p,g]=this.#i.subarray(8,12);const v=t-p,y=n-g,_=Math.hypot(v,y);if(_<this.#u)return!1;const A=_-this.#l,E=A/_,S=E*v,T=E*y;let R=h,C=d;h=p,d=g,p+=S,g+=T,this.#d?.push(t,n);const O=-T/A,z=S/A,k=O*this.#r,H=z*this.#r;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([p+k,g+H],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([p-k,g-H],16),isNaN(this.#i[6])?(this.#a.length===0&&(this.#i.set([h+k,d+H],2),this.#a.push(NaN,NaN,NaN,NaN,(h+k-s)/l,(d+H-r)/u),this.#i.set([h-k,d-H],14),this.#e.push(NaN,NaN,NaN,NaN,(h-k-s)/l,(d-H-r)/u)),this.#i.set([R,C,h,d,p,g],6),!this.isEmpty()):(this.#i.set([R,C,h,d,p,g],6),Math.abs(Math.atan2(C-d,R-h)-Math.atan2(T,S))<Math.PI/2?([h,d,p,g]=this.#i.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((h+p)/2-s)/l,((d+g)/2-r)/u),[h,d,R,C]=this.#i.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((R+h)/2-s)/l,((C+d)/2-r)/u),!0):([R,C,h,d,p,g]=this.#i.subarray(0,6),this.#a.push(((R+5*h)/6-s)/l,((C+5*d)/6-r)/u,((5*h+p)/6-s)/l,((5*d+g)/6-r)/u,((h+p)/2-s)/l,((d+g)/2-r)/u),[p,g,h,d,R,C]=this.#i.subarray(12,18),this.#e.push(((R+5*h)/6-s)/l,((C+5*d)/6-r)/u,((5*h+p)/6-s)/l,((5*d+g)/6-r)/u,((h+p)/2-s)/l,((d+g)/2-r)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,n=this.#e;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#g();const s=[];s.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?s.push(`L${t[r+4]} ${t[r+5]}`):s.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#_(s);for(let r=n.length-6;r>=6;r-=6)isNaN(n[r])?s.push(`L${n[r+4]} ${n[r+5]}`):s.push(`C${n[r]} ${n[r+1]} ${n[r+2]} ${n[r+3]} ${n[r+4]} ${n[r+5]}`);return this.#y(s),s.join(" ")}#g(){const[t,n,s,r]=this.#t,[l,u,h,d]=this.#m();return`M${(this.#i[2]-t)/s} ${(this.#i[3]-n)/r} L${(this.#i[4]-t)/s} ${(this.#i[5]-n)/r} L${l} ${u} L${h} ${d} L${(this.#i[16]-t)/s} ${(this.#i[17]-n)/r} L${(this.#i[14]-t)/s} ${(this.#i[15]-n)/r} Z`}#y(t){const n=this.#e;t.push(`L${n[4]} ${n[5]} Z`)}#_(t){const[n,s,r,l]=this.#t,u=this.#i.subarray(4,6),h=this.#i.subarray(16,18),[d,p,g,v]=this.#m();t.push(`L${(u[0]-n)/r} ${(u[1]-s)/l} L${d} ${p} L${g} ${v} L${(h[0]-n)/r} ${(h[1]-s)/l}`)}newFreeDrawOutline(t,n,s,r,l,u){return new i_(t,n,s,r,l,u)}getOutlines(){const t=this.#a,n=this.#e,s=this.#i,[r,l,u,h]=this.#t,d=new Float64Array((this.#d?.length??0)+2);for(let v=0,y=d.length-2;v<y;v+=2)d[v]=(this.#d[v]-r)/u,d[v+1]=(this.#d[v+1]-l)/h;if(d[d.length-2]=(this.#o-r)/u,d[d.length-1]=(this.#c-l)/h,isNaN(s[6])&&!this.isEmpty())return this.#T(d);const p=new Float64Array(this.#a.length+24+this.#e.length);let g=t.length;for(let v=0;v<g;v+=2){if(isNaN(t[v])){p[v]=p[v+1]=NaN;continue}p[v]=t[v],p[v+1]=t[v+1]}g=this.#x(p,g);for(let v=n.length-6;v>=6;v-=6)for(let y=0;y<6;y+=2){if(isNaN(n[v+y])){p[g]=p[g+1]=NaN,g+=2;continue}p[g]=n[v+y],p[g+1]=n[v+y+1],g+=2}return this.#S(p,g),this.newFreeDrawOutline(p,d,this.#t,this.#h,this.#n,this.#s)}#T(t){const n=this.#i,[s,r,l,u]=this.#t,[h,d,p,g]=this.#m(),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(n[2]-s)/l,(n[3]-r)/u,NaN,NaN,NaN,NaN,(n[4]-s)/l,(n[5]-r)/u,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(n[16]-s)/l,(n[17]-r)/u,NaN,NaN,NaN,NaN,(n[14]-s)/l,(n[15]-r)/u],0),this.newFreeDrawOutline(v,t,this.#t,this.#h,this.#n,this.#s)}#S(t,n){const s=this.#e;return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],n),n+=6}#x(t,n){const s=this.#i.subarray(4,6),r=this.#i.subarray(16,18),[l,u,h,d]=this.#t,[p,g,v,y]=this.#m();return t.set([NaN,NaN,NaN,NaN,(s[0]-l)/h,(s[1]-u)/d,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,(r[0]-l)/h,(r[1]-u)/d],n),n+=24}}class i_ extends n_{#t;#e=null;#n;#s;#a;#i;#o;constructor(t,n,s,r,l,u){super(),this.#o=t,this.#a=n,this.#t=s,this.#i=r,this.#n=l,this.#s=u,this.#l(u);const{x:h,y:d,width:p,height:g}=this.#e;for(let v=0,y=t.length;v<y;v+=2)t[v]=(t[v]-h)/p,t[v+1]=(t[v+1]-d)/g;for(let v=0,y=n.length;v<y;v+=2)n[v]=(n[v]-h)/p,n[v+1]=(n[v+1]-d)/g}toSVGPath(){const t=[`M${this.#o[4]} ${this.#o[5]}`];for(let n=6,s=this.#o.length;n<s;n+=6){if(isNaN(this.#o[n])){t.push(`L${this.#o[n+4]} ${this.#o[n+5]}`);continue}t.push(`C${this.#o[n]} ${this.#o[n+1]} ${this.#o[n+2]} ${this.#o[n+3]} ${this.#o[n+4]} ${this.#o[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,s,r],l){const u=s-t,h=r-n;let d,p;switch(l){case 0:d=this.#c(this.#o,t,r,u,-h),p=this.#c(this.#a,t,r,u,-h);break;case 90:d=this.#u(this.#o,t,n,u,h),p=this.#u(this.#a,t,n,u,h);break;case 180:d=this.#c(this.#o,s,n,-u,h),p=this.#c(this.#a,s,n,-u,h);break;case 270:d=this.#u(this.#o,s,r,-u,-h),p=this.#u(this.#a,s,r,-u,-h);break}return{outline:Array.from(d),points:[Array.from(p)]}}#c(t,n,s,r,l){const u=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=n+t[h]*r,u[h+1]=s+t[h+1]*l;return u}#u(t,n,s,r,l){const u=new Float64Array(t.length);for(let h=0,d=t.length;h<d;h+=2)u[h]=n+t[h+1]*r,u[h+1]=s+t[h]*l;return u}#l(t){const n=this.#o;let s=n[4],r=n[5],l=s,u=r,h=s,d=r,p=s,g=r;const v=t?Math.max:Math.min;for(let S=6,T=n.length;S<T;S+=6){if(isNaN(n[S]))l=Math.min(l,n[S+4]),u=Math.min(u,n[S+5]),h=Math.max(h,n[S+4]),d=Math.max(d,n[S+5]),g<n[S+5]?(p=n[S+4],g=n[S+5]):g===n[S+5]&&(p=v(p,n[S+4]));else{const R=ft.bezierBoundingBox(s,r,...n.slice(S,S+6));l=Math.min(l,R[0]),u=Math.min(u,R[1]),h=Math.max(h,R[2]),d=Math.max(d,R[3]),g<R[3]?(p=R[2],g=R[3]):g===R[3]&&(p=v(p,R[2]))}s=n[S+4],r=n[S+5]}const y=l-this.#n,_=u-this.#n,A=h-l+2*this.#n,E=d-u+2*this.#n;this.#e={x:y,y:_,width:A,height:E,lastPoint:[p,g]}}get box(){return this.#e}newOutliner(t,n,s,r,l,u=0){return new Ys(t,n,s,r,l,u)}getNewOutline(t,n){const{x:s,y:r,width:l,height:u}=this.#e,[h,d,p,g]=this.#t,v=l*p,y=u*g,_=s*p+h,A=r*g+d,E=this.newOutliner({x:this.#a[0]*v+_,y:this.#a[1]*y+A},this.#t,this.#i,t,this.#s,n??this.#n);for(let S=2;S<this.#a.length;S+=2)E.add({x:this.#a[S]*v+_,y:this.#a[S+1]*y+A});return E.getOutlines()}get mustRemoveSelfIntersections(){return!0}}class Ny{#t;#e=[];#n=[];constructor(t,n=0,s=0,r=!0){let l=1/0,u=-1/0,h=1/0,d=-1/0;const p=10**-4;for(const{x:S,y:T,width:R,height:C}of t){const O=Math.floor((S-n)/p)*p,z=Math.ceil((S+R+n)/p)*p,k=Math.floor((T-n)/p)*p,H=Math.ceil((T+C+n)/p)*p,K=[O,k,H,!0],G=[z,k,H,!1];this.#e.push(K,G),l=Math.min(l,O),u=Math.max(u,z),h=Math.min(h,k),d=Math.max(d,H)}const g=u-l+2*s,v=d-h+2*s,y=l-s,_=h-s,A=this.#e.at(r?-1:-2),E=[A[0],A[2]];for(const S of this.#e){const[T,R,C]=S;S[0]=(T-y)/g,S[1]=(R-_)/v,S[2]=(C-_)/v}this.#t={x:y,y:_,width:g,height:v,lastPoint:E}}getOutlines(){this.#e.sort((n,s)=>n[0]-s[0]||n[1]-s[1]||n[2]-s[2]);const t=[];for(const n of this.#e)n[3]?(t.push(...this.#c(n)),this.#i(n)):(this.#o(n),t.push(...this.#c(n)));return this.#s(t)}#s(t){const n=[],s=new Set;for(const u of t){const[h,d,p]=u;n.push([h,d,u],[h,p,u])}n.sort((u,h)=>u[1]-h[1]||u[0]-h[0]);for(let u=0,h=n.length;u<h;u+=2){const d=n[u][2],p=n[u+1][2];d.push(p),p.push(d),s.add(d),s.add(p)}const r=[];let l;for(;s.size>0;){const u=s.values().next().value;let[h,d,p,g,v]=u;s.delete(u);let y=h,_=d;for(l=[h,p],r.push(l);;){let A;if(s.has(g))A=g;else if(s.has(v))A=v;else break;s.delete(A),[h,d,p,g,v]=A,y!==h&&(l.push(y,_,h,_===d?d:p),y=h),_=_===d?p:d}l.push(y,_)}return new PT(r,this.#t)}#a(t){const n=this.#n;let s=0,r=n.length-1;for(;s<=r;){const l=s+r>>1,u=n[l][0];if(u===t)return l;u<t?s=l+1:r=l-1}return r+1}#i([,t,n]){const s=this.#a(t);this.#n.splice(s,0,[t,n])}#o([,t,n]){const s=this.#a(t);for(let r=s;r<this.#n.length;r++){const[l,u]=this.#n[r];if(l!==t)break;if(l===t&&u===n){this.#n.splice(r,1);return}}for(let r=s-1;r>=0;r--){const[l,u]=this.#n[r];if(l!==t)break;if(l===t&&u===n){this.#n.splice(r,1);return}}}#c(t){const[n,s,r]=t,l=[[n,s,r]],u=this.#a(r);for(let h=0;h<u;h++){const[d,p]=this.#n[h];for(let g=0,v=l.length;g<v;g++){const[,y,_]=l[g];if(!(p<=y||_<=d)){if(y>=d){if(_>p)l[g][1]=p;else{if(v===1)return[];l.splice(g,1),g--,v--}continue}l[g][2]=d,_>p&&l.push([n,p,_])}}}return l}}class PT extends n_{#t;#e;constructor(t,n){super(),this.#e=t,this.#t=n}toSVGPath(){const t=[];for(const n of this.#e){let[s,r]=n;t.push(`M${s} ${r}`);for(let l=2;l<n.length;l+=2){const u=n[l],h=n[l+1];u===s?(t.push(`V${h}`),r=h):h===r&&(t.push(`H${u}`),s=u)}t.push("Z")}return t.join(" ")}serialize([t,n,s,r],l){const u=[],h=s-t,d=r-n;for(const p of this.#e){const g=new Array(p.length);for(let v=0;v<p.length;v+=2)g[v]=t+p[v]*h,g[v+1]=r-p[v+1]*d;u.push(g)}return u}get box(){return this.#t}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class Zd extends Ys{newFreeDrawOutline(t,n,s,r,l,u){return new FT(t,n,s,r,l,u)}get classNamesForDrawing(){return["highlight","free"]}}class FT extends i_{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,n,s,r,l,u=0){return new Zd(t,n,s,r,l,u)}}class Nn{#t=null;#e=null;#n;#s=null;#a=!1;#i=!1;#o=null;#c;#u=null;#l=null;#h;static#r=null;static get _keyboardManager(){return jt(this,"_keyboardManager",new Dl([[["Escape","mac+Escape"],Nn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Nn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Nn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Nn.prototype._moveToPrevious],[["Home","mac+Home"],Nn.prototype._moveToBeginning],[["End","mac+End"],Nn.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:n=null}){t?(this.#i=!1,this.#h=bt.HIGHLIGHT_COLOR,this.#o=t):(this.#i=!0,this.#h=bt.HIGHLIGHT_DEFAULT_COLOR),this.#l=t?._uiManager||n,this.#c=this.#l._eventBus,this.#n=t?.color||this.#l?.highlightColors.values().next().value||"#FFFF98",Nn.#r||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const n=this.#l._signal;t.addEventListener("click",this.#v.bind(this),{signal:n}),t.addEventListener("keydown",this.#f.bind(this),{signal:n});const s=this.#e=document.createElement("span");return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=this.#n,t.append(s),t}renderMainDropdown(){const t=this.#s=this.#d();return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}#d(){const t=document.createElement("div"),n=this.#l._signal;t.addEventListener("contextmenu",jn,{signal:n}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,r]of this.#l.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",r),l.title=s,l.setAttribute("data-l10n-id",Nn.#r[s]);const u=document.createElement("span");l.append(u),u.className="swatch",u.style.backgroundColor=r,l.setAttribute("aria-selected",r===this.#n),l.addEventListener("click",this.#p.bind(this,r),{signal:n}),t.append(l)}return t.addEventListener("keydown",this.#f.bind(this),{signal:n}),t}#p(t,n){n.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:t})}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#v(t);return}const n=t.target.getAttribute("data-color");n&&this.#p(n,t)}_moveToNext(t){if(!this.#g){this.#v(t);return}if(t.target===this.#t){this.#s.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#s?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#v(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#v(t);return}this.#s.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#v(t);return}this.#s.lastChild?.focus()}#f(t){Nn._keyboardManager.exec(this,t)}#v(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#l.combinedSignal(this.#u)})),this.#s){this.#s.classList.remove("hidden");return}const n=this.#s=this.#d();this.#t.append(n)}#m(t){this.#s?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),this.#u?.abort(),this.#u=null}get#g(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#g){this.#o?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#s)return;const n=this.#l.highlightColors.values();for(const s of this.#s.children)s.setAttribute("aria-selected",n.next().value===t)}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#s?.remove(),this.#s=null}}class oe extends yt{#t=null;#e=0;#n;#s=null;#a=null;#i=null;#o=null;#c=0;#u=null;#l=null;#h=null;#r=!1;#d=null;#p;#f=null;#v="";#m;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Tt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=oe.prototype;return jt(this,"_keyboardManager",new Dl([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||oe._defaultColor,this.#m=t.thickness||oe._defaultThickness,this.#p=t.opacity||oe._defaultOpacity,this.#n=t.boxes||null,this.#g=t.methodOfCreation||"",this.#v=t.text||"",this._isDraggable=!1,t.highlightId>-1?(this.#r=!0,this.#_(t),this.#C()):this.#n&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#o=t.focusNode,this.#c=t.focusOffset,this.#y(),this.#C(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#r?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#m,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#y(){const t=new Ny(this.#n,.001);this.#l=t.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#l.box;const n=new Ny(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=n.getOutlines();const{lastPoint:s}=this.#i.box;this.#d=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#_({highlightOutlines:t,highlightId:n,clipPathId:s}){this.#l=t;const r=1.5;if(this.#i=t.getNewOutline(this.#m/2+r,.0025),n>=0)this.#h=n,this.#s=s,this.parent.drawLayer.finalizeLine(n,t),this.#f=this.parent.drawLayer.drawOutline(this.#i);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#h,t),this.parent.drawLayer.updateBox(this.#h,oe.#A(this.#l.box,(g-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#f,this.#i),this.parent.drawLayer.updateBox(this.#f,oe.#A(this.#i.box,g))}const{x:l,y:u,width:h,height:d}=t.box;switch(this.rotation){case 0:this.x=l,this.y=u,this.width=h,this.height=d;break;case 90:{const[g,v]=this.parentDimensions;this.x=u,this.y=1-l,this.width=h*v/g,this.height=d*g/v;break}case 180:this.x=1-l,this.y=1-u,this.width=h,this.height=d;break;case 270:{const[g,v]=this.parentDimensions;this.x=1-u,this.y=l,this.width=h*v/g,this.height=d*g/v;break}}const{lastPoint:p}=this.#i.box;this.#d=[(p[0]-l)/h,(p[1]-u)/d]}static initialize(t,n){yt.initialize(t,n),oe._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,n){switch(t){case bt.HIGHLIGHT_DEFAULT_COLOR:oe._defaultColor=n;break;case bt.HIGHLIGHT_THICKNESS:oe._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return this.#d}updateParams(t,n){switch(t){case bt.HIGHLIGHT_COLOR:this.#T(n);break;case bt.HIGHLIGHT_THICKNESS:this.#S(n);break}}static get defaultPropertiesToUpdate(){return[[bt.HIGHLIGHT_DEFAULT_COLOR,oe._defaultColor],[bt.HIGHLIGHT_THICKNESS,oe._defaultThickness]]}get propertiesToUpdate(){return[[bt.HIGHLIGHT_COLOR,this.color||oe._defaultColor],[bt.HIGHLIGHT_THICKNESS,this.#m||oe._defaultThickness],[bt.HIGHLIGHT_FREE,this.#r]]}#T(t){const n=(l,u)=>{this.color=l,this.parent?.drawLayer.changeColor(this.#h,l),this.#a?.updateColor(l),this.#p=u,this.parent?.drawLayer.changeOpacity(this.#h,u)},s=this.color,r=this.#p;this.addCommands({cmd:n.bind(this,t,oe._defaultOpacity),undo:n.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}#S(t){const n=this.#m,s=r=>{this.#m=r,this.#x(r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(this.#a=new Nn({editor:this}),t.addColorPicker(this.#a)),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,this.#M())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#k(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#C(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?this.#k():t&&(this.#C(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}#x(t){if(!this.#r)return;this.#_({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition();const[n,s]=this.parentDimensions;this.setDims(this.width*n,this.height*s)}#k(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#C(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#s}=t.drawLayer.draw(this.#l,this.color,this.#p),this.#f=t.drawLayer.drawOutline(this.#i),this.#u&&(this.#u.style.clipPath=this.#s))}static#A({x:t,y:n,width:s,height:r},l){switch(l){case 90:return{x:1-n-r,y:t,width:r,height:s};case 180:return{x:1-t-s,y:1-n-r,width:s,height:r};case 270:return{x:n,y:1-t-s,width:r,height:s}}return{x:t,y:n,width:s,height:r}}rotate(t){const{drawLayer:n}=this.parent;let s;this.#r?(t=(t-this.rotation+360)%360,s=oe.#A(this.#l.box,t)):s=oe.#A(this,t),n.rotate(this.#h,t),n.rotate(this.#f,t),n.updateBox(this.#h,s),n.updateBox(this.#f,oe.#A(this.#i.box,t))}render(){if(this.div)return this.div;const t=super.render();this.#v&&(t.setAttribute("aria-label",this.#v),t.setAttribute("role","mark")),this.#r?t.classList.add("free"):this.div.addEventListener("keydown",this.#w.bind(this),{signal:this._uiManager._signal});const n=this.#u=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#s;const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),wc(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#f,"hovered")}#w(t){oe._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#R(!0);break;case 1:case 3:this.#R(!1);break}}#R(t){if(!this.#t)return;const n=window.getSelection();t?n.setPosition(this.#t,this.#e):n.setPosition(this.#o,this.#c)}select(){super.select(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected"))}unselect(){super.unselect(),this.#f&&(this.parent?.drawLayer.removeClass(this.#f,"selected"),this.#r||this.#R(!1))}get _mustFixPosition(){return!this.#r}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(this.#h,t),this.parent.drawLayer.show(this.#f,t))}#M(){return this.#r?this.rotation:0}#L(){if(this.#r)return null;const[t,n]=this.pageDimensions,[s,r]=this.pageTranslation,l=this.#n,u=new Float32Array(l.length*8);let h=0;for(const{x:d,y:p,width:g,height:v}of l){const y=d*t+s,_=(1-p-v)*n+r;u[h]=u[h+4]=y,u[h+1]=u[h+3]=_,u[h+2]=u[h+6]=y+g*t,u[h+5]=u[h+7]=_+v*n,h+=8}return u}#E(t){return this.#l.serialize(t,this.#M())}static startHighlighting(t,n,{target:s,x:r,y:l}){const{x:u,y:h,width:d,height:p}=s.getBoundingClientRect(),g=new AbortController,v=t.combinedSignal(g),y=A=>{A.preventDefault(),A.stopPropagation()},_=A=>{g.abort(),this.#N(t,A)};window.addEventListener("blur",_,{signal:v}),window.addEventListener("pointerup",_,{signal:v}),window.addEventListener("pointerdown",y,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",jn,{signal:v}),s.addEventListener("pointermove",this.#b.bind(this,t),{signal:v}),this._freeHighlight=new Zd({x:r,y:l},[u,h,d,p],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#b(t,n){this._freeHighlight.add(n)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#N(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,n,s){let r=null;if(t instanceof t_){const{data:{quadPoints:A,rect:E,rotation:S,id:T,color:R,opacity:C,popupRef:O},parent:{page:{pageNumber:z}}}=t;r=t={annotationType:Tt.HIGHLIGHT,color:Array.from(R),opacity:C,quadPoints:A,boxes:null,pageIndex:z-1,rect:E.slice(0),rotation:S,id:T,deleted:!1,popupRef:O}}else if(t instanceof Of){const{data:{inkLists:A,rect:E,rotation:S,id:T,color:R,borderStyle:{rawWidth:C},popupRef:O},parent:{page:{pageNumber:z}}}=t;r=t={annotationType:Tt.HIGHLIGHT,color:Array.from(R),thickness:C,inkLists:A,boxes:null,pageIndex:z-1,rect:E.slice(0),rotation:S,id:T,deleted:!1,popupRef:O}}const{color:l,quadPoints:u,inkLists:h,opacity:d}=t,p=await super.deserialize(t,n,s);p.color=ft.makeHexColor(...l),p.#p=d||1,h&&(p.#m=t.thickness),p.annotationElementId=t.id||null,p._initialData=r;const[g,v]=p.pageDimensions,[y,_]=p.pageTranslation;if(u){const A=p.#n=[];for(let E=0;E<u.length;E+=8)A.push({x:(u[E]-y)/g,y:1-(u[E+1]-_)/v,width:(u[E+2]-u[E])/g,height:(u[E+1]-u[E+5])/v});p.#y(),p.#C(),p.rotate(p.rotation)}else if(h){p.#r=!0;const A=h[0],E={x:A[0]-y,y:v-(A[1]-_)},S=new Zd(E,[0,0,g,v],1,p.#m/2,!0,.001);for(let C=0,O=A.length;C<O;C+=2)E.x=A[C]-y,E.y=v-(A[C+1]-_),S.add(E);const{id:T,clipPathId:R}=n.drawLayer.draw(S,p.color,p._defaultOpacity,!0);p.#_({highlightOutlines:S.getOutlines(),highlightId:T,clipPathId:R}),p.#C()}return p}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),s=yt._colorManager.convert(this.color),r={annotationType:Tt.HIGHLIGHT,color:s,opacity:this.#p,thickness:this.#m,quadPoints:this.#L(),outlines:this.#E(n),pageIndex:this.pageIndex,rect:n,rotation:this.#M(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#j(r)?null:(r.id=this.annotationElementId,r)}#j(t){const{color:n}=this._initialData;return t.color.some((s,r)=>s!==n[r])}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class je extends yt{#t=0;#e=0;#n=null;#s=new Path2D;#a=!1;#i=null;#o=!1;#c=!1;#u=null;#l=null;#h=0;#r=0;#d=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=Tt.INK;constructor(t){super({...t,name:"inkEditor"}),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,n){yt.initialize(t,n)}static updateDefaultParams(t,n){switch(t){case bt.INK_THICKNESS:je._defaultThickness=n;break;case bt.INK_COLOR:je._defaultColor=n;break;case bt.INK_OPACITY:je._defaultOpacity=n/100;break}}updateParams(t,n){switch(t){case bt.INK_THICKNESS:this.#p(n);break;case bt.INK_COLOR:this.#f(n);break;case bt.INK_OPACITY:this.#v(n);break}}static get defaultPropertiesToUpdate(){return[[bt.INK_THICKNESS,je._defaultThickness],[bt.INK_COLOR,je._defaultColor||yt._defaultLineColor],[bt.INK_OPACITY,Math.round(je._defaultOpacity*100)]]}get propertiesToUpdate(){return[[bt.INK_THICKNESS,this.thickness||je._defaultThickness],[bt.INK_COLOR,this.color||je._defaultColor||yt._defaultLineColor],[bt.INK_OPACITY,Math.round(100*(this.opacity??je._defaultOpacity))]]}#p(t){const n=r=>{this.thickness=r,this.#O()},s=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#f(t){const n=r=>{this.color=r,this.#A()},s=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(t){const n=r=>{this.opacity=r,this.#A()};t/=100;const s=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#L(),this.#E()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#O()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#u?.disconnect(),this.#u=null,super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,n]=this.parentDimensions,s=this.width*t,r=this.height*n;this.setDimensions(s,r)}enableEditMode(){this.#a||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#w())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#R())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#m(){const{parentRotation:t,parentDimensions:[n,s]}=this;switch(t){case 90:return[0,s,s,n];case 180:return[n,s,n,s];case 270:return[n,0,s,n];default:return[0,0,n,s]}}#g(){const{ctx:t,color:n,opacity:s,thickness:r,parentScale:l,scaleFactor:u}=this;t.lineWidth=r*l/u,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${n}${aw(s)}`}#y(t,n){this.canvas.addEventListener("contextmenu",jn,{signal:this._uiManager._signal}),this.#R(),this.#i=new AbortController;const s=this._uiManager.combinedSignal(this.#i);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,this.#c||(this.#c=!0,this.#b(),this.thickness||=je._defaultThickness,this.color||=je._defaultColor||yt._defaultLineColor,this.opacity??=je._defaultOpacity),this.currentPath.push([t,n]),this.#o=!1,this.#g(),this.#d=()=>{this.#x(),this.#d&&window.requestAnimationFrame(this.#d)},window.requestAnimationFrame(this.#d)}#_(t,n){const[s,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&n===r)return;const l=this.currentPath;let u=this.#s;if(l.push([t,n]),this.#o=!0,l.length<=2){u.moveTo(...l[0]),u.lineTo(t,n);return}l.length===3&&(this.#s=u=new Path2D,u.moveTo(...l[0])),this.#k(u,...l.at(-3),...l.at(-2),t,n)}#T(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);this.#s.lineTo(...t)}#S(t,n){this.#d=null,t=Math.min(Math.max(t,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),this.#_(t,n),this.#T();let s;if(this.currentPath.length!==1)s=this.#C();else{const d=[t,n];s=[[d,d.slice(),d.slice(),d]]}const r=this.#s,l=this.currentPath;this.currentPath=[],this.#s=new Path2D;const u=()=>{this.allRawPaths.push(l),this.paths.push(s),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},h=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#L(),this.#E()),this.#O())};this.addCommands({cmd:u,undo:h,mustExec:!0})}#x(){if(!this.#o)return;this.#o=!1;const t=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),s=n.map(u=>u[0]),r=n.map(u=>u[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...r)-t,Math.max(...r)+t;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const u of this.bezierPath2D)l.stroke(u);l.stroke(this.#s),l.restore()}#k(t,n,s,r,l,u,h){const d=(n+r)/2,p=(s+l)/2,g=(r+u)/2,v=(l+h)/2;t.bezierCurveTo(d+2*(r-d)/3,p+2*(l-p)/3,g+2*(r-g)/3,v+2*(l-v)/3,g,v)}#C(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const n=[];let s,[r,l]=t[0];for(s=1;s<t.length-2;s++){const[y,_]=t[s],[A,E]=t[s+1],S=(y+A)/2,T=(_+E)/2,R=[r+2*(y-r)/3,l+2*(_-l)/3],C=[S+2*(y-S)/3,T+2*(_-T)/3];n.push([[r,l],R,C,[S,T]]),[r,l]=[S,T]}const[u,h]=t[s],[d,p]=t[s+1],g=[r+2*(u-r)/3,l+2*(h-l)/3],v=[d+2*(u-d)/3,p+2*(h-p)/3];return n.push([[r,l],g,v,[d,p]]),n}#A(){if(this.isEmpty()){this.#j();return}this.#g();const{canvas:t,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.width,t.height),this.#j();for(const s of this.bezierPath2D)n.stroke(s)}commit(){this.#a||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#a=!0,this.div.classList.add("disabled"),this.#O(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}#w(){if(this.#l)return;this.#l=new AbortController;const t=this._uiManager.combinedSignal(this.#l);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})}#R(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||this.#a||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#y(t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),this.#_(t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),this.#M(t)}canvasPointerleave(t){this.#M(t)}#M(t){this.#i?.abort(),this.#i=null,this.#w(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",jn)},10),this.#S(t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#L(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#E(){this.#u=new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)}),this.#u.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#u?.disconnect(),this.#u=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#a}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,r,l,u]=this.#m();if(this.setAt(s,r,0,0),this.setDims(l,u),this.#L(),this.width){const[h,d]=this.parentDimensions;this.setAspectRatio(this.width*h,this.height*d),this.setAt(t*h,n*d,this.width*h,this.height*d),this.#c=!0,this.#b(),this.setDims(this.width*h,this.height*d),this.#A(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#E(),this.div}#b(){if(!this.#c)return;const[t,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*n),this.#j()}setDimensions(t,n){const s=Math.round(t),r=Math.round(n);if(this.#h===s&&this.#r===r)return;this.#h=s,this.#r=r,this.canvas.style.visibility="hidden";const[l,u]=this.parentDimensions;this.width=t/l,this.height=n/u,this.fixAndSetPosition(),this.#a&&this.#N(t,n),this.#b(),this.#A(),this.canvas.style.visibility="visible",this.fixDims()}#N(t,n){const s=this.#B(),r=(t-s)/this.#e,l=(n-s)/this.#t;this.scaleFactor=Math.min(r,l)}#j(){const t=this.#B()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}static#P(t){const n=new Path2D;for(let s=0,r=t.length;s<r;s++){const[l,u,h,d]=t[s];s===0&&n.moveTo(...l),n.bezierCurveTo(u[0],u[1],h[0],h[1],d[0],d[1])}return n}static#U(t,n,s){const[r,l,u,h]=n;switch(s){case 0:for(let d=0,p=t.length;d<p;d+=2)t[d]+=r,t[d+1]=h-t[d+1];break;case 90:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=t[d+1]+r,t[d+1]=g+l}break;case 180:for(let d=0,p=t.length;d<p;d+=2)t[d]=u-t[d],t[d+1]+=l;break;case 270:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=u-t[d+1],t[d+1]=h-g}break;default:throw new Error("Invalid rotation")}return t}static#H(t,n,s){const[r,l,u,h]=n;switch(s){case 0:for(let d=0,p=t.length;d<p;d+=2)t[d]-=r,t[d+1]=h-t[d+1];break;case 90:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=t[d+1]-l,t[d+1]=g-r}break;case 180:for(let d=0,p=t.length;d<p;d+=2)t[d]=u-t[d],t[d+1]-=l;break;case 270:for(let d=0,p=t.length;d<p;d+=2){const g=t[d];t[d]=h-t[d+1],t[d+1]=u-g}break;default:throw new Error("Invalid rotation")}return t}#F(t,n,s,r){const l=[],u=this.thickness/2,h=t*n+u,d=t*s+u;for(const p of this.paths){const g=[],v=[];for(let y=0,_=p.length;y<_;y++){const[A,E,S,T]=p[y];if(A[0]===T[0]&&A[1]===T[1]&&_===1){const tt=t*A[0]+h,Z=t*A[1]+d;g.push(tt,Z),v.push(tt,Z);break}const R=t*A[0]+h,C=t*A[1]+d,O=t*E[0]+h,z=t*E[1]+d,k=t*S[0]+h,H=t*S[1]+d,K=t*T[0]+h,G=t*T[1]+d;y===0&&(g.push(R,C),v.push(R,C)),g.push(O,z,k,H,K,G),v.push(O,z),y===_-1&&v.push(K,G)}l.push({bezier:je.#U(g,r,this.rotation),points:je.#U(v,r,this.rotation)})}return l}#z(){let t=1/0,n=-1/0,s=1/0,r=-1/0;for(const l of this.paths)for(const[u,h,d,p]of l){const g=ft.bezierBoundingBox(...u,...h,...d,...p);t=Math.min(t,g[0]),s=Math.min(s,g[1]),n=Math.max(n,g[2]),r=Math.max(r,g[3])}return[t,s,n,r]}#B(){return this.#a?Math.ceil(this.thickness*this.parentScale):0}#O(t=!1){if(this.isEmpty())return;if(!this.#a){this.#A();return}const n=this.#z(),s=this.#B();this.#e=Math.max(yt.MIN_SIZE,n[2]-n[0]),this.#t=Math.max(yt.MIN_SIZE,n[3]-n[1]);const r=Math.ceil(s+this.#e*this.scaleFactor),l=Math.ceil(s+this.#t*this.scaleFactor),[u,h]=this.parentDimensions;this.width=r/u,this.height=l/h,this.setAspectRatio(r,l);const d=this.translationX,p=this.translationY;this.translationX=-n[0],this.translationY=-n[1],this.#b(),this.#A(),this.#h=r,this.#r=l,this.setDims(r,l);const g=t?s/this.scaleFactor/2:0;this.translate(d-this.translationX-g,p-this.translationY-g)}static async deserialize(t,n,s){if(t instanceof Of)return null;const r=await super.deserialize(t,n,s);r.thickness=t.thickness,r.color=ft.makeHexColor(...t.color),r.opacity=t.opacity;const[l,u]=r.pageDimensions,h=r.width*l,d=r.height*u,p=r.parentScale,g=t.thickness/2;r.#a=!0,r.#h=Math.round(h),r.#r=Math.round(d);const{paths:v,rect:y,rotation:_}=t;for(let{bezier:E}of v){E=je.#H(E,y,_);const S=[];r.paths.push(S);let T=p*(E[0]-g),R=p*(E[1]-g);for(let O=2,z=E.length;O<z;O+=6){const k=p*(E[O]-g),H=p*(E[O+1]-g),K=p*(E[O+2]-g),G=p*(E[O+3]-g),tt=p*(E[O+4]-g),Z=p*(E[O+5]-g);S.push([[T,R],[k,H],[K,G],[tt,Z]]),T=tt,R=Z}const C=this.#P(S);r.bezierPath2D.push(C)}const A=r.#z();return r.#e=Math.max(yt.MIN_SIZE,A[2]-A[0]),r.#t=Math.max(yt.MIN_SIZE,A[3]-A[1]),r.#N(h,d),r}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),n=yt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Tt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:this.#F(this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class Df extends yt{#t=null;#e=null;#n=null;#s=null;#a=null;#i="";#o=null;#c=null;#u=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Tt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#s=t.bitmapUrl,this.#a=t.bitmapFile}static initialize(t,n){yt.initialize(t,n)}static get supportedTypes(){return jt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return jt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(Tt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#r(t,n=!1){if(!t){this.remove();return}this.#t=t.bitmap,n||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#i=t.file.name),this.#f()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:l,height:u}=t||this.copyCanvas(null,null,!0).imageData,h=await s.guess({name:"altText",request:{data:r,width:l,height:u,channels:r.length/(l*u)}});if(!h)throw new Error("No response from the AI service.");if(h.error)throw new Error("Error from the AI service.");if(h.cancel)return null;if(!h.output)throw new Error("No valid response from the AI service.");const d=h.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#p(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(s=>this.#r(s,!0)).finally(()=>this.#d());return}if(this.#s){const s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(r=>this.#r(r)).finally(()=>this.#d());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(r=>this.#r(r)).finally(()=>this.#d());return}const t=document.createElement("input");t.type="file",t.accept=Df.supportedTypesStr;const n=this._uiManager._signal;this.#n=new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#r(r)}s()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:n})}).finally(()=>this.#d()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#o?.remove(),this.#o=null,this.#c?.disconnect(),this.#c=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#p();return}super.rebuild(),this.div!==null&&(this.#e&&this.#o===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#t||this.#s||this.#a||this.#e)}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#t?this.#f():this.#p(),this.width&&!this.annotationElementId){const[s,r]=this.parentDimensions;this.setAt(t*s,n*r,this.width*s,this.height*r)}return this.div}#f(){const{div:t}=this;let{width:n,height:s}=this.#t;const[r,l]=this.pageDimensions,u=.75;if(this.width)n=this.width*r,s=this.height*l;else if(n>u*r||s>u*l){const g=Math.min(u*r/n,u*l/s);n*=g,s*=g}const[h,d]=this.parentDimensions;this.setDims(n*h/r,s*d/l),this._uiManager.enableWaiting(!1);const p=this.#o=document.createElement("canvas");p.setAttribute("role","img"),this.addContainer(p),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(n,s),this.#_(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&p.setAttribute("aria-label",this.#i)}copyCanvas(t,n,s=!1){t||(t=224);const{width:r,height:l}=this.#t,u=new Vd;let h=this.#t,d=r,p=l,g=null;if(n){if(r>n||l>n){const k=Math.min(n/r,n/l);d=Math.floor(r*k),p=Math.floor(l*k)}g=document.createElement("canvas");const y=g.width=Math.ceil(d*u.sx),_=g.height=Math.ceil(p*u.sy);this.#l||(h=this.#m(y,_));const A=g.getContext("2d");A.filter=this._uiManager.hcmFilter;let E="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(E="#8f8f9d",S="#42414d");const T=15,R=T*u.sx,C=T*u.sy,O=new OffscreenCanvas(R*2,C*2),z=O.getContext("2d");z.fillStyle=E,z.fillRect(0,0,R*2,C*2),z.fillStyle=S,z.fillRect(0,0,R,C),z.fillRect(R,C,R,C),A.fillStyle=A.createPattern(O,"repeat"),A.fillRect(0,0,y,_),A.drawImage(h,0,0,h.width,h.height,0,0,y,_)}let v=null;if(s){let y,_;if(u.symmetric&&h.width<t&&h.height<t)y=h.width,_=h.height;else if(h=this.#t,r>t||l>t){const S=Math.min(t/r,t/l);y=Math.floor(r*S),_=Math.floor(l*S),this.#l||(h=this.#m(y,_))}const E=new OffscreenCanvas(y,_).getContext("2d",{willReadFrequently:!0});E.drawImage(h,0,0,h.width,h.height,0,0,y,_),v={width:y,height:_,data:E.getImageData(0,0,y,_).data}}return{canvas:g,width:d,height:p,imageData:v}}#v(t,n){const[s,r]=this.parentDimensions;this.width=t/s,this.height=n/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#u!==null&&clearTimeout(this.#u);const l=200;this.#u=setTimeout(()=>{this.#u=null,this.#g(t,n)},l)}#m(t,n){const{width:s,height:r}=this.#t;let l=s,u=r,h=this.#t;for(;l>2*t||u>2*n;){const d=l,p=u;l>2*t&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),u>2*n&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2));const g=new OffscreenCanvas(l,u);g.getContext("2d").drawImage(h,0,0,d,p,0,0,l,u),h=g.transferToImageBitmap()}return h}#g(t,n){const s=new Vd,r=Math.ceil(t*s.sx),l=Math.ceil(n*s.sy),u=this.#o;if(!u||u.width===r&&u.height===l)return;u.width=r,u.height=l;const h=this.#l?this.#t:this.#m(r,l),d=u.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,r,l)}getImageForAltText(){return this.#o}#y(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#t,n.getContext("2d").drawImage(this.#t,0,0),n.toDataURL()}if(this.#l){const[n,s]=this.pageDimensions,r=Math.round(this.width*n*or.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*or.PDF_TO_CSS_UNITS),u=new OffscreenCanvas(r,l);return u.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,l),u.transferToImageBitmap()}return structuredClone(this.#t)}#_(){this._uiManager._signal&&(this.#c=new ResizeObserver(t=>{const n=t[0].contentRect;n.width&&n.height&&this.#v(n.width,n.height)}),this.#c.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#c?.disconnect(),this.#c=null},{once:!0}))}static async deserialize(t,n,s){let r=null;if(t instanceof e_){const{data:{rect:A,rotation:E,id:S,structParent:T,popupRef:R},container:C,parent:{page:{pageNumber:O}}}=t,z=C.querySelector("canvas"),k=s.imageManager.getFromCanvas(C.id,z);z.remove();const H=(await n._structTree.getAriaAttributes(`${mf}${S}`))?.get("aria-label")||"";r=t={annotationType:Tt.STAMP,bitmapId:k.id,bitmap:k.bitmap,pageIndex:O-1,rect:A.slice(0),rotation:E,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:T,popupRef:R}}const l=await super.deserialize(t,n,s),{rect:u,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:g,accessibilityData:v}=t;p&&s.imageManager.isValidId(p)?(l.#e=p,h&&(l.#t=h)):l.#s=d,l.#l=g;const[y,_]=l.pageDimensions;return l.width=(u[2]-u[0])/y,l.height=(u[3]-u[1])/_,l.annotationElementId=t.id||null,v&&(l.altTextData=v),l._initialData=r,l.#h=!!r,l}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Tt.STAMP,bitmapId:this.#e,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:r,altText:l}=this.serializeAltText(!1);if(!r&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const h=this.#T(s);if(h.isSame)return null;h.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,n===null)return s;n.stamps||=new Map;const u=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!n.stamps.has(this.#e))n.stamps.set(this.#e,{area:u,serialized:s}),s.bitmap=this.#y(!1);else if(this.#l){const h=n.stamps.get(this.#e);u>h.area&&(h.area=u,h.serialized.bitmap.close(),h.serialized.bitmap=this.#y(!1))}return s}#T(t){const{rect:n,pageIndex:s,accessibilityData:{altText:r}}=this._initialData,l=t.rect.every((d,p)=>Math.abs(d-n[p])<1),u=t.pageIndex===s,h=(t.accessibilityData?.alt||"")===r;return{isSame:l&&u&&h,isSameAltText:h}}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}class Oi{#t;#e=!1;#n=null;#s=null;#a=null;#i=new Map;#o=!1;#c=!1;#u=!1;#l=null;#h=null;#r;static _initialized=!1;static#d=new Map([Ee,je,Df,oe].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:s,structTreeLayer:r,accessibilityManager:l,annotationLayer:u,drawLayer:h,textLayer:d,viewport:p,l10n:g}){const v=[...Oi.#d.values()];if(!Oi._initialized){Oi._initialized=!0;for(const y of v)y.initialize(g,t)}t.registerEditorTypes(v),this.#r=t,this.pageIndex=n,this.div=s,this.#t=l,this.#n=u,this.viewport=p,this.#l=d,this.drawLayer=h,this._structTree=r,this.#r.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===Tt.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#g(),t){case Tt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Tt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const s of Oi.#d.values())n.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#l?.div}addInkEditorIfNeeded(t){if(this.#r.getMode()!==Tt.INK)return;if(!t){for(const s of this.#i.values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of this.#i.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#n)return;const n=this.#n.getEditableAnnotations();for(const s of n){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}}disable(){this.#u=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,n=new Map;for(const r of this.#i.values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else n.set(r.annotationElementId,r);this.getEditableAnnotation(r.annotationElementId)?.show(),r.remove()}if(this.#n){const r=this.#n.getEditableAnnotations();for(const l of r){const{id:u}=l.data;if(this.#r.isDeletedAnnotationElement(u))continue;let h=n.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=t.get(u),h&&(this.#r.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#g(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of Oi.#d.values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#u=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#l?.div&&!this.#h){this.#h=new AbortController;const t=this.#r.combinedSignal(this.#h);this.#l.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#l.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#l?.div&&this.#h&&(this.#h.abort(),this.#h=null,this.#l.div.classList.remove("highlighting"))}#p(t){this.#r.unselectAll();const{target:n}=t;if(n===this.#l.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#l.div.contains(n)){const{isMac:s}=$e.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#l.div.classList.add("free"),this.toggleDrawing(),oe.startHighlighting(this,this.#r.direction==="ltr",{target:this.#l.div,x:t.x,y:t.y}),this.#l.div.addEventListener("pointerup",()=>{this.#l.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#s)return;this.#s=new AbortController;const t=this.#r.combinedSignal(this.#s);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#s?.abort(),this.#s=null}attach(t){this.#i.set(t.id,t);const{annotationElementId:n}=t;n&&this.#r.isDeletedAnnotationElement(n)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#i.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#u&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#c||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),yt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),n.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:n,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#f(){return Oi.#d.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#v(t){const n=this.#f;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#f?.canCreateNewEmptyEditor()}pasteEditor(t,n){this.#r.updateToolbar(t),this.#r.updateMode(t);const{offsetX:s,offsetY:r}=this.#m(),l=this.getNextId(),u=this.#v({parent:this,id:l,x:s,y:r,uiManager:this.#r,isCentered:!0,...n});u&&this.add(u)}async deserialize(t){return await Oi.#d.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,n,s={}){const r=this.getNextId(),l=this.#v({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:n,...s});return l&&this.add(l),l}#m(){const{x:t,y:n,width:s,height:r}=this.div.getBoundingClientRect(),l=Math.max(0,t),u=Math.max(0,n),h=Math.min(window.innerWidth,t+s),d=Math.min(window.innerHeight,n+r),p=(l+h)/2-t,g=(u+d)/2-n,[v,y]=this.viewport.rotation%180===0?[p,g]:[g,p];return{offsetX:v,offsetY:y}}addNewEditor(){this.createAndAddNewEditor(this.#m(),!0)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){const{isMac:n}=$e.platform;if(!(t.button!==0||t.ctrlKey&&n)&&t.target===this.div&&this.#o){if(this.#o=!1,!this.#e){this.#e=!0;return}if(this.#r.getMode()===Tt.STAMP){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#r.getMode()===Tt.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:n}=$e.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;this.#o=!0;const s=this.#r.getActive();this.#e=!s||s.isEmpty()}findNewParent(t,n,s){const r=this.#r.findParent(n,s);return r===null||r===this?!1:(r.changeParent(t),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#i.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#i.clear(),this.#r.removeLayer(this)}#g(){this.#c=!0;for(const t of this.#i.values())t.isEmpty()&&t.remove();this.#c=!1}render({viewport:t}){this.viewport=t,Ws(this.div,t);for(const n of this.#r.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#g();const n=this.viewport.rotation,s=t.rotation;if(this.viewport=t,Ws(this.div,{rotation:s}),n!==s)for(const r of this.#i.values())r.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#r.viewParameters.realScale}}class Ue{#t=null;#e=0;#n=new Map;#s=new Map;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#n.size>0)for(const n of this.#n.values())n.remove(),t.append(n);this.#t=t}}static get _svgFactory(){return jt(this,"_svgFactory",new Mf)}static#a(t,{x:n=0,y:s=0,width:r=1,height:l=1}={}){const{style:u}=t;u.top=`${100*s}%`,u.left=`${100*n}%`,u.width=`${100*r}%`,u.height=`${100*l}%`}#i(t){const n=Ue._svgFactory.create(1,1,!0);return this.#t.append(n),n.setAttribute("aria-hidden",!0),Ue.#a(n,t),n}#o(t,n){const s=Ue._svgFactory.createElement("clipPath");t.append(s);const r=`clip_${n}`;s.setAttribute("id",r),s.setAttribute("clipPathUnits","objectBoundingBox");const l=Ue._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${n}`),l.classList.add("clip"),r}draw(t,n,s,r=!1){const l=this.#e++,u=this.#i(t.box);u.classList.add(...t.classNamesForDrawing);const h=Ue._svgFactory.createElement("defs");u.append(h);const d=Ue._svgFactory.createElement("path");h.append(d);const p=`path_p${this.pageIndex}_${l}`;d.setAttribute("id",p),d.setAttribute("d",t.toSVGPath()),r&&this.#s.set(l,d);const g=this.#o(h,p),v=Ue._svgFactory.createElement("use");return u.append(v),u.setAttribute("fill",n),u.setAttribute("fill-opacity",s),v.setAttribute("href",`#${p}`),this.#n.set(l,u),{id:l,clipPathId:`url(#${g})`}}drawOutline(t){const n=this.#e++,s=this.#i(t.box);s.classList.add(...t.classNamesForOutlining);const r=Ue._svgFactory.createElement("defs");s.append(r);const l=Ue._svgFactory.createElement("path");r.append(l);const u=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",u),l.setAttribute("d",t.toSVGPath()),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(t.mustRemoveSelfIntersections){const g=Ue._svgFactory.createElement("mask");r.append(g),h=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=Ue._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=Ue._svgFactory.createElement("use");g.append(y),y.setAttribute("href",`#${u}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const d=Ue._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${u}`),h&&d.setAttribute("mask",`url(#${h})`);const p=d.cloneNode();return s.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.#n.set(n,s),n}finalizeLine(t,n){const s=this.#s.get(t);this.#s.delete(t),this.updateBox(t,n.box),s.setAttribute("d",n.toSVGPath())}updateLine(t,n){this.#n.get(t).firstChild.firstChild.setAttribute("d",n.toSVGPath())}updatePath(t,n){this.#s.get(t).setAttribute("d",n.toSVGPath())}updateBox(t,n){Ue.#a(this.#n.get(t),n)}show(t,n){this.#n.get(t).classList.toggle("hidden",!n)}rotate(t,n){this.#n.get(t).setAttribute("data-main-rotation",n)}changeColor(t,n){this.#n.get(t).setAttribute("fill",n)}changeOpacity(t,n){this.#n.get(t).setAttribute("fill-opacity",n)}addClass(t,n){this.#n.get(t).classList.add(n)}removeClass(t,n){this.#n.get(t).classList.remove(n)}getSVGRoot(t){return this.#n.get(t)}remove(t){this.#s.delete(t),this.#t!==null&&(this.#n.get(t).remove(),this.#n.delete(t))}destroy(){this.#t=null;for(const t of this.#n.values())t.remove();this.#n.clear(),this.#s.clear()}}var zT=Et.AbortException,HT=Et.AnnotationEditorLayer,IT=Et.AnnotationEditorParamsType,BT=Et.AnnotationEditorType,UT=Et.AnnotationEditorUIManager,qT=Et.AnnotationLayer,GT=Et.AnnotationMode,VT=Et.ColorPicker,XT=Et.DOMSVGFactory,YT=Et.DrawLayer,$T=Et.FeatureTest,KT=Et.GlobalWorkerOptions,WT=Et.ImageKind,QT=Et.InvalidPDFException,ZT=Et.MissingPDFException,JT=Et.OPS,tC=Et.OutputScale,eC=Et.PDFDataRangeTransport,nC=Et.PDFDateString,iC=Et.PDFWorker,sC=Et.PasswordResponses,aC=Et.PermissionFlag,rC=Et.PixelsPerInch,lC=Et.RenderingCancelledException,oC=Et.TextLayer,cC=Et.UnexpectedResponseException,uC=Et.Util,hC=Et.VerbosityLevel,dC=Et.XfaLayer,fC=Et.build,pC=Et.createValidAbsoluteUrl,gC=Et.fetchData,mC=Et.getDocument,vC=Et.getFilenameFromUrl,yC=Et.getPdfFilenameFromUrl,bC=Et.getXfaPageViewport,_C=Et.isDataScheme,AC=Et.isPdfFile,EC=Et.noContextMenu,SC=Et.normalizeUnicode,xC=Et.setLayerDimensions,wC=Et.shadow,TC=Et.version;const CC=Object.freeze(Object.defineProperty({__proto__:null,AbortException:zT,AnnotationEditorLayer:HT,AnnotationEditorParamsType:IT,AnnotationEditorType:BT,AnnotationEditorUIManager:UT,AnnotationLayer:qT,AnnotationMode:GT,ColorPicker:VT,DOMSVGFactory:XT,DrawLayer:YT,FeatureTest:$T,GlobalWorkerOptions:KT,ImageKind:WT,InvalidPDFException:QT,MissingPDFException:ZT,OPS:JT,OutputScale:tC,PDFDataRangeTransport:eC,PDFDateString:nC,PDFWorker:iC,PasswordResponses:sC,PermissionFlag:aC,PixelsPerInch:rC,RenderingCancelledException:lC,TextLayer:oC,UnexpectedResponseException:cC,Util:uC,VerbosityLevel:hC,XfaLayer:dC,build:fC,createValidAbsoluteUrl:pC,fetchData:gC,getDocument:mC,getFilenameFromUrl:vC,getPdfFilenameFromUrl:yC,getXfaPageViewport:bC,isDataScheme:_C,isPdfFile:AC,noContextMenu:EC,normalizeUnicode:SC,setLayerDimensions:xC,shadow:wC,version:TC},Symbol.toStringTag,{value:"Module"})),Nl=wE(CC);var Ie={},gl={},jy;function Lf(){return jy||(jy=1,(function(o){var t=gl&&gl.__spreadArray||function(s,r,l){if(l||arguments.length===2)for(var u=0,h=r.length,d;u<h;u++)(d||!(u in r))&&(d||(d=Array.prototype.slice.call(r,0,u)),d[u]=r[u]);return s.concat(d||Array.prototype.slice.call(r))};Object.defineProperty(o,"__esModule",{value:!0}),o.allEvents=o.changeEvents=o.otherEvents=o.transitionEvents=o.animationEvents=o.wheelEvents=o.uiEvents=o.pointerEvents=o.touchEvents=o.selectionEvents=o.dragEvents=o.mouseEvents=o.mediaEvents=o.keyboardEvents=o.imageEvents=o.formEvents=o.focusEvents=o.compositionEvents=o.clipboardEvents=void 0,o.clipboardEvents=["onCopy","onCut","onPaste"],o.compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],o.focusEvents=["onFocus","onBlur"],o.formEvents=["onInput","onInvalid","onReset","onSubmit"],o.imageEvents=["onLoad","onError"],o.keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],o.mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],o.mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],o.dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],o.selectionEvents=["onSelect"],o.touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],o.pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],o.uiEvents=["onScroll"],o.wheelEvents=["onWheel"],o.animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],o.transitionEvents=["onTransitionEnd"],o.otherEvents=["onToggle"],o.changeEvents=["onChange"],o.allEvents=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t([],o.clipboardEvents,!0),o.compositionEvents,!0),o.focusEvents,!0),o.formEvents,!0),o.imageEvents,!0),o.keyboardEvents,!0),o.mediaEvents,!0),o.mouseEvents,!0),o.dragEvents,!0),o.selectionEvents,!0),o.touchEvents,!0),o.pointerEvents,!0),o.uiEvents,!0),o.wheelEvents,!0),o.animationEvents,!0),o.transitionEvents,!0),o.changeEvents,!0),o.otherEvents,!0);function n(s,r){var l={};return o.allEvents.forEach(function(u){var h=s[u];h&&(r?l[u]=(function(d){return h(d,r(u))}):l[u]=h)}),l}o.default=n})(gl)),gl}var ic={},ky;function fr(){if(ky)return ic;ky=1,Object.defineProperty(ic,"__esModule",{value:!0});function o(t){var n=!1,s=new Promise(function(r,l){t.then(function(u){return!n&&r(u)}).catch(function(u){return!n&&l(u)})});return{promise:s,cancel:function(){n=!0}}}return ic.default=o,ic}var sc={exports:{}},Py;function pr(){if(Py)return sc.exports;Py=1;function o(n){var s,r,l="";if(typeof n=="string"||typeof n=="number")l+=n;else if(typeof n=="object")if(Array.isArray(n)){var u=n.length;for(s=0;s<u;s++)n[s]&&(r=o(n[s]))&&(l&&(l+=" "),l+=r)}else for(r in n)n[r]&&(l&&(l+=" "),l+=r);return l}function t(){for(var n,s,r=0,l="",u=arguments.length;r<u;r++)(n=arguments[r])&&(s=o(n))&&(l&&(l+=" "),l+=s);return l}return sc.exports=t,sc.exports.clsx=t,sc.exports}var Dd,Fy;function Xn(){if(Fy)return Dd;Fy=1;var o="Invariant failed";function t(n,s){if(!n)throw new Error(o)}return Dd=t,Dd}var Ld={},zy;function RC(){if(zy)return Ld;zy=1;var o=Object.prototype.hasOwnProperty;function t(s,r,l){for(l of s.keys())if(n(l,r))return l}function n(s,r){var l,u,h;if(s===r)return!0;if(s&&r&&(l=s.constructor)===r.constructor){if(l===Date)return s.getTime()===r.getTime();if(l===RegExp)return s.toString()===r.toString();if(l===Array){if((u=s.length)===r.length)for(;u--&&n(s[u],r[u]););return u===-1}if(l===Set){if(s.size!==r.size)return!1;for(u of s)if(h=u,h&&typeof h=="object"&&(h=t(r,h),!h)||!r.has(h))return!1;return!0}if(l===Map){if(s.size!==r.size)return!1;for(u of s)if(h=u[0],h&&typeof h=="object"&&(h=t(r,h),!h)||!n(u[1],r.get(h)))return!1;return!0}if(l===ArrayBuffer)s=new Uint8Array(s),r=new Uint8Array(r);else if(l===DataView){if((u=s.byteLength)===r.byteLength)for(;u--&&s.getInt8(u)===r.getInt8(u););return u===-1}if(ArrayBuffer.isView(s)){if((u=s.byteLength)===r.byteLength)for(;u--&&s[u]===r[u];);return u===-1}if(!l||typeof s=="object"){u=0;for(l in s)if(o.call(s,l)&&++u&&!o.call(r,l)||!(l in r)||!n(s[l],r[l]))return!1;return Object.keys(r).length===u}}return s!==s&&r!==r}return Ld.dequal=n,Ld}var ac={},Hy;function s_(){if(Hy)return ac;Hy=1,Object.defineProperty(ac,"__esModule",{value:!0});const t=(0,xe().createContext)(null);return ac.default=t,ac}var rc={},Iy;function a_(){if(Iy)return rc;Iy=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.default=t;const o=kn();function t({children:n,type:s}){return(0,o.jsx)("div",{className:`react-pdf__message react-pdf__message--${s}`,children:n})}return rc}var $a={},By;function MC(){if(By)return $a;By=1;var o=$a&&$a.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($a,"__esModule",{value:!0});const t=o(Xn()),n="noopener noreferrer nofollow";let s=class{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(l){this.pdfDocument=l}setViewer(l){this.pdfViewer=l}setExternalLinkRel(l){this.externalLinkRel=l}setExternalLinkTarget(l){this.externalLinkTarget=l}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(l){(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=l}get rotation(){return 0}set rotation(l){}goToDestination(l){return new Promise(u=>{(0,t.default)(this.pdfDocument,"PDF document not loaded."),(0,t.default)(l,"Destination is not specified."),typeof l=="string"?this.pdfDocument.getDestination(l).then(u):Array.isArray(l)?u(l):l.then(u)}).then(u=>{(0,t.default)(Array.isArray(u),`"${u}" is not a valid destination array.`);const h=u[0];new Promise(d=>{(0,t.default)(this.pdfDocument,"PDF document not loaded."),h instanceof Object?this.pdfDocument.getPageIndex(h).then(p=>{d(p)}).catch(()=>{(0,t.default)(!1,`"${h}" is not a valid page reference.`)}):typeof h=="number"?d(h):(0,t.default)(!1,`"${h}" is not a valid destination reference.`)}).then(d=>{const p=d+1;(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,t.default)(p>=1&&p<=this.pagesCount,`"${p}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:u,pageIndex:d,pageNumber:p})})})}navigateTo(l){this.goToDestination(l)}goToPage(l){const u=l-1;(0,t.default)(this.pdfViewer,"PDF viewer is not initialized."),(0,t.default)(l>=1&&l<=this.pagesCount,`"${l}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:u,pageNumber:l})}addLinkAttributes(l,u,h){l.href=u,l.rel=this.externalLinkRel||n,l.target=h?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}};return $a.default=s,$a}var lc={},Uy;function r_(){if(Uy)return lc;Uy=1,Object.defineProperty(lc,"__esModule",{value:!0});const o={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};return lc.default=o,lc}var ml={},qy;function si(){return qy||(qy=1,(function(o){var t=ml&&ml.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(o,"__esModule",{value:!0}),o.isLocalFileSystem=o.isBrowser=void 0,o.isDefined=r,o.isProvided=l,o.isString=u,o.isArrayBuffer=h,o.isBlob=d,o.isDataURI=p,o.dataURItoByteString=g,o.getDevicePixelRatio=v,o.displayCORSWarning=_,o.displayWorkerWarning=A,o.cancelRunningTask=E,o.makePageCallback=S,o.isCancelException=T,o.loadFromFile=R;const n=t(Xn()),s=t(zi());o.isBrowser=typeof window<"u",o.isLocalFileSystem=o.isBrowser&&window.location.protocol==="file:";function r(C){return typeof C<"u"}function l(C){return r(C)&&C!==null}function u(C){return typeof C=="string"}function h(C){return C instanceof ArrayBuffer}function d(C){return(0,n.default)(o.isBrowser,"isBlob can only be used in a browser environment"),C instanceof Blob}function p(C){return u(C)&&/^data:/.test(C)}function g(C){(0,n.default)(p(C),"Invalid data URI.");const[O="",z=""]=C.split(",");return O.split(";").indexOf("base64")!==-1?atob(z):unescape(z)}function v(){return o.isBrowser&&window.devicePixelRatio||1}const y="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function _(){(0,s.default)(!o.isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${y}`)}function A(){(0,s.default)(!o.isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${y}`)}function E(C){C?.cancel&&C.cancel()}function S(C,O){return Object.defineProperty(C,"width",{get(){return this.view[2]*O},configurable:!0}),Object.defineProperty(C,"height",{get(){return this.view[3]*O},configurable:!0}),Object.defineProperty(C,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(C,"originalHeight",{get(){return this.view[3]},configurable:!0}),C}function T(C){return C.name==="RenderingCancelledException"}function R(C){return new Promise((O,z)=>{const k=new FileReader;k.onload=()=>{if(!k.result)return z(new Error("Error while reading a file."));O(k.result)},k.onerror=H=>{if(!H.target)return z(new Error("Error while reading a file."));const{error:K}=H.target;if(!K)return z(new Error("Error while reading a file."));switch(K.code){case K.NOT_FOUND_ERR:return z(new Error("Error while reading a file: File not found."));case K.SECURITY_ERR:return z(new Error("Error while reading a file: Security error."));case K.ABORT_ERR:return z(new Error("Error while reading a file: Aborted."));default:return z(new Error("Error while reading a file."))}},k.readAsArrayBuffer(C)})}})(ml)),ml}var oc={},Gy;function gr(){if(Gy)return oc;Gy=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.default=n;const o=xe();function t(s,r){switch(r.type){case"RESOLVE":return{value:r.value,error:void 0};case"REJECT":return{value:!1,error:r.error};case"RESET":return{value:void 0,error:void 0};default:return s}}function n(){return(0,o.useReducer)(t,{value:void 0,error:void 0})}return oc}var Vy;function OC(){if(Vy)return Ie;Vy=1;var o=Ie&&Ie.__createBinding||(Object.create?(function(G,tt,Z,et){et===void 0&&(et=Z);var nt=Object.getOwnPropertyDescriptor(tt,Z);(!nt||("get"in nt?!tt.__esModule:nt.writable||nt.configurable))&&(nt={enumerable:!0,get:function(){return tt[Z]}}),Object.defineProperty(G,et,nt)}):(function(G,tt,Z,et){et===void 0&&(et=Z),G[et]=tt[Z]})),t=Ie&&Ie.__setModuleDefault||(Object.create?(function(G,tt){Object.defineProperty(G,"default",{enumerable:!0,value:tt})}):function(G,tt){G.default=tt}),n=Ie&&Ie.__importStar||function(G){if(G&&G.__esModule)return G;var tt={};if(G!=null)for(var Z in G)Z!=="default"&&Object.prototype.hasOwnProperty.call(G,Z)&&o(tt,G,Z);return t(tt,G),tt},s=Ie&&Ie.__awaiter||function(G,tt,Z,et){function nt(dt){return dt instanceof Z?dt:new Z(function(ot){ot(dt)})}return new(Z||(Z=Promise))(function(dt,ot){function j(it){try{X(et.next(it))}catch(lt){ot(lt)}}function F(it){try{X(et.throw(it))}catch(lt){ot(lt)}}function X(it){it.done?dt(it.value):nt(it.value).then(j,F)}X((et=et.apply(G,tt||[])).next())})},r=Ie&&Ie.__rest||function(G,tt){var Z={};for(var et in G)Object.prototype.hasOwnProperty.call(G,et)&&tt.indexOf(et)<0&&(Z[et]=G[et]);if(G!=null&&typeof Object.getOwnPropertySymbols=="function")for(var nt=0,et=Object.getOwnPropertySymbols(G);nt<et.length;nt++)tt.indexOf(et[nt])<0&&Object.prototype.propertyIsEnumerable.call(G,et[nt])&&(Z[et[nt]]=G[et[nt]]);return Z},l=Ie&&Ie.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(Ie,"__esModule",{value:!0});const u=kn(),h=xe(),d=l(Lf()),p=l(fr()),g=l(pr()),v=l(Xn()),y=l(zi()),_=RC(),A=n(Nl),E=l(s_()),S=l(a_()),T=l(MC()),R=l(r_()),C=si(),O=l(gr()),{PDFDataRangeTransport:z}=A,k=(G,tt)=>{switch(tt){case R.default.NEED_PASSWORD:{const Z=prompt("Enter the password to open this PDF file.");G(Z);break}case R.default.INCORRECT_PASSWORD:{const Z=prompt("Invalid password. Please try again.");G(Z);break}}};function H(G){return typeof G=="object"&&G!==null&&("data"in G||"range"in G||"url"in G)}const K=(0,h.forwardRef)(function(tt,Z){var{children:et,className:nt,error:dt="Failed to load PDF file.",externalLinkRel:ot,externalLinkTarget:j,file:F,inputRef:X,imageResourcesPath:it,loading:lt="Loading PDF",noData:D="No PDF file specified.",onItemClick:q,onLoadError:$,onLoadProgress:J,onLoadSuccess:st,onPassword:rt=k,onSourceError:at,onSourceSuccess:kt,options:vt,renderMode:ve,rotate:Ge}=tt,Ce=r(tt,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[rn,Qt]=(0,O.default)(),{value:St,error:ke}=rn,[Pe,Pn]=(0,O.default)(),{value:ue,error:Yn}=Pe,vn=(0,h.useRef)(new T.default),Fn=(0,h.useRef)([]),ai=(0,h.useRef)(void 0),ne=(0,h.useRef)(void 0);F&&F!==ai.current&&H(F)&&((0,y.default)(!(0,_.dequal)(F,ai.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ai.current=F),vt&&vt!==ne.current&&((0,y.default)(!(0,_.dequal)(vt,ne.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ne.current=vt);const Hi=(0,h.useRef)({scrollPageIntoView:be=>{const{dest:Ve,pageNumber:Fe,pageIndex:ze=Fe-1}=be;if(q){q({dest:Ve,pageIndex:ze,pageNumber:Fe});return}const zn=Fn.current[ze];if(zn){zn.scrollIntoView();return}(0,y.default)(!1,`An internal link leading to page ${Fe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,h.useImperativeHandle)(Z,()=>({linkService:vn,pages:Fn,viewer:Hi}),[]);function ri(){kt&&kt()}function ws(){ke&&((0,y.default)(!1,ke.toString()),at&&at(ke))}function Ii(){Qt({type:"RESET"})}(0,h.useEffect)(Ii,[F,Qt]);const $n=(0,h.useCallback)(()=>s(this,void 0,void 0,function*(){if(!F)return null;if(typeof F=="string")return(0,C.isDataURI)(F)?{data:(0,C.dataURItoByteString)(F)}:((0,C.displayCORSWarning)(),{url:F});if(F instanceof z)return{range:F};if((0,C.isArrayBuffer)(F))return{data:F};if(C.isBrowser&&(0,C.isBlob)(F))return{data:yield(0,C.loadFromFile)(F)};if((0,v.default)(typeof F=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),(0,v.default)(H(F),"Invalid parameter object: need either .data, .range or .url"),"url"in F&&typeof F.url=="string"){if((0,C.isDataURI)(F.url)){const{url:be}=F,Ve=r(F,["url"]),Fe=(0,C.dataURItoByteString)(be);return Object.assign({data:Fe},Ve)}(0,C.displayCORSWarning)()}return F}),[F]);(0,h.useEffect)(()=>{const be=(0,p.default)($n());return be.promise.then(Ve=>{Qt({type:"RESOLVE",value:Ve})}).catch(Ve=>{Qt({type:"REJECT",error:Ve})}),()=>{(0,C.cancelRunningTask)(be)}},[$n,Qt]),(0,h.useEffect)(()=>{if(!(typeof St>"u")){if(St===!1){ws();return}ri()}},[St]);function Yt(){ue&&(st&&st(ue),Fn.current=new Array(ue.numPages),vn.current.setDocument(ue))}function Ts(){Yn&&((0,y.default)(!1,Yn.toString()),$&&$(Yn))}(0,h.useEffect)(function(){Pn({type:"RESET"})},[Pn,St]),(0,h.useEffect)(function(){if(!St)return;const Ve=vt?Object.assign(Object.assign({},St),vt):St,Fe=A.getDocument(Ve);J&&(Fe.onProgress=J),rt&&(Fe.onPassword=rt);const ze=Fe,zn=ze.promise.then(ln=>{Pn({type:"RESOLVE",value:ln})}).catch(ln=>{ze.destroyed||Pn({type:"REJECT",error:ln})});return()=>{zn.finally(()=>ze.destroy())}},[vt,Pn,St]),(0,h.useEffect)(()=>{if(!(typeof ue>"u")){if(ue===!1){Ts();return}Yt()}},[ue]),(0,h.useEffect)(function(){vn.current.setViewer(Hi.current),vn.current.setExternalLinkRel(ot),vn.current.setExternalLinkTarget(j)},[ot,j]);const Bi=(0,h.useCallback)((be,Ve)=>{Fn.current[be]=Ve},[]),ye=(0,h.useCallback)(be=>{delete Fn.current[be]},[]),Zt=(0,h.useMemo)(()=>({imageResourcesPath:it,linkService:vn.current,onItemClick:q,pdf:ue,registerPage:Bi,renderMode:ve,rotate:Ge,unregisterPage:ye}),[it,q,ue,Bi,ve,Ge,ye]),Re=(0,h.useMemo)(()=>(0,d.default)(Ce,()=>ue),[Ce,ue]);function Vt(){return(0,u.jsx)(E.default.Provider,{value:Zt,children:et})}function vr(){return F?ue==null?(0,u.jsx)(S.default,{type:"loading",children:typeof lt=="function"?lt():lt}):ue===!1?(0,u.jsx)(S.default,{type:"error",children:typeof dt=="function"?dt():dt}):Vt():(0,u.jsx)(S.default,{type:"no-data",children:typeof D=="function"?D():D})}return(0,u.jsx)("div",Object.assign({className:(0,g.default)("react-pdf__Document",nt),ref:X,style:{"--scale-factor":"1"}},Re,{children:vr()}))});return Ie.default=K,Ie}var fs={},cc={},Xy;function l_(){if(Xy)return cc;Xy=1,Object.defineProperty(cc,"__esModule",{value:!0});const t=(0,xe().createContext)(null);return cc.default=t,cc}var ei={},uc={},Yy;function DC(){if(Yy)return uc;Yy=1,Object.defineProperty(uc,"__esModule",{value:!0});let o=class{constructor({num:n,gen:s}){this.num=n,this.gen=s}toString(){let n=`${this.num}R`;return this.gen!==0&&(n+=this.gen),n}};return uc.default=o,uc}var hc={},$y;function LC(){if($y)return hc;$y=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.default=n;const o=xe(),t=si();function n(s){const r=(0,o.useRef)(void 0),l=r.current;return(0,t.isDefined)(l)?()=>l:()=>{const u=s();return r.current=u,u}}return hc}var Ka={},Ky;function mr(){if(Ky)return Ka;Ky=1;var o=Ka&&Ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.default=s;const t=xe(),n=o(s_());function s(){return(0,t.useContext)(n.default)}return Ka}var Wa={},Wy;function o_(){if(Wy)return Wa;Wy=1;var o=Wa&&Wa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.default=s;const t=xe(),n=o(l_());function s(){return(0,t.useContext)(n.default)}return Wa}var Qy;function NC(){if(Qy)return ei;Qy=1;var o=ei&&ei.__awaiter||function(g,v,y,_){function A(E){return E instanceof y?E:new y(function(S){S(E)})}return new(y||(y=Promise))(function(E,S){function T(O){try{C(_.next(O))}catch(z){S(z)}}function R(O){try{C(_.throw(O))}catch(z){S(z)}}function C(O){O.done?E(O.value):A(O.value).then(T,R)}C((_=_.apply(g,v||[])).next())})},t=ei&&ei.__rest||function(g,v){var y={};for(var _ in g)Object.prototype.hasOwnProperty.call(g,_)&&v.indexOf(_)<0&&(y[_]=g[_]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,_=Object.getOwnPropertySymbols(g);A<_.length;A++)v.indexOf(_[A])<0&&Object.prototype.propertyIsEnumerable.call(g,_[A])&&(y[_[A]]=g[_[A]]);return y},n=ei&&ei.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(ei,"__esModule",{value:!0}),ei.default=p;const s=kn(),r=n(Xn()),l=n(DC()),u=n(LC()),h=n(mr()),d=n(o_());function p(g){const v=(0,h.default)(),y=(0,d.default)();(0,r.default)(y,"Unable to find Outline context.");const _=Object.assign(Object.assign(Object.assign({},v),y),g),{item:A,linkService:E,onItemClick:S,pdf:T}=_,R=t(_,["item","linkService","onItemClick","pdf"]);(0,r.default)(T,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const C=(0,u.default)(()=>typeof A.dest=="string"?T.getDestination(A.dest):A.dest),O=(0,u.default)(()=>o(this,void 0,void 0,function*(){const K=yield C();if(!K)throw new Error("Destination not found.");const[G]=K;return T.getPageIndex(new l.default(G))})),z=(0,u.default)(()=>o(this,void 0,void 0,function*(){return(yield O())+1}));function k(K){K.preventDefault(),(0,r.default)(S||E,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),S?Promise.all([C(),O(),z()]).then(([G,tt,Z])=>{S({dest:G,pageIndex:tt,pageNumber:Z})}):E&&E.goToDestination(A.dest)}function H(){if(!A.items||!A.items.length)return null;const{items:K}=A;return(0,s.jsx)("ul",{children:K.map((G,tt)=>(0,s.jsx)(p,Object.assign({item:G,pdf:T},R),typeof G.dest=="string"?G.dest:tt))})}return(0,s.jsxs)("li",{children:[(0,s.jsx)("a",{href:"#",onClick:k,children:A.title}),H()]})}return ei}var Zy;function jC(){if(Zy)return fs;Zy=1;var o=fs&&fs.__rest||function(E,S){var T={};for(var R in E)Object.prototype.hasOwnProperty.call(E,R)&&S.indexOf(R)<0&&(T[R]=E[R]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,R=Object.getOwnPropertySymbols(E);C<R.length;C++)S.indexOf(R[C])<0&&Object.prototype.propertyIsEnumerable.call(E,R[C])&&(T[R[C]]=E[R[C]]);return T},t=fs&&fs.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(fs,"__esModule",{value:!0}),fs.default=A;const n=kn(),s=xe(),r=t(fr()),l=t(Lf()),u=t(pr()),h=t(Xn()),d=t(zi()),p=t(l_()),g=t(NC()),v=si(),y=t(mr()),_=t(gr());function A(E){const S=(0,y.default)(),T=Object.assign(Object.assign({},S),E),{className:R,inputRef:C,onItemClick:O,onLoadError:z,onLoadSuccess:k,pdf:H}=T,K=o(T,["className","inputRef","onItemClick","onLoadError","onLoadSuccess","pdf"]);(0,h.default)(H,"Attempted to load an outline, but no document was specified. Wrap <Outline /> in a <Document /> or pass explicit `pdf` prop.");const[G,tt]=(0,_.default)(),{value:Z,error:et}=G;function nt(){typeof Z>"u"||Z===!1||k&&k(Z)}function dt(){et&&((0,d.default)(!1,et.toString()),z&&z(et))}(0,s.useEffect)(function(){tt({type:"RESET"})},[tt,H]),(0,s.useEffect)(function(){if(!H)return;const it=(0,r.default)(H.getOutline()),lt=it;return it.promise.then(D=>{tt({type:"RESOLVE",value:D})}).catch(D=>{tt({type:"REJECT",error:D})}),()=>(0,v.cancelRunningTask)(lt)},[tt,H]),(0,s.useEffect)(()=>{if(Z!==void 0){if(Z===!1){dt();return}nt()}},[Z]);const ot=(0,s.useMemo)(()=>({onItemClick:O}),[O]),j=(0,s.useMemo)(()=>(0,l.default)(K,()=>Z),[K,Z]);if(!Z)return null;function F(){return Z?(0,n.jsx)("ul",{children:Z.map((X,it)=>(0,n.jsx)(g.default,{item:X,pdf:H},typeof X.dest=="string"?X.dest:it))}):null}return(0,n.jsx)("div",Object.assign({className:(0,u.default)("react-pdf__Outline",R),ref:C},j,{children:(0,n.jsx)(p.default.Provider,{value:ot,children:F()})}))}return fs}var ps={},dc={},Jy;function c_(){if(Jy)return dc;Jy=1,Object.defineProperty(dc,"__esModule",{value:!0});function o(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var s=t.filter(Boolean);if(s.length<=1){var r=s[0];return r||null}return function(u){s.forEach(function(h){typeof h=="function"?h(u):h&&(h.current=u)})}}return dc.default=o,dc}var fc={},tb;function u_(){if(tb)return fc;tb=1,Object.defineProperty(fc,"__esModule",{value:!0});const t=(0,xe().createContext)(null);return fc.default=t,fc}var Mn={},Qa={},pc={},Ri={},Vs={},eb;function kC(){return eb||(eb=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.HEADING_PATTERN=Vs.PDF_ROLE_TO_HTML_ROLE=void 0,Vs.PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Vs.HEADING_PATTERN=/^H(\d+)$/),Vs}var nb;function PC(){if(nb)return Ri;nb=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.isPdfRole=t,Ri.isStructTreeNode=n,Ri.isStructTreeNodeWithOnlyContentChild=s,Ri.getRoleAttributes=r,Ri.getBaseAttributes=l,Ri.getAttributes=u;const o=kC();function t(h){return h in o.PDF_ROLE_TO_HTML_ROLE}function n(h){return"children"in h}function s(h){return n(h)?h.children.length===1&&0 in h.children&&"id"in h.children[0]:!1}function r(h){const d={};if(n(h)){const{role:p}=h,g=p.match(o.HEADING_PATTERN);if(g)d.role="heading",d["aria-level"]=Number(g[1]);else if(t(p)){const v=o.PDF_ROLE_TO_HTML_ROLE[p];v&&(d.role=v)}}return d}function l(h){const d={};if(n(h)){if(h.alt!==void 0&&(d["aria-label"]=h.alt),h.lang!==void 0&&(d.lang=h.lang),s(h)){const[p]=h.children;if(p){const g=l(p);return Object.assign(Object.assign({},d),g)}}}else"id"in h&&(d["aria-owns"]=h.id);return d}function u(h){return h?Object.assign(Object.assign({},r(h)),l(h)):null}return Ri}var ib;function FC(){if(ib)return pc;ib=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.default=s;const o=kn(),t=xe(),n=PC();function s({className:r,node:l}){const u=(0,t.useMemo)(()=>(0,n.getAttributes)(l),[l]),h=(0,t.useMemo)(()=>!(0,n.isStructTreeNode)(l)||(0,n.isStructTreeNodeWithOnlyContentChild)(l)?null:l.children.map((d,p)=>(0,o.jsx)(s,{node:d},p)),[l]);return(0,o.jsx)("span",Object.assign({className:r},u,{children:h}))}return pc}var Za={},sb;function jl(){if(sb)return Za;sb=1;var o=Za&&Za.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Za,"__esModule",{value:!0}),Za.default=s;const t=xe(),n=o(u_());function s(){return(0,t.useContext)(n.default)}return Za}var ab;function zC(){if(ab)return Qa;ab=1;var o=Qa&&Qa.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.default=g;const t=kn(),n=xe(),s=o(fr()),r=o(Xn()),l=o(zi()),u=o(FC()),h=o(jl()),d=o(gr()),p=si();function g(){const v=(0,h.default)();(0,r.default)(v,"Unable to find Page context.");const{onGetStructTreeError:y,onGetStructTreeSuccess:_}=v,[A,E]=(0,d.default)(),{value:S,error:T}=A,{customTextRenderer:R,page:C}=v;function O(){S&&_&&_(S)}function z(){T&&((0,l.default)(!1,T.toString()),y&&y(T))}return(0,n.useEffect)(function(){E({type:"RESET"})},[E,C]),(0,n.useEffect)(function(){if(R||!C)return;const H=(0,s.default)(C.getStructTree()),K=H;return H.promise.then(G=>{E({type:"RESOLVE",value:G})}).catch(G=>{E({type:"REJECT",error:G})}),()=>(0,p.cancelRunningTask)(K)},[R,C,E]),(0,n.useEffect)(()=>{if(S!==void 0){if(S===!1){z();return}O()}},[S]),S?(0,t.jsx)(u.default,{className:"react-pdf__Page__structTree structTree",node:S}):null}return Qa}var rb;function HC(){if(rb)return Mn;rb=1;var o=Mn&&Mn.__createBinding||(Object.create?(function(E,S,T,R){R===void 0&&(R=T);var C=Object.getOwnPropertyDescriptor(S,T);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[T]}}),Object.defineProperty(E,R,C)}):(function(E,S,T,R){R===void 0&&(R=T),E[R]=S[T]})),t=Mn&&Mn.__setModuleDefault||(Object.create?(function(E,S){Object.defineProperty(E,"default",{enumerable:!0,value:S})}):function(E,S){E.default=S}),n=Mn&&Mn.__importStar||function(E){if(E&&E.__esModule)return E;var S={};if(E!=null)for(var T in E)T!=="default"&&Object.prototype.hasOwnProperty.call(E,T)&&o(S,E,T);return t(S,E),S},s=Mn&&Mn.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.default=A;const r=kn(),l=xe(),u=s(c_()),h=s(Xn()),d=s(zi()),p=n(Nl),g=s(zC()),v=s(jl()),y=si(),_=p.AnnotationMode;function A(E){const S=(0,v.default)();(0,h.default)(S,"Unable to find Page context.");const T=Object.assign(Object.assign({},S),E),{_className:R,canvasBackground:C,devicePixelRatio:O=(0,y.getDevicePixelRatio)(),onRenderError:z,onRenderSuccess:k,page:H,renderForms:K,renderTextLayer:G,rotate:tt,scale:Z}=T,{canvasRef:et}=E;(0,h.default)(H,"Attempted to render page canvas, but no page was specified.");const nt=(0,l.useRef)(null);function dt(){H&&k&&k((0,y.makePageCallback)(H,Z))}function ot(it){(0,y.isCancelException)(it)||((0,d.default)(!1,it.toString()),z&&z(it))}const j=(0,l.useMemo)(()=>H.getViewport({scale:Z*O,rotation:tt}),[O,H,tt,Z]),F=(0,l.useMemo)(()=>H.getViewport({scale:Z,rotation:tt}),[H,tt,Z]);(0,l.useEffect)(function(){if(!H)return;H.cleanup();const{current:lt}=nt;if(!lt)return;lt.width=j.width,lt.height=j.height,lt.style.width=`${Math.floor(F.width)}px`,lt.style.height=`${Math.floor(F.height)}px`,lt.style.visibility="hidden";const D={annotationMode:K?_.ENABLE_FORMS:_.ENABLE,canvasContext:lt.getContext("2d",{alpha:!1}),viewport:j};C&&(D.background=C);const q=H.render(D),$=q;return q.promise.then(()=>{lt.style.visibility="",dt()}).catch(ot),()=>(0,y.cancelRunningTask)($)},[C,H,K,j,F]);const X=(0,l.useCallback)(()=>{const{current:it}=nt;it&&(it.width=0,it.height=0)},[]);return(0,l.useEffect)(()=>X,[X]),(0,r.jsx)("canvas",{className:`${R}__canvas`,dir:"ltr",ref:(0,u.default)(et,nt),style:{display:"block",userSelect:"none"},children:G?(0,r.jsx)(g.default,{}):null})}return Mn}var On={},lb;function IC(){if(lb)return On;lb=1;var o=On&&On.__createBinding||(Object.create?(function(S,T,R,C){C===void 0&&(C=R);var O=Object.getOwnPropertyDescriptor(T,R);(!O||("get"in O?!T.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return T[R]}}),Object.defineProperty(S,C,O)}):(function(S,T,R,C){C===void 0&&(C=R),S[C]=T[R]})),t=On&&On.__setModuleDefault||(Object.create?(function(S,T){Object.defineProperty(S,"default",{enumerable:!0,value:T})}):function(S,T){S.default=T}),n=On&&On.__importStar||function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var R in S)R!=="default"&&Object.prototype.hasOwnProperty.call(S,R)&&o(T,S,R);return t(T,S),T},s=On&&On.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(On,"__esModule",{value:!0}),On.default=E;const r=kn(),l=xe(),u=s(fr()),h=s(pr()),d=s(Xn()),p=s(zi()),g=n(Nl),v=s(jl()),y=s(gr()),_=si();function A(S){return"str"in S}function E(){const S=(0,v.default)();(0,d.default)(S,"Unable to find Page context.");const{customTextRenderer:T,onGetTextError:R,onGetTextSuccess:C,onRenderTextLayerError:O,onRenderTextLayerSuccess:z,page:k,pageIndex:H,pageNumber:K,rotate:G,scale:tt}=S;(0,d.default)(k,"Attempted to load page text content, but no page was specified.");const[Z,et]=(0,y.default)(),{value:nt,error:dt}=Z,ot=(0,l.useRef)(null);(0,p.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function j(){nt&&C&&C(nt)}function F(){dt&&((0,p.default)(!1,dt.toString()),R&&R(dt))}(0,l.useEffect)(function(){et({type:"RESET"})},[k,et]),(0,l.useEffect)(function(){if(!k)return;const J=(0,u.default)(k.getTextContent()),st=J;return J.promise.then(rt=>{et({type:"RESOLVE",value:rt})}).catch(rt=>{et({type:"REJECT",error:rt})}),()=>(0,_.cancelRunningTask)(st)},[k,et]),(0,l.useEffect)(()=>{if(nt!==void 0){if(nt===!1){F();return}j()}},[nt]);const X=(0,l.useCallback)(()=>{z&&z()},[z]),it=(0,l.useCallback)($=>{(0,p.default)(!1,$.toString()),O&&O($)},[O]);function lt(){const $=ot.current;$&&$.classList.add("selecting")}function D(){const $=ot.current;$&&$.classList.remove("selecting")}const q=(0,l.useMemo)(()=>k.getViewport({scale:tt,rotation:G}),[k,G,tt]);return(0,l.useLayoutEffect)(function(){if(!k||!nt)return;const{current:J}=ot;if(!J)return;J.innerHTML="";const st=k.streamTextContent({includeMarkedContent:!0}),rt={container:J,textContentSource:st,viewport:q},at=new g.TextLayer(rt),kt=at;return at.render().then(()=>{const vt=document.createElement("div");vt.className="endOfContent",J.append(vt);const ve=J.querySelectorAll('[role="presentation"]');if(T){let Ge=0;nt.items.forEach((Ce,rn)=>{if(!A(Ce))return;const Qt=ve[Ge];if(!Qt)return;const St=T(Object.assign({pageIndex:H,pageNumber:K,itemIndex:rn},Ce));Qt.innerHTML=St,Ge+=Ce.str&&Ce.hasEOL?2:1})}X()}).catch(it),()=>(0,_.cancelRunningTask)(kt)},[T,it,X,k,H,K,nt,q]),(0,r.jsx)("div",{className:(0,h.default)("react-pdf__Page__textContent","textLayer"),onMouseUp:D,onMouseDown:lt,ref:ot})}return On}var Dn={},ob;function BC(){if(ob)return Dn;ob=1;var o=Dn&&Dn.__createBinding||(Object.create?(function(S,T,R,C){C===void 0&&(C=R);var O=Object.getOwnPropertyDescriptor(T,R);(!O||("get"in O?!T.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return T[R]}}),Object.defineProperty(S,C,O)}):(function(S,T,R,C){C===void 0&&(C=R),S[C]=T[R]})),t=Dn&&Dn.__setModuleDefault||(Object.create?(function(S,T){Object.defineProperty(S,"default",{enumerable:!0,value:T})}):function(S,T){S.default=T}),n=Dn&&Dn.__importStar||function(S){if(S&&S.__esModule)return S;var T={};if(S!=null)for(var R in S)R!=="default"&&Object.prototype.hasOwnProperty.call(S,R)&&o(T,S,R);return t(T,S),T},s=Dn&&Dn.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=E;const r=kn(),l=xe(),u=s(fr()),h=s(pr()),d=s(Xn()),p=s(zi()),g=n(Nl),v=s(mr()),y=s(jl()),_=s(gr()),A=si();function E(){const S=(0,v.default)(),T=(0,y.default)();(0,d.default)(T,"Unable to find Page context.");const R=Object.assign(Object.assign({},S),T),{imageResourcesPath:C,linkService:O,onGetAnnotationsError:z,onGetAnnotationsSuccess:k,onRenderAnnotationLayerError:H,onRenderAnnotationLayerSuccess:K,page:G,pdf:tt,renderForms:Z,rotate:et,scale:nt=1}=R;(0,d.default)(tt,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),(0,d.default)(G,"Attempted to load page annotations, but no page was specified."),(0,d.default)(O,"Attempted to load page annotations, but no linkService was specified.");const[dt,ot]=(0,_.default)(),{value:j,error:F}=dt,X=(0,l.useRef)(null);(0,p.default)(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function it(){j&&k&&k(j)}function lt(){F&&((0,p.default)(!1,F.toString()),z&&z(F))}(0,l.useEffect)(function(){ot({type:"RESET"})},[ot,G]),(0,l.useEffect)(function(){if(!G)return;const st=(0,u.default)(G.getAnnotations()),rt=st;return st.promise.then(at=>{ot({type:"RESOLVE",value:at})}).catch(at=>{ot({type:"REJECT",error:at})}),()=>{(0,A.cancelRunningTask)(rt)}},[ot,G]),(0,l.useEffect)(()=>{if(j!==void 0){if(j===!1){lt();return}it()}},[j]);function D(){K&&K()}function q(J){(0,p.default)(!1,`${J}`),H&&H(J)}const $=(0,l.useMemo)(()=>G.getViewport({scale:nt,rotation:et}),[G,et,nt]);return(0,l.useEffect)(function(){if(!tt||!G||!O||!j)return;const{current:st}=X;if(!st)return;const rt=$.clone({dontFlip:!0}),at={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:st,l10n:null,page:G,structTreeLayer:null,viewport:rt},kt={annotations:j,annotationStorage:tt.annotationStorage,div:st,imageResourcesPath:C,linkService:O,page:G,renderForms:Z,viewport:rt};st.innerHTML="";try{new g.AnnotationLayer(at).render(kt),D()}catch(vt){q(vt)}return()=>{}},[j,C,O,G,tt,Z,$]),(0,r.jsx)("div",{className:(0,h.default)("react-pdf__Page__annotations","annotationLayer"),ref:X})}return Dn}var cb;function h_(){if(cb)return ps;cb=1;var o=ps&&ps.__rest||function(O,z){var k={};for(var H in O)Object.prototype.hasOwnProperty.call(O,H)&&z.indexOf(H)<0&&(k[H]=O[H]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,H=Object.getOwnPropertySymbols(O);K<H.length;K++)z.indexOf(H[K])<0&&Object.prototype.propertyIsEnumerable.call(O,H[K])&&(k[H[K]]=O[H[K]]);return k},t=ps&&ps.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(ps,"__esModule",{value:!0}),ps.default=C;const n=kn(),s=xe(),r=t(fr()),l=t(Lf()),u=t(pr()),h=t(c_()),d=t(Xn()),p=t(zi()),g=t(u_()),v=t(a_()),y=t(HC()),_=t(IC()),A=t(BC()),E=si(),S=t(mr()),T=t(gr()),R=1;function C(O){const z=(0,S.default)(),k=Object.assign(Object.assign({},z),O),{_className:H="react-pdf__Page",_enableRegisterUnregisterPage:K=!0,canvasBackground:G,canvasRef:tt,children:Z,className:et,customRenderer:nt,customTextRenderer:dt,devicePixelRatio:ot,error:j="Failed to load the page.",height:F,inputRef:X,loading:it="Loading page",noData:lt="No page specified.",onGetAnnotationsError:D,onGetAnnotationsSuccess:q,onGetStructTreeError:$,onGetStructTreeSuccess:J,onGetTextError:st,onGetTextSuccess:rt,onLoadError:at,onLoadSuccess:kt,onRenderAnnotationLayerError:vt,onRenderAnnotationLayerSuccess:ve,onRenderError:Ge,onRenderSuccess:Ce,onRenderTextLayerError:rn,onRenderTextLayerSuccess:Qt,pageIndex:St,pageNumber:ke,pdf:Pe,registerPage:Pn,renderAnnotationLayer:ue=!0,renderForms:Yn=!1,renderMode:vn="canvas",renderTextLayer:Fn=!0,rotate:ai,scale:ne=R,unregisterPage:Hi,width:ri}=k,ws=o(k,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[Ii,$n]=(0,T.default)(),{value:Yt,error:Ts}=Ii,Bi=(0,s.useRef)(null);(0,d.default)(Pe,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const ye=(0,E.isProvided)(ke)?ke-1:St??null,Zt=ke??((0,E.isProvided)(St)?St+1:null),Re=ai??(Yt?Yt.rotate:null),Vt=(0,s.useMemo)(()=>{if(!Yt)return null;let li=1;const Ui=ne??R;if(ri||F){const Kn=Yt.getViewport({scale:1,rotation:Re});ri?li=ri/Kn.width:F&&(li=F/Kn.height)}return Ui*li},[F,Yt,Re,ne,ri]);(0,s.useEffect)(function(){return()=>{(0,E.isProvided)(ye)&&K&&Hi&&Hi(ye)}},[K,Pe,ye,Hi]);function vr(){if(kt){if(!Yt||!Vt)return;kt((0,E.makePageCallback)(Yt,Vt))}if(K&&Pn){if(!(0,E.isProvided)(ye)||!Bi.current)return;Pn(ye,Bi.current)}}function be(){Ts&&((0,p.default)(!1,Ts.toString()),at&&at(Ts))}(0,s.useEffect)(function(){$n({type:"RESET"})},[$n,Pe,ye]),(0,s.useEffect)(function(){if(!Pe||!Zt)return;const Ui=(0,r.default)(Pe.getPage(Zt)),Kn=Ui;return Ui.promise.then(yr=>{$n({type:"RESOLVE",value:yr})}).catch(yr=>{$n({type:"REJECT",error:yr})}),()=>(0,E.cancelRunningTask)(Kn)},[$n,Pe,Zt]),(0,s.useEffect)(()=>{if(Yt!==void 0){if(Yt===!1){be();return}vr()}},[Yt,Vt]);const Ve=(0,s.useMemo)(()=>Yt&&(0,E.isProvided)(ye)&&Zt&&(0,E.isProvided)(Re)&&(0,E.isProvided)(Vt)?{_className:H,canvasBackground:G,customTextRenderer:dt,devicePixelRatio:ot,onGetAnnotationsError:D,onGetAnnotationsSuccess:q,onGetStructTreeError:$,onGetStructTreeSuccess:J,onGetTextError:st,onGetTextSuccess:rt,onRenderAnnotationLayerError:vt,onRenderAnnotationLayerSuccess:ve,onRenderError:Ge,onRenderSuccess:Ce,onRenderTextLayerError:rn,onRenderTextLayerSuccess:Qt,page:Yt,pageIndex:ye,pageNumber:Zt,renderForms:Yn,renderTextLayer:Fn,rotate:Re,scale:Vt}:null,[H,G,dt,ot,D,q,$,J,st,rt,vt,ve,Ge,Ce,rn,Qt,Yt,ye,Zt,Yn,Fn,Re,Vt]),Fe=(0,s.useMemo)(()=>(0,l.default)(ws,()=>Yt&&(Vt?(0,E.makePageCallback)(Yt,Vt):void 0)),[ws,Yt,Vt]),ze=`${ye}@${Vt}/${Re}`;function zn(){switch(vn){case"custom":return(0,d.default)(nt,'renderMode was set to "custom", but no customRenderer was passed.'),(0,n.jsx)(nt,{},`${ze}_custom`);case"none":return null;case"canvas":default:return(0,n.jsx)(y.default,{canvasRef:tt},`${ze}_canvas`)}}function ln(){return Fn?(0,n.jsx)(_.default,{},`${ze}_text`):null}function ia(){return ue?(0,n.jsx)(A.default,{},`${ze}_annotations`):null}function Cs(){return(0,n.jsxs)(g.default.Provider,{value:Ve,children:[zn(),ln(),ia(),Z]})}function Kc(){return Zt?Pe===null||Yt===void 0||Yt===null?(0,n.jsx)(v.default,{type:"loading",children:typeof it=="function"?it():it}):Pe===!1||Yt===!1?(0,n.jsx)(v.default,{type:"error",children:typeof j=="function"?j():j}):Cs():(0,n.jsx)(v.default,{type:"no-data",children:typeof lt=="function"?lt():lt})}return(0,n.jsx)("div",Object.assign({className:(0,u.default)(H,et),"data-page-number":Zt,ref:(0,h.default)(X,Bi),style:{"--scale-factor":`${Vt}`,backgroundColor:G||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Fe,{children:Kc()}))}return ps}var gs={},ub;function UC(){if(ub)return gs;ub=1;var o=gs&&gs.__rest||function(p,g){var v={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&g.indexOf(y)<0&&(v[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,y=Object.getOwnPropertySymbols(p);_<y.length;_++)g.indexOf(y[_])<0&&Object.prototype.propertyIsEnumerable.call(p,y[_])&&(v[y[_]]=p[y[_]]);return v},t=gs&&gs.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(gs,"__esModule",{value:!0}),gs.default=d;const n=kn(),s=t(pr()),r=t(Xn()),l=t(h_()),u=si(),h=t(mr());function d(p){const g=(0,h.default)(),v=Object.assign(Object.assign({},g),p),{className:y,linkService:_,onItemClick:A,pageIndex:E,pageNumber:S,pdf:T}=v;(0,r.default)(T,"Attempted to load a thumbnail, but no document was specified. Wrap <Thumbnail /> in a <Document /> or pass explicit `pdf` prop.");const R=(0,u.isProvided)(S)?S-1:E??null,C=S??((0,u.isProvided)(E)?E+1:null);function O(K){K.preventDefault(),!(!(0,u.isProvided)(R)||!C)&&((0,r.default)(A||_,"Either onItemClick callback or linkService must be defined in order to navigate to an outline item."),A?A({pageIndex:R,pageNumber:C}):_&&_.goToPage(C))}const{className:z,onItemClick:k}=p,H=o(p,["className","onItemClick"]);return(0,n.jsx)("a",{className:(0,s.default)("react-pdf__Thumbnail",y),href:C?"#":void 0,onClick:O,children:(0,n.jsx)(l.default,Object.assign({},H,{_className:"react-pdf__Thumbnail__page",_enableRegisterUnregisterPage:!1,renderAnnotationLayer:!1,renderTextLayer:!1}))})}return gs}var hb;function qC(){if(hb)return Bt;hb=1;var o=Bt&&Bt.__createBinding||(Object.create?(function(A,E,S,T){T===void 0&&(T=S);var R=Object.getOwnPropertyDescriptor(E,S);(!R||("get"in R?!E.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(A,T,R)}):(function(A,E,S,T){T===void 0&&(T=S),A[T]=E[S]})),t=Bt&&Bt.__setModuleDefault||(Object.create?(function(A,E){Object.defineProperty(A,"default",{enumerable:!0,value:E})}):function(A,E){A.default=E}),n=Bt&&Bt.__importStar||function(A){if(A&&A.__esModule)return A;var E={};if(A!=null)for(var S in A)S!=="default"&&Object.prototype.hasOwnProperty.call(A,S)&&o(E,A,S);return t(E,A),E},s=Bt&&Bt.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.PasswordResponses=Bt.usePageContext=Bt.useOutlineContext=Bt.useDocumentContext=Bt.Thumbnail=Bt.Page=Bt.Outline=Bt.Document=Bt.pdfjs=void 0;const r=n(Nl);Bt.pdfjs=r;const l=s(OC());Bt.Document=l.default;const u=s(jC());Bt.Outline=u.default;const h=s(h_());Bt.Page=h.default;const d=s(UC());Bt.Thumbnail=d.default;const p=s(mr());Bt.useDocumentContext=p.default;const g=s(o_());Bt.useOutlineContext=g.default;const v=s(jl());Bt.usePageContext=v.default;const y=s(r_());return Bt.PasswordResponses=y.default,(0,si().displayWorkerWarning)(),r.GlobalWorkerOptions.workerSrc="pdf.worker.mjs",Bt}var db;function GC(){if(db)return Ya;db=1;var o=Ya&&Ya.__awaiter||function(s,r,l,u){function h(d){return d instanceof l?d:new l(function(p){p(d)})}return new(l||(l=Promise))(function(d,p){function g(_){try{y(u.next(_))}catch(A){p(A)}}function v(_){try{y(u.throw(_))}catch(A){p(A)}}function y(_){_.done?d(_.value):h(_.value).then(g,v)}y((u=u.apply(s,r||[])).next())})};Object.defineProperty(Ya,"__esModule",{value:!0});const t=qC();t.pdfjs.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${t.pdfjs.version}/pdf.worker.mjs`;const n=s=>o(void 0,void 0,void 0,function*(){const r=URL.createObjectURL(s),l=t.pdfjs.getDocument(r);let u="";try{const h=yield l.promise,d=h.numPages;for(let p=1;p<=d;p++){const y=(yield(yield h.getPage(p)).getTextContent()).items.map(_=>"str"in _?_.str:"").join(" ");u+=y}}catch(h){throw new Error(`Failed to extract text from PDF: ${h}`)}finally{URL.revokeObjectURL(r),l.destroy()}return u});return Ya.default=n,Ya}var VC=GC();const XC=cr(VC);function YC({onTextExtracted:o}){const[t,n]=M.useState(""),[s,r]=M.useState(""),[l,u]=M.useState(!1),h=async d=>{const p=d.target.files?.[0];if(p){n(p.name),r(""),u(!0);try{const g=await XC(p);g.trim()?o(g):r("We couldn't find any text in that PDF.")}catch(g){console.error(g),r("We couldn't read that PDF. Try another file?")}finally{u(!1)}}};return x.jsx(ct,{className:"shadow-sm mt-3",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Or upload a privacy policy PDF"}),x.jsx(ct.Text,{children:"Upload a PDF version of a privacy policy. ClearTerms will extract the text directly in your browser and analyze it just like pasted text."}),x.jsxs(bs.Group,{controlId:"policyPdf",children:[x.jsx(bs.Label,{children:"PDF file"}),x.jsx(bs.Control,{type:"file",accept:"application/pdf",onChange:h}),t&&x.jsxs(bs.Text,{className:"text-muted d-block mt-1",children:["Selected file: ",t]})]}),l&&x.jsx("p",{className:"mt-2 mb-0",children:"Extracting text from PDF"}),s&&x.jsx(Fb,{variant:"danger",className:"mt-2 mb-0",children:s})]})})}function $C({policyText:o,onPolicyTextChange:t,onAnalyze:n}){const s=Jd(),r=u=>{n(u),s("/dashboard")},l=u=>{t(u),r(u)};return x.jsxs("section",{className:"clearterms-hero",children:[x.jsx(an,{className:"mb-4",children:x.jsxs(me,{md:7,children:[x.jsx("h1",{children:"ClearTerms"}),x.jsx("p",{className:"lead",children:"A friendly way to skim long privacy policies. Paste text or upload a PDF, and well surface key risks and user rights using simple visual cues."})]})}),x.jsx(an,{children:x.jsxs(me,{md:12,children:[x.jsx(k1,{policyText:o,onPolicyTextChange:t,onAnalyze:r}),x.jsx(YC,{onTextExtracted:l})]})})]})}function KC({analysis:o}){const{categories:t,riskScore:n,positiveScore:s}=o;return x.jsx(ct,{className:"mb-3 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Quick Summary"}),x.jsx(ct.Subtitle,{className:"mb-2 text-muted",children:"Combined keyword check (not legal advice!)"}),x.jsxs(Ot,{variant:"flush",children:[x.jsxs(Ot.Item,{children:[x.jsx("span",{className:"fw-semibold",children:"Data collection "}),x.jsx(Vn,{bg:"secondary",className:"me-1",children:t.dataCollection}),x.jsx("span",{className:"text-muted small",children:"mentions of tracking, cookies, analytics, device info, etc."})]}),x.jsxs(Ot.Item,{children:[x.jsx("span",{className:"fw-semibold",children:"Third-party sharing "}),x.jsx(Vn,{bg:"secondary",className:"me-1",children:t.thirdPartySharing}),x.jsx("span",{className:"text-muted small",children:"references to partners, advertisers, or service providers."})]}),x.jsxs(Ot.Item,{children:[x.jsx("span",{className:"fw-semibold",children:"Data retention "}),x.jsx(Vn,{bg:"secondary",className:"me-1",children:t.dataRetention}),x.jsx("span",{className:"text-muted small",children:"how long they say they keep your data."})]}),x.jsxs(Ot.Item,{children:[x.jsx("span",{className:"fw-semibold",children:"User rights mentioned "}),x.jsx(Vn,{bg:"success",className:"me-1",children:t.userRights}),x.jsx("span",{className:"text-muted small",children:"delete / access / opt-out and similar rights."})]}),x.jsxs(Ot.Item,{children:[x.jsx("span",{className:"fw-semibold",children:"Total risk signals "}),x.jsx(Vn,{bg:"danger",className:"me-1",children:n}),x.jsx("span",{className:"fw-semibold",children:" Positive protections "}),x.jsx(Vn,{bg:"success",className:"me-1",children:s}),x.jsx("div",{className:"text-muted small mt-1",children:"Higher red numbers usually mean more potential risky areas; higher green numbers mean the policy talks more about your rights."})]})]})]})})}function WC({trustScore:o,trustLabel:t}){let n="";t==="Low"?n="Many potential risk areas. Consider limiting what data you share or looking for alternatives.":t==="High"?n="Relatively fewer risk signals and more user rights referenced. Still read carefully.":n="Some risk areas and some protections. Pay attention to tracking, sharing, and your rights.";let s="secondary";return o<=40?s="danger":o<=79?s="warning":s="success",x.jsx(ct,{className:"mb-3 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Trust Meter"}),x.jsx(ct.Text,{className:"mb-1",children:"Overall privacy-friendliness score based on detected keywords."}),x.jsx(C0,{now:o,variant:s,className:"mb-1"}),x.jsxs(ct.Text,{className:"mb-1 fw-semibold",children:["Score: ",o,"/100 (",t," trust)"]}),x.jsx(ct.Text,{className:"mb-0",children:n}),x.jsx(ct.Text,{className:"text-muted small mt-1",children:"040: more concerning  4179: mixed  80100: more user-friendly language."})]})})}function QC(o){return o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ZC({text:o,keywordSets:t}){const[n,s]=M.useState(!1),r=M.useMemo(()=>{if(!o)return"";const l=[...t.dataCollection,...t.thirdPartySharing,...t.dataRetention].map(p=>p.toLowerCase()),u=t.userRights.map(p=>p.toLowerCase()),h=[...new Set([...l,...u])];if(h.length===0)return o;const d=new RegExp(`(${h.map(QC).join("|")})`,"gi");return o.replace(d,p=>{const g=p.toLowerCase();return u.includes(g)?`<mark class="positive-term">${p}</mark>`:l.includes(g)?`<mark class="risky-term">${p}</mark>`:p})},[o,t]);return x.jsx(ct,{className:"shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[x.jsxs("div",{children:[x.jsx(ct.Title,{className:"mb-0",children:"Highlights View"}),x.jsx(ct.Text,{className:"mb-0 small text-muted",children:"Risky terms are highlighted in red; user rights in green."})]}),x.jsx(Ml,{variant:"outline-secondary",size:"sm",onClick:()=>s(l=>!l),"aria-expanded":n,children:n?"Hide full text":"Show full text"})]}),n?x.jsx("div",{className:"highlighted-text mt-2",dangerouslySetInnerHTML:{__html:r}}):x.jsx(ct.Text,{className:"text-muted mb-0",children:"Click Show full text to view the policy with highlighted phrases."})]})})}function JC({analysis:o}){if(!o)return null;const{categories:t,riskScore:n,positiveScore:s,trustScore:r,trustLabel:l}=o,u=[];return t.dataCollection>=40?u.push({title:"Heavy tracking & data collection",body:"This policy mentions tracking, analytics, or data collection quite often. Expect cookies, usage logs, and device data to be collected whenever you use the service.",variant:"danger"}):t.dataCollection>=15?u.push({title:"Moderate data collection",body:"The policy talks about collecting usage data and device information. This is common, but you may want to limit tracking where possible.",variant:"warning"}):t.dataCollection>0&&u.push({title:"Limited data collection language",body:"Data collection is mentioned, but not heavily. It still happens, but the policy doesnt lean on tracking language.",variant:"success"}),t.thirdPartySharing>=40?u.push({title:"Lots of third-party sharing",body:"There are many references to partners, vendors, or advertisers. Your data is likely shared widely with other companies.",variant:"danger"}):t.thirdPartySharing>=15?u.push({title:"Some third-party sharing",body:"The service relies on partners or service providers and may share your data with them. Check whether this includes advertisers or just operational vendors.",variant:"warning"}):t.thirdPartySharing>0&&u.push({title:"Limited third-party sharing language",body:"The policy mentions third parties, but not constantly. Sharing might be limited to essential providers.",variant:"success"}),t.dataRetention>=15?u.push({title:"Long or vague data retention",body:"The policy frequently mentions retention or storage. Watch for phrases like for as long as necessary without clear limits, which can mean data is kept for a long time.",variant:"warning"}):t.dataRetention>0&&u.push({title:"Some details on how long data is kept",body:"Retention is discussed, which is good. Check whether they give specific time frames or only general statements.",variant:"success"}),t.userRights===0?u.push({title:"Few explicit user rights mentioned",body:"We didnt detect clear references to rights like accessing, deleting, or exporting your data. Those rights might still exist under law, but they arent highlighted in this policy.",variant:"danger"}):t.userRights<5?u.push({title:"Some user rights mentioned",body:"The policy mentions at least a few rights (like access or deletion). Make sure you understand how to actually exercise them.",variant:"warning"}):u.push({title:"User rights are emphasized",body:"There are many references to your rights (access, deletion, objection, etc.). Thats a good signlook for clear instructions on how to submit requests.",variant:"success"}),x.jsx(ct,{className:"mb-3 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"What this policy seems to say"}),x.jsx(ct.Subtitle,{className:"mb-2 text-muted small",children:"Based on simple keyword counts  use this as a conversation starter, not legal advice."}),x.jsxs(Ot,{variant:"flush",children:[x.jsxs(Ot.Item,{children:[x.jsxs("div",{className:"d-flex align-items-center",children:[x.jsx("span",{className:"fw-semibold me-2",children:"Overall trust score:"}),x.jsxs(Vn,{bg:r<=40?"danger":r>=80?"success":"warning",children:[r,"/100  ",l," trust"]})]}),x.jsx("div",{className:"text-muted small mt-1",children:"Higher scores suggest more user-friendly language and more references to your rights."})]}),u.map((h,d)=>x.jsx(Ot.Item,{children:x.jsxs("div",{className:"d-flex align-items-start",children:[x.jsx(Vn,{bg:h.variant,className:"me-2 mt-1",children:"Note"}),x.jsxs("div",{children:[x.jsx("div",{className:"fw-semibold",children:h.title}),x.jsx("div",{className:"small text-muted",children:h.body})]})]})},d))]})]})})}function tR({analysis:o,policyText:t,keywordSets:n}){if(!o||!t.trim())return x.jsxs(Fb,{variant:"info",className:"mt-4",children:["No analysis to display yet. Paste a policy on the"," ",x.jsx("strong",{children:"Home"})," page and click ",x.jsx("strong",{children:"Analyze Policy"}),"."]});const{trustScore:s,trustLabel:r}=o;return x.jsxs("section",{className:"mt-4",children:[x.jsxs(an,{className:"mb-3",children:[x.jsx(me,{md:6,children:x.jsx(KC,{analysis:o})}),x.jsx(me,{md:6,children:x.jsx(WC,{trustScore:s,trustLabel:r})})]}),x.jsx(an,{className:"mb-3",children:x.jsx(me,{md:12,children:x.jsx(JC,{analysis:o})})}),x.jsx(an,{children:x.jsx(me,{md:12,children:x.jsx(ZC,{text:t,keywordSets:n})})})]})}function eR({history:o,onSelect:t,onDelete:n}){return x.jsx(ct,{className:"shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Analysis History"}),x.jsx(ct.Text,{children:"Click a previous analysis to reload its text and summary."}),o.length===0?x.jsx(ct.Text,{className:"text-muted mb-0",children:"No analyses saved yet. Run your first analysis on the Home page!"}):x.jsx(Ot,{variant:"flush",children:o.map(s=>{const r=new Date(s.createdAt).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),l=s.analysis.riskScore;let u="success";return l>=120?u="danger":l>=60&&(u="warning"),x.jsxs(Ot.Item,{as:"div",className:"d-flex justify-content-between align-items-start",children:[x.jsxs("button",{type:"button",className:"btn btn-link p-0 text-start flex-grow-1",onClick:()=>t(s),children:[x.jsx("div",{className:"fw-semibold",children:r}),x.jsx("div",{className:"text-muted small",children:s.snippet})]}),x.jsxs("div",{className:"ms-2 d-flex flex-column align-items-end",children:[x.jsxs(Vn,{bg:u,className:"mb-1",children:["Risk ",l]}),x.jsx(Ml,{variant:"outline-danger",size:"sm",onClick:h=>{h.stopPropagation(),n(s.id)},"aria-label":"Delete this analysis from history",children:""})]})]},s.id)})})]})})}function nR({history:o,onSelectHistory:t,onDeleteHistoryEntry:n,onClearHistory:s}){const r=Jd(),l=u=>{t(u),r("/dashboard")};return x.jsxs("section",{className:"mt-4",children:[x.jsx(an,{className:"mb-3",children:x.jsxs(me,{className:"d-flex justify-content-between align-items-center",children:[x.jsx("h2",{className:"mb-0",children:"History"}),o.length>0&&x.jsx(Ml,{variant:"outline-secondary",size:"sm",onClick:s,children:"Clear all"})]})}),x.jsx(an,{children:x.jsx(me,{md:12,children:x.jsx(eR,{history:o,onSelect:l,onDelete:n})})})]})}function iR(){return x.jsxs("section",{className:"mt-4",children:[x.jsx(an,{className:"mb-4",children:x.jsxs(me,{md:8,children:[x.jsx("h2",{children:"Privacy resources"}),x.jsx("p",{className:"text-muted",children:"ClearTerms is a quick first pass. Use these guides, tools, and organizations to go deeper and make informed choices."})]})}),x.jsxs(an,{className:"g-3 mb-4 resources-grid",children:[x.jsx(me,{md:4,children:x.jsx(ct,{className:"h-100 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsxs(ct.Title,{children:[x.jsx("span",{role:"img","aria-label":"document",children:""})," ","Know your rights"]}),x.jsxs(Ot,{variant:"flush",className:"small",children:[x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"GDPR (EU)"}),"  Explains rights like access, deletion, and data portability.",x.jsx("br",{}),x.jsx(ct.Link,{href:"https://gdpr.eu/",target:"_blank",rel:"noreferrer",children:"Visit gdpr.eu"})]}),x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"US FTC privacy & security"}),"  Practical tips and complaints process.",x.jsx("br",{}),x.jsx(ct.Link,{href:"https://www.ftc.gov/business-guidance/privacy-security",target:"_blank",rel:"noreferrer",children:"FTC resources"})]}),x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"CCPA / CPRA (California)"}),"  State-level rules for Californians.",x.jsx("br",{}),x.jsx(ct.Link,{href:"https://oag.ca.gov/privacy/ccpa",target:"_blank",rel:"noreferrer",children:"CA privacy portal"})]})]})]})})}),x.jsx(me,{md:4,children:x.jsx(ct,{className:"h-100 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsxs(ct.Title,{children:[x.jsx("span",{role:"img","aria-label":"shield",children:""})," ","Tools & settings"]}),x.jsxs(Ot,{variant:"flush",className:"small",children:[x.jsxs(Ot.Item,{children:["Browser extensions like"," ",x.jsx("span",{className:"fw-semibold",children:"uBlock Origin"})," or"," ",x.jsx("span",{className:"fw-semibold",children:"Privacy Badger"})," can block trackers on many sites."]}),x.jsxs(Ot.Item,{children:["Visit your account's"," ",x.jsx("span",{className:"fw-semibold",children:"privacy / security"})," page to control:",x.jsxs("ul",{className:"mb-0",children:[x.jsx("li",{children:"Ad personalization and analytics"}),x.jsx("li",{children:"Location history"}),x.jsx("li",{children:"Download / delete your data"})]})]}),x.jsx(Ot.Item,{children:"On your phone, review app permissions (camera, mic, location) and revoke anything that doesn't make sense."})]})]})})}),x.jsx(me,{md:4,children:x.jsx(ct,{className:"h-100 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsxs(ct.Title,{children:[x.jsx("span",{role:"img","aria-label":"books",children:""})," ","Learn & get help"]}),x.jsxs(Ot,{variant:"flush",className:"small",children:[x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"Electronic Frontier Foundation (EFF)"}),"  Deep dives on surveillance, tracking, and digital rights.",x.jsx("br",{}),x.jsx(ct.Link,{href:"https://www.eff.org/issues/privacy",target:"_blank",rel:"noreferrer",children:"EFF privacy page"})]}),x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"Local consumer protection agencies"}),"  Many countries and states have offices that handle privacy complaints and questions."]}),x.jsxs(Ot.Item,{children:["Look for books and talks on"," ",x.jsx("span",{className:"fw-semibold",children:"data justice, algorithmic bias, and dark patterns"})," ","to understand the bigger picture behind privacy policies."]})]})]})})})]}),x.jsx(an,{children:x.jsx(me,{md:8,children:x.jsx(ct,{className:"shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Using ClearTerms in your routine"}),x.jsxs(ct.Text,{className:"small mb-0",children:["When you try a new service, run its policy through ClearTerms, skim the dashboard, and pay attention to the notes under"," ",x.jsx("strong",{children:"What this policy seems to say"}),". Save a few policies in"," ",x.jsx(Vn,{bg:"secondary",children:"History"})," so you can compare services over time."]})]})})})})]})}function sR(){return x.jsxs("section",{className:"mt-4",children:[x.jsx(an,{className:"mb-4",children:x.jsxs(me,{md:8,children:[x.jsx("h2",{children:"How ClearTerms works"}),x.jsx("p",{className:"text-muted",children:"ClearTerms gives you a quick, visual read on privacy policies. It doesn't replace legal advice, but it helps you spot patterns and decide how comfortable you feel using a service."})]})}),x.jsxs(an,{className:"g-3 mb-3 how-grid",children:[x.jsx(me,{md:4,children:x.jsx(ct,{className:"h-100 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"1. Keyword scan"}),x.jsx(ct.Text,{children:"We scan the policy text for keywords in four buckets:"}),x.jsxs(Ot,{variant:"flush",className:"small",children:[x.jsx(Ot.Item,{children:"Data collection (cookies, analytics, device info)"}),x.jsx(Ot.Item,{children:"Third-party sharing (ads, partners, selling)"}),x.jsx(Ot.Item,{children:"Data retention (how long they keep things)"}),x.jsx(Ot.Item,{children:"User rights (access, delete, opt-out, etc.)"})]})]})})}),x.jsx(me,{md:4,children:x.jsx(ct,{className:"h-100 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"2. Trust score"}),x.jsx(ct.Text,{children:"We start from a baseline of 85 and adjust based on what we find:"}),x.jsxs(Ot,{variant:"flush",className:"small",children:[x.jsx(Ot.Item,{children:"-2 points for each risk signal (collect / share / retain)"}),x.jsx(Ot.Item,{children:"+1.5 points for each user-right mention"}),x.jsx(Ot.Item,{children:"Score is clamped between 0 and 100"})]}),x.jsx(ct.Text,{className:"small mt-2 mb-0",children:"039 = Low trust, 4069 = Mixed, 70100 = High."})]})})}),x.jsx(me,{md:4,children:x.jsx(ct,{className:"h-100 shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"3. Visual overview"}),x.jsx(ct.Text,{className:"small",children:"The dashboard combines:"}),x.jsxs(Ot,{variant:"flush",className:"small",children:[x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"Quick Summary"}),": category counts"]}),x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"Trust Meter"}),": a single 0100 score"]}),x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"Highlights View"}),": original text with color-coded terms"]}),x.jsxs(Ot.Item,{children:[x.jsx("strong",{children:"Explanation notes"}),": plain-language hints about risks and rights"]})]})]})})})]}),x.jsx(an,{children:x.jsx(me,{md:8,children:x.jsx(ct,{className:"shadow-sm",children:x.jsxs(ct.Body,{children:[x.jsx(ct.Title,{children:"Important note"}),x.jsx(ct.Text,{className:"small mb-0",children:"ClearTerms is a research/learning tool. It doesn't read every nuance of a legal document, and a low or high score isn't a guarantee of safety or risk. Use it to ask better questions, compare services, and decide what you're comfortable with."})]})})})})]})}const d_={dataCollection:["collect","collection","gather","record","store","information we collect","data we collect","cookies","cookie","tracking technologies","tracking tools","pixels","web beacons","tags","sdk","analytics","google analytics","mixpanel","segment","page views","ip address","device id","device identifier","advertising id","ad id","idfa","gaid","browser type","browser version","operating system","os version","network provider","mobile carrier","location data","geolocation","gps","precise location","approximate location","profile information","contact information","email address","phone number","username","payment information","billing information","demographic information","age","date of birth","biometric","biometric data","face recognition","facial recognition","fingerprint","voiceprint","iris scan","retina scan","automated decision-making","profiling","personalized recommendations"],thirdPartySharing:["third party","third parties","third-party","share","sharing","shared","disclose","disclosure","selling","sell","sold","sale of personal information","data broker","data brokers","partners","business partners","affiliates","subsidiaries","group companies","vendors","service providers","processors","sub-processors","advertisers","ad networks","ad partners","social networks","social media platforms","law enforcement","government authorities"],dataRetention:["retain","retention","store","storage","preserve","archive","archival","keep","retention period","storage period","data retention period","for as long as necessary","for as long as needed","for as long as required","for as long as you use","until you delete","until your account is closed","for legal reasons","to comply with legal obligations","backup copies","backups","logs","log files"],userRights:["your rights","data subject rights","privacy rights","access your data","right of access","delete your data","erasure","right to erasure","rectify","rectification","correct your data","update your information","object to processing","right to object","restrict processing","restriction of processing","withdraw consent","withdraw your consent","opt out","opt-out","opt in","opt-in","do not sell","do not share","data portability","portable copy","complaint","lodge a complaint","supervisory authority","appeal","appeals process","privacy settings","manage preferences","cookie preferences"]};function aR(o){const t=o.toLowerCase(),n={dataCollection:0,thirdPartySharing:0,dataRetention:0,userRights:0},s=g=>g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");Object.entries(d_).forEach(([g,v])=>{let y=0;v.forEach(_=>{const A=new RegExp("\\b"+s(_.toLowerCase())+"\\b","gi"),E=t.match(A);E&&(y+=E.length)}),n[g]=y});const r=n.dataCollection+n.thirdPartySharing+n.dataRetention,l=n.userRights,u=Math.min(r,30),h=Math.min(l,15);let d=85-u*2+h*1.5;d=Math.max(0,Math.min(100,Math.round(d)));let p="Mixed";return d<=40?p="Low":d>=80&&(p="High"),{categories:n,riskScore:r,positiveScore:l,trustScore:d,trustLabel:p}}function rR(){const[o,t]=M.useState(""),[n,s]=M.useState(()=>{if(typeof window>"u")return"";try{return window.sessionStorage.getItem("clearterms-policy-text")||""}catch{return""}}),[r,l]=M.useState(()=>{if(typeof window>"u")return null;try{const y=window.sessionStorage.getItem("clearterms-analysis");return y?JSON.parse(y):null}catch{return null}}),[u,h]=M.useState(()=>{if(typeof window>"u")return[];try{const y=window.sessionStorage.getItem("clearterms-history");return y?JSON.parse(y):[]}catch{return[]}});M.useEffect(()=>{if(!(typeof window>"u"))try{window.sessionStorage.setItem("clearterms-policy-text",n),r?window.sessionStorage.setItem("clearterms-analysis",JSON.stringify(r)):window.sessionStorage.removeItem("clearterms-analysis"),window.sessionStorage.setItem("clearterms-history",JSON.stringify(u))}catch{}},[n,r,u]);const d=y=>{const _=y.trim();if(!_)return;const A=aR(_);s(_),l(A);const E={id:Date.now(),createdAt:new Date().toISOString(),text:_,snippet:_.slice(0,160)+(_.length>160?"...":""),analysis:A};h(S=>[E,...S].slice(0,20))},p=y=>{s(y.text),l(y.analysis)},g=y=>{h(_=>_.filter(A=>A.id!==y))},v=()=>{h([]),s(""),l(null)};return x.jsxs(x.Fragment,{children:[x.jsx(j1,{}),x.jsx("main",{children:x.jsx(lf,{children:x.jsxs(TS,{children:[x.jsx(Ja,{path:"/",element:x.jsx($C,{policyText:o,onPolicyTextChange:t,onAnalyze:y=>{d(y),t("")}})}),x.jsx(Ja,{path:"/dashboard",element:x.jsx(tR,{analysis:r,policyText:n,keywordSets:d_})}),x.jsx(Ja,{path:"/history",element:x.jsx(nR,{history:u,onSelectHistory:p,onDeleteHistoryEntry:g,onClearHistory:v})}),x.jsx(Ja,{path:"/resources",element:x.jsx(iR,{})}),x.jsx(Ja,{path:"/how-it-works",element:x.jsx(sR,{})})]})})})]})}kE.createRoot(document.getElementById("root")).render(x.jsx(jS,{children:x.jsx(rR,{})}));
